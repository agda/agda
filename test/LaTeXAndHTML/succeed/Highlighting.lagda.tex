%% This file was originally generated by agda2lagda 0.2025.9.5.

\documentclass{article}
\usepackage{agda}
\usepackage{amsfonts} % \mathbb
\usepackage[verbose]{newunicodechar}

%% Note: only a few of those are used in the main text,
%% and not all of these commands work correctly.
\newunicodechar{Â }{{\,}}
\newunicodechar{Â¬}{\ensuremath{\neg}} %
\newunicodechar{Â²}{^2}
\newunicodechar{Â³}{^3}
\newunicodechar{Â·}{\ensuremath{\cdot}}
\newunicodechar{Â¹}{^1}
\newunicodechar{Ã—}{\ensuremath{\times}} %
\newunicodechar{Ã·}{\ensuremath{\div}} %
\newunicodechar{Ê³}{^r}
\newunicodechar{Ë¡}{^l}
\newunicodechar{Î“}{\Gamma}   %
\newunicodechar{Î”}{\ensuremath{\Delta}} %
\newunicodechar{Î—}{\ensuremath{\textrm{H}}} %
\newunicodechar{Î˜}{\ensuremath{\Theta}} %
\newunicodechar{Î›}{\ensuremath{\Lambda}} %
\newunicodechar{Î}{\ensuremath{\Xi}} %
\newunicodechar{Î }{\ensuremath{\Pi}}   %
\newunicodechar{Î£}{\ensuremath{\Sigma}} %
\newunicodechar{Î¦}{\ensuremath{\Phi}} %
\newunicodechar{Î¨}{\ensuremath{\Psi}} %
\newunicodechar{Î©}{\ensuremath{\Omega}} %
\newunicodechar{Î±}{\ensuremath{\mathnormal{\alpha}}} %
\newunicodechar{Î²}{\ensuremath{\beta}} %
\newunicodechar{Î³}{\ensuremath{\mathnormal{\gamma}}} %
\newunicodechar{Î´}{\ensuremath{\mathnormal{\delta}}} %
\newunicodechar{Îµ}{\ensuremath{\mathnormal{\varepsilon}}} %
\newunicodechar{Î¶}{\ensuremath{\mathnormal{\zeta}}} %
\newunicodechar{Î·}{\ensuremath{\mathnormal{\eta}}} %
\newunicodechar{Î¸}{\ensuremath{\mathnormal{\theta}}} %
\newunicodechar{Î¹}{\ensuremath{\mathnormal{\iota}}} %
\newunicodechar{Îº}{\ensuremath{\mathnormal{\kappa}}} %
\newunicodechar{Î»}{\ensuremath{\mathnormal{\lambda}}} %
\newunicodechar{Î¼}{\ensuremath{\mathnormal{\mu}}} %
\newunicodechar{Î½}{\ensuremath{\mathnormal{\mu}}} %
\newunicodechar{Î¾}{\ensuremath{\mathnormal{\xi}}} %
\newunicodechar{Ï€}{\ensuremath{\mathnormal{\pi}}} %
\newunicodechar{Ï}{\ensuremath{\mathnormal{\rho}}} %
\newunicodechar{Ïƒ}{\ensuremath{\mathnormal{\sigma}}} %
\newunicodechar{Ï„}{\ensuremath{\mathnormal{\tau}}} %
\newunicodechar{Ï†}{\ensuremath{\mathnormal{\varphi}}} %
\newunicodechar{Ï‡}{\ensuremath{\mathnormal{\chi}}} %
\newunicodechar{Ïˆ}{\ensuremath{\mathnormal{\psi}}} %
\newunicodechar{Ï‰}{\ensuremath{\mathnormal{\omega}}} %
\newunicodechar{Ï•}{\ensuremath{\mathnormal{\phi}}} %
\newunicodechar{Ïµ}{\ensuremath{\mathnormal{\epsilon}}} %
\newunicodechar{áµ}{^k}
\newunicodechar{áµ¢}{_i} %
\newunicodechar{â€¢}{\ensuremath{\cdot}} %
\newunicodechar{â€¯}{{\,}}
\newunicodechar{â€²}{\ensuremath{^\prime}}  %
\newunicodechar{â€³}{\ensuremath{^\second}} %
\newunicodechar{â€´}{\ensuremath{^\third}}  %
\newunicodechar{â±}{^i}
\newunicodechar{âµ}{\ensuremath{^5}}
\newunicodechar{âº}{\ensuremath{^+}} %%
\newunicodechar{â»}{\ensuremath{^-}} %%
\newunicodechar{â¿}{^n}
\newunicodechar{â‚€}{\ensuremath{_0}} %
\newunicodechar{â‚}{\ensuremath{_1}}
\newunicodechar{â‚‚}{\ensuremath{_2}}
\newunicodechar{â‚ƒ}{\ensuremath{_3}}
\newunicodechar{â‚„}{\ensuremath{_4}}
\newunicodechar{â‚…}{\ensuremath{_5}}
\newunicodechar{â‚†}{\ensuremath{_6}}
\newunicodechar{â‚Š}{\ensuremath{_+}} %%
\newunicodechar{â‚‹}{\ensuremath{_-}} %%
\newunicodechar{â‚™}{_n}
\newunicodechar{â‚š}{_p} %
\newunicodechar{â„‚}{\ensuremath{\mathds{C}}} %
\newunicodechar{â„•}{\ensuremath{\mathbb{N}}} %
\newunicodechar{â„}{\ensuremath{\mathbb{R}}} %
\newunicodechar{â„¤}{\ensuremath{\mathbb{Z}}} %
\newunicodechar{â„³}{\mathcal{M}}
\newunicodechar{â…‹}{\ensuremath{\parr}} %
\newunicodechar{â†}{\ensuremath{\leftarrow}} %
\newunicodechar{â†‘}{\ensuremath{\uparrow}} %
\newunicodechar{â†“}{\ensuremath{\downarrow}} %
\newunicodechar{â†’}{\ensuremath{\rightarrow}} %
\newunicodechar{â†”}{\ensuremath{\leftrightarrow}} %
\newunicodechar{â†–}{\nwarrow} %
\newunicodechar{â†—}{\nearrow} %
\newunicodechar{â†}{\ensuremath{\rightsquigarrow}}
\newunicodechar{â†¦}{\ensuremath{\mapsto}}
\newunicodechar{â†­}{\ensuremath{\leftrightsquigarrow}} %
\newunicodechar{â†¾}{\ensuremath{\upharpoonright}} %
\newunicodechar{â†¿}{\ensuremath{\upharpoonleft}} %
\newunicodechar{â‡†}{\ensuremath{\leftrightarrows}} %
\newunicodechar{â‡}{\ensuremath{\Leftarrow}} %
\newunicodechar{â‡’}{\ensuremath{\Rightarrow}} %
\newunicodechar{â‡”}{\ensuremath{\Leftrightarrow}} %
\newunicodechar{âˆ€}{\ensuremath{\forall}}   %
\newunicodechar{âˆƒ}{\ensuremath{\exists}} %
\newunicodechar{âˆ…}{\ensuremath{\varnothing}} %
\newunicodechar{âˆˆ}{\ensuremath{\in}}
\newunicodechar{âˆ‰}{\ensuremath{\not\in}} %
\newunicodechar{âˆ‹}{\ensuremath{\ni}}  %
\newunicodechar{âˆ}{\ensuremath{\qed}}
\newunicodechar{âˆ}{\prod}
\newunicodechar{âˆ‘}{\sum}
\newunicodechar{âˆ—}{\ensuremath{\ast}} %
\newunicodechar{âˆ˜}{\ensuremath{\circ}} %
\newunicodechar{âˆ™}{\ensuremath{\bullet}} %
\newunicodechar{âˆ™}{\ensuremath{\cdot}}
\newunicodechar{âˆ}{\ensuremath{\infty}} %
\newunicodechar{âˆ£}{\ensuremath{\mid}} %
\newunicodechar{âˆ§}{\ensuremath{\wedge}}%
\newunicodechar{âˆ¨}{\ensuremath{\vee}}%
\newunicodechar{âˆ©}{\ensuremath{\cap}} %
\newunicodechar{âˆª}{\ensuremath{\cup}} %
\newunicodechar{âˆ«}{\int}
\newunicodechar{âˆ·}{::} %
\newunicodechar{âˆ¼}{\ensuremath{\sim}} %
\newunicodechar{â‰ƒ}{\ensuremath{\simeq}} %
\newunicodechar{â‰…}{\ensuremath{\cong}} %
\newunicodechar{â‰ˆ}{\ensuremath{\approx}} %
\newunicodechar{â‰”}{:=} %
\newunicodechar{â‰œ}{\ensuremath{\stackrel{\scriptscriptstyle {\triangle}}{=}}}
\newunicodechar{â‰œ}{\triangleq}
\newunicodechar{â‰}{\ensuremath{\stackrel{\scriptscriptstyle {\text{def}}}{=}}}
\newunicodechar{â‰Ÿ}{\ensuremath{\stackrel {_\text{\textbf{?}}}{\text{\textbf{=}}\negthickspace\negthickspace\text{\textbf{=}}}}}
\newunicodechar{â‰ }{\ensuremath{\neq}}%
\newunicodechar{â‰¡}{\ensuremath{\equiv}}%
\newunicodechar{â‰¤}{\ensuremath{\leq}} %
\newunicodechar{â‰¥}{\ensuremath{\geq}} %
\newunicodechar{â‰º}{\ensuremath{\prec}}
\newunicodechar{â‰¼}{\ensuremath{\preceq}}
\newunicodechar{âŠ‚}{\ensuremath{\subset}} %
\newunicodechar{âŠƒ}{\ensuremath{\supset}} %
\newunicodechar{âŠ†}{\ensuremath{\subseteq}} %
\newunicodechar{âŠ‡}{\ensuremath{\supseteq}} %
\newunicodechar{âŠ}{\ensuremath{\uplus}} %
\newunicodechar{âŠ‘}{\ensuremath{\sqsubseteq}} %
\newunicodechar{âŠ’}{\ensuremath{\sqsupseteq}} %
\newunicodechar{âŠ“}{\ensuremath{\sqcap}} %
\newunicodechar{âŠ”}{\ensuremath{\sqcup}} %
\newunicodechar{âŠ•}{\ensuremath{\oplus}} %
\newunicodechar{âŠ—}{\ensuremath{\otimes}} %
\newunicodechar{âŠ}{\ensuremath{\boxplus}} %
\newunicodechar{âŠŸ}{\ensuremath{\boxminus}} %
\newunicodechar{âŠ¡}{\ensuremath{\boxdot}} %
\newunicodechar{âŠ¢}{\ensuremath{\vdash}} %
\newunicodechar{âŠ£}{\ensuremath{\dashv}}
\newunicodechar{âŠ¤}{\ensuremath{\top}}%
\newunicodechar{âŠ¥}{\ensuremath{\bot}} % bottom
\newunicodechar{âŠ§}{\vDash} %
\newunicodechar{âŠ¨}{\vDash} %
\newunicodechar{âŠ©}{\Vdash}
\newunicodechar{âŠ¸}{\ensuremath{\multimap}} %
\newunicodechar{â‹}{\ensuremath{\bigvee}}
\newunicodechar{â‹ƒ}{\ensuremath{\bigcup}} %
\newunicodechar{â‹„}{\ensuremath{\diamond}} %
\newunicodechar{â‹†}{\ensuremath{\star}} %
\newunicodechar{â‹®}{\ensuremath{\vdots}} %
\newunicodechar{â‹¯}{\ensuremath{\cdots}} %
\newunicodechar{â”€}{---}
\newunicodechar{â–¡}{\ensuremath{\Box}} %
\newunicodechar{â–¹}{\ensuremath{\rhd}} %
\newunicodechar{â—‚}{\ensuremath{\triangleleft}}
\newunicodechar{â–´}{\ensuremath{\mathbin{\triangle}}}
\newunicodechar{â—ƒ}{\triangleleft{}} %
\newunicodechar{â—†}{\blacklozenge} %
\newunicodechar{â—‡}{\ensuremath{\Diamond}} %
\newunicodechar{â—½}{\ensuremath{\square}} %
\newunicodechar{â˜…}{\ensuremath{\star}}   %
\newunicodechar{â™¢}{\ensuremath{\diamondsuit}} %
\newunicodechar{â™­}{\ensuremath{\flat}} %
\newunicodechar{â™¯}{\ensuremath{\sharp}} %
\newunicodechar{âœ“}{\ensuremath{\checkmark}} %
\newunicodechar{âŸ‚}{\ensuremath{\bot}} % PERPENDICULAR
\newunicodechar{âŸ¦}{\ensuremath{\llbracket}}
\newunicodechar{âŸ§}{\ensuremath{\rrbracket}}
\newunicodechar{âŸ¨}{\ensuremath{\langle}} %
\newunicodechar{âŸ©}{\ensuremath{\rangle}} %
\newunicodechar{âŸ¶}{\ensuremath{\longrightarrow}}
\newunicodechar{âŸ·}{\longleftrightarrow}
\newunicodechar{âŸ¹}{\ensuremath{\Longrightarrow}} %
\newunicodechar{â¦ƒ}{\ensuremath{\llbrace}} %
\newunicodechar{â¦„}{\ensuremath{\rrbrace}} %
\newunicodechar{â§Ÿ}{\ensuremath{\bidirmultimap}} %
\newunicodechar{â¨}{\bigoplus} %
\newunicodechar{â¨‚}{\bigotimes} %
\newunicodechar{â«ª}{\ensuremath{\top\kern-1.3ex\top}}
\newunicodechar{â±¼}{_j} %
\newunicodechar{ğ’Ÿ}{\ensuremath{\mathcal{D}}} %
\newunicodechar{ğ’¢}{\ensuremath{\mathcal{G}}}
\newunicodechar{ğ’¦}{\ensuremath{\mathcal{K}}} %
\newunicodechar{ğ”¸}{\ensuremath{\mathds{A}}} %
\newunicodechar{ğ”¹}{\ensuremath{\mathds{B}}} %
\newunicodechar{ğŸ˜}{\ensuremath{\mymathds{0}}} %
\newunicodechar{ğŸ™}{\ensuremath{\mymathds{1}}} %

\begin{document}
\begin{code}
{-# OPTIONS --cohesion --erasure --guarded #-}
{-# OPTIONS --allow-unsolved-metas #-}
{-# OPTIONS --allow-incomplete-matches #-}
{-# OPTIONS --rewriting --confluence-check #-}
{-# OPTIONS -WShadowingInTelescope #-}

module Highlighting where

Set-one : Setâ‚‚
Set-one = Setâ‚
\end{code}

Issue 3825: highlighting of unsolved metas in record{M} expressions

\begin{code}
module Issue3825 where
  record R (A : Set) : Set where
    field
      impl : {a : A} â†’ A

  module M {A : Set} where
    impl : {a : A} â†’ A   -- yellow should not be here
    impl {a} = a

  r : âˆ€{A} â†’ R A
  r = record {M}  -- just because there is an unsolved meta here
\end{code}

Various highlightings.

\begin{code}
record R (A : Set) : Set-one where
  constructor con

  field X : Set

  F : Set â†’ Set â†’ Set
  F A B = B

  field P : F A X â†’ Set
\end{code}

TODO: highlighting of non-terminating definition

\begin{code}
  -- Q : F A X â†’ Set
  -- Q = Q

postulate P : _
\end{code}

TODO: repair this highlighting case.

\begin{code}
-- open import Highlighting.M using (â„•) renaming
--   ( _+_ to infixl 5 _âŠ•_
--   ; _*_ to infixl 7 _âŠ—_
--   )

data D (A : Set) : Set-one where
  d : let X = D in X A

module Fixity where
  postulate _+_ _Ã—_ : Set â†’ Set â†’ Set

  infixl 4 _Ã—_ _+_
\end{code}

Issue 2140: the operators should be highlighted also in the fixity declaration.

Issue 3120, jump-to-definition for record field tags in record expressions and patterns.

\begin{code}
anR : âˆ€ A â†’ R A
anR A = record { X = A ; P = Î» _ â†’ A }

idR : âˆ€ A â†’ R A â†’ R A
idR A r@record { X = X; P = P } = record r { X = X }

record S (A : Set) : Set where
  field
    X : A

idR' : âˆ€ A â†’ R A â†’ R A
idR' A r@record { X = X; P = P } = record r { X = X }

open S

bla : âˆ€{A} â†’ A â†’ S A
bla x .X = x
\end{code}

Issue 3855: highlighting of quantity attributes.
@0 and @erased should be highlighted as symbols.

\begin{code}
idPoly0 : {@0 A : Set} â†’ A â†’ A
idPoly0 x = x

idPolyE : {@erased A : Set} â†’ A â†’ A
idPolyE x = x
\end{code}

Issue 3989: Shadowed repeated variables in telescopes should by
default \emph{not} be highlighted.
But here we turned the warning on.

\begin{code}
Issue-3989 : (A A : Set) â†’ Set
Issue-3989 _ A = A
\end{code}

Issue 4356.

\begin{code}
private
  open import Agda.Builtin.Sigma public  -- Cosmetic problem: public
  module Private where

Issue-4356â‚ : Î£ Set (Î» _ â†’ Set) â†’ Î£ Set (Î» _ â†’ Set)
Issue-4356â‚ = Î» P@(A , B) â†’ P

Issue-4356â‚‚ : Î£ Set (Î» _ â†’ Set) â†’ Set
Issue-4356â‚‚ = Î» (A , B) â†’ A

Issue-4356â‚ƒ : Î£ Set (Î» _ â†’ Set) â†’ Î£ Set (Î» _ â†’ Set)
Issue-4356â‚ƒ P = let Q@(A , B) = P in Q

Issue-4356â‚„ : Î£ Set (Î» _ â†’ Set) â†’ Set
Issue-4356â‚„ P = let (A , B) = P in B

Issue-4356â‚… : Î£ Set (Î» _ â†’ Set) â†’ Î£ Set (Î» _ â†’ Set)
Issue-4356â‚… P@(A , B) = P

Issue-4356â‚† : Î£ Set (Î» _ â†’ Set) â†’ Set
Issue-4356â‚† (A , B) = B
\end{code}



\begin{code}
module Issue3432 where

  pattern conâ€² x y = con x y
  pattern dâ€²       = d

open Issue3432 using (conâ€²; dâ€²)
\end{code}

These pattern synonyms should be highlighted in inductive constructor color.

\begin{code}
module Issue4604 where

  record RR : Setâ‚ where
    field
      A : Set

  postulate
    rr : RR

  open RR rr

  rrâ‚ : RR
  rrâ‚ = record { A = A }  -- Second A should /not/ be highlighted as projection.

  rrâ‚‚ : RR
  rrâ‚‚ = record { A = RR.A rr }  -- All other As should have field/projection color.
\end{code}

Highlighting of dot patterns.

\begin{code}
open import Agda.Builtin.Nat

module Issue5233 where

  data IsSet : Setâ‚ â†’ Set where
    isSet : IsSet Set

  highlight-dot-Set : (A : Setâ‚) â†’ IsSet A â†’ Set
  highlight-dot-Set .Set isSet = Nat

  data Vec (A : Set) : Nat â†’ Set where
    nil  : Vec A zero
    cons : (n : Nat) (x : A) (xs : Vec A n) â†’ Vec A (suc n)

  idVec : âˆ€ {A n} â†’ Vec A n â†’ Vec A n
  idVec {n = .(zero)}  nil           = nil
  idVec {n = .(suc k)} (cons k x xs) = cons _ x (idVec xs)
\end{code}

Highlighting of erased pattern-matching lambdas and warnings coming
from the Happy parser.

\begin{code}
module Issue4525 where

  @0 _ : Set â†’ Set
  _ = Î» @0 { A â†’ A }

  @0 _ : Set â†’ Set
  _ =
    Î» @0
      @Ï‰
      @erased
      @plenty
      @(tactic (Î» _ â†’ Set))
      @irr
      @irrelevant
      @shirr
      @shape-irrelevant
      @relevant
      @â™­
      @flat
      @notlock
      @lock
      @tick where
      A â†’ A
\end{code}

Highlighting of erased data and record types and modules.

\begin{code}
module Issue4743 where

  data @0 Dâ‚ : Set where

  data @0 Dâ‚‚ : Set

  data Dâ‚‚ where

  interleaved mutual

    data @0 Dâ‚ƒ : Set where

    data Dâ‚ƒ where
      @Ï‰ c : Dâ‚ƒ

  record @0 Râ‚ : Set where
    @Ï‰ A : Setâ‚
    A = Set

  record @0 Râ‚ƒ : Set

  record Râ‚ƒ where

  module @0 _ where

  module @0 Mâ‚ where

  F : let module @0 Mâ‚‚ = Mâ‚ in Setâ‚
  F = Set
    module @0 @plenty @lock _ where
      @plenty A : Setâ‚
      A = Set

  module @0 Mâ‚‚ = Mâ‚
\end{code}

Andreas, 2024-03-26, issue 7202:
Precise range for warning ModuleDoesntExport:
only highlight identifiers that cannot be imported.

\begin{code}
module Issue7202 where

  open Issue4743 using
    ( Dâ‚ƒ
    ; Dâ‚€  -- this should have deadcode highlighting
    ; Dâ‚
    ; Dâ‚„  -- this should have deadcode highlighting
    ; Dâ‚‚
    )

open import Agda.Builtin.Bool

module ExactSplit where

  isZero : Nat â†’ Bool
  isZero 0 = true
  isZero _ = false  -- This should have smoke highlighting (no exact split)
\end{code}

\begin{code}
private
\end{code}

Triggers warning EmptyPrivate.

\begin{code}
module Issue7851 where

  postulate Atom : Set
  {-# POLARITY Atom ++ - #-}

module MissingRecordFields where

  record ABC : Setâ‚‚ where
    field
      A B C : Setâ‚

  test : ABC
  test = record  -- should only highlight the record keyword in yellow
    { A = Set
    ; B = _   -- this missing field produces an unsolved meta
    ; C = Set
    }

\end{code}

The following is giving the warning: -W[no]InstanceWithExplicitArg.

\begin{quotation}
Instance declarations with explicit arguments are never considered
by instance search, so making su into an instance has no effect.
when checking the constructor su in the declaration of Foo
\end{quotation}

\begin{code}
module Issue8400 where

  data Foo : Nat â†’ Set where
    instance                                -- should be highlighted
      ze : Foo zero
      su : {n : Nat} â†’ Foo n â†’ Foo (suc n)  -- su should be highlighted
\end{code}

Coverage problem.

\begin{code}
module CoverageProblem where

  coverage : Nat â†’ {A : Set} â†’ A
  coverage (suc n) = coverage n

\end{code}

Confluence.

\begin{code}
module Confluence where

  open import Agda.Builtin.Nat
  open import Agda.Builtin.Equality

  {-# BUILTIN REWRITE _â‰¡_ #-}

  postulate
    +-assoc : {x y z : Nat} â†’ ((x + y) + z) â‰¡ (x + (y + z))

  -- {-# REWRITE +-assoc #-} -- Confluence failure is a hard error
\end{code}


\end{document}
