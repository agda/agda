<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agda.TypeChecking.Monad.State</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Agda</span><ul class="links" id="page-menu"><li><a href="src/Agda.TypeChecking.Monad.State.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agda.TypeChecking.Monad.State</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Lens for persistent states and its fields</a></li><li><a href="#g:2">Scope</a></li><li><a href="#g:3">Signature</a><ul><li><a href="#g:4">Lens for <code>stSignature</code> and <code>stImports</code></a></li><li><a href="#g:5">Modifiers for rewrite rules</a></li><li><a href="#g:6"><code class="inline-code">modify</code> methods for the signature</a></li><li><a href="#g:7">Modifiers for parts of the signature</a></li></ul></li><li><a href="#g:8">File identification</a></li><li><a href="#g:9">Top level module</a></li><li><a href="#g:10">Backends and foreign code</a></li><li><a href="#g:11">Interaction output callback</a></li><li><a href="#g:12">Pattern synonyms</a></li><li><a href="#g:13">Instance definitions</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Lenses for <code><a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a></code> and more.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:resetState">resetState</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:resetAllState">resetAllState</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:putTCPreservingStats">putTCPreservingStats</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:localTCState">localTCState</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a</li><li class="src short"><a href="#v:localTCStateSaving">localTCStateSaving</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (a, <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a>)</li><li class="src short"><a href="#v:localTCStateSavingWarnings">localTCStateSavingWarnings</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a</li><li class="src short"><a href="#v:freshTCM">freshTCM</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TCErr" title="Agda.TypeChecking.Monad.Base">TCErr</a> a)</li><li class="src short"><a href="#v:updatePersistentState">updatePersistentState</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a></li><li class="src short"><a href="#v:modifyPersistentState">modifyPersistentState</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:lensAccumStatisticsP">lensAccumStatisticsP</a> :: <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Statistics" title="Agda.TypeChecking.Monad.Base">Statistics</a></li><li class="src short"><a href="#v:lensAccumStatistics">lensAccumStatistics</a> :: <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Statistics" title="Agda.TypeChecking.Monad.Base">Statistics</a></li><li class="src short"><a href="#v:getScope">getScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a></li><li class="src short"><a href="#v:setScope">setScope</a> :: <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:modifyScope">modifyScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a>) -&gt; m ()</li><li class="src short"><a href="#v:recomputeInverseScope">recomputeInverseScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; m ()</li><li class="src short"><a href="#v:useScope">useScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> a -&gt; m a</li><li class="src short"><a href="#v:locallyScope">locallyScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> a -&gt; (a -&gt; a) -&gt; m b -&gt; m b</li><li class="src short"><a href="#v:withScope">withScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; m a -&gt; m (a, <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a>)</li><li class="src short"><a href="#v:evalWithScope">evalWithScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:localScope">localScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a</li><li class="src short"><a href="#v:notInScopeError">notInScopeError</a> :: <a href="Agda-Syntax-Concrete-Name.html#t:QName" title="Agda.Syntax.Concrete.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a</li><li class="src short"><a href="#v:notInScopeWarning">notInScopeWarning</a> :: <a href="Agda-Syntax-Concrete-Name.html#t:QName" title="Agda.Syntax.Concrete.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:printScope">printScope</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:modifySignature">modifySignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a>) -&gt; m ()</li><li class="src short"><a href="#v:modifyImportedSignature">modifyImportedSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a>) -&gt; m ()</li><li class="src short"><a href="#v:getSignature">getSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a></li><li class="src short"><a href="#v:modifyGlobalSignature">modifyGlobalSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a>) -&gt; m ()</li><li class="src short"><a href="#v:modifyGlobalDefinition">modifyGlobalDefinition</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a>) -&gt; m ()</li><li class="src short"><a href="#v:setSignature">setSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; m ()</li><li class="src short"><a href="#v:withSignature">withSignature</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m) =&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:addRewriteRulesFor">addRewriteRulesFor</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:RewriteRules" title="Agda.TypeChecking.Monad.Base">RewriteRules</a> -&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>] -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:updateDefsForRewrites">updateDefsForRewrites</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:RewriteRules" title="Agda.TypeChecking.Monad.Base">RewriteRules</a> -&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>] -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a></li><li class="src short"><a href="#v:setMatchableSymbols">setMatchableSymbols</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>] -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a></li><li class="src short"><a href="#v:setMatchableSymbols-39-">setMatchableSymbols'</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>] -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a></li><li class="src short"><a href="#v:modifyRecEta">modifyRecEta</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:EtaEquality" title="Agda.TypeChecking.Monad.Base">EtaEquality</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:EtaEquality" title="Agda.TypeChecking.Monad.Base">EtaEquality</a>) -&gt; m ()</li><li class="src short"><a href="#v:lookupDefinition">lookupDefinition</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateDefinitions">updateDefinitions</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a></li><li class="src short"><a href="#v:updateDefinition">updateDefinition</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a></li><li class="src short"><a href="#v:updateTheDef">updateTheDef</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateDefType">updateDefType</a> :: (<a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateDefArgOccurrences">updateDefArgOccurrences</a> :: ([<a href="Agda-TypeChecking-Positivity-Occurrence.html#t:Occurrence" title="Agda.TypeChecking.Positivity.Occurrence">Occurrence</a>] -&gt; [<a href="Agda-TypeChecking-Positivity-Occurrence.html#t:Occurrence" title="Agda.TypeChecking.Positivity.Occurrence">Occurrence</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateDefPolarity">updateDefPolarity</a> :: ([<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Polarity" title="Agda.TypeChecking.Monad.Base.Types">Polarity</a>] -&gt; [<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Polarity" title="Agda.TypeChecking.Monad.Base.Types">Polarity</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateDefCompiledRep">updateDefCompiledRep</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:CompiledRepresentation" title="Agda.TypeChecking.Monad.Base">CompiledRepresentation</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:CompiledRepresentation" title="Agda.TypeChecking.Monad.Base">CompiledRepresentation</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:addCompilerPragma">addCompilerPragma</a> :: <a href="Agda-Syntax-Common.html#t:BackendName" title="Agda.Syntax.Common">BackendName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:CompilerPragma" title="Agda.TypeChecking.Monad.Base">CompilerPragma</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateFunClauses">updateFunClauses</a> :: ([<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>] -&gt; [<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a></li><li class="src short"><a href="#v:updateCovering">updateCovering</a> :: ([<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>] -&gt; [<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a></li><li class="src short"><a href="#v:updateCompiledClauses">updateCompiledClauses</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-CompiledClause.html#t:CompiledClauses" title="Agda.TypeChecking.CompiledClause">CompiledClauses</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-CompiledClause.html#t:CompiledClauses" title="Agda.TypeChecking.CompiledClause">CompiledClauses</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a></li><li class="src short"><a href="#v:updateDefCopatternLHS">updateDefCopatternLHS</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:updateDefBlocked">updateDefBlocked</a> :: (<a href="Agda-Syntax-Internal.html#t:Blocked_" title="Agda.Syntax.Internal">Blocked_</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Blocked_" title="Agda.Syntax.Internal">Blocked_</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a></li><li class="src short"><a href="#v:registerFileIdWithBuiltin">registerFileIdWithBuiltin</a> :: <a href="Agda-Utils-FileId.html#t:File" title="Agda.Utils.FileId">File</a> -&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:FileDictWithBuiltins" title="Agda.TypeChecking.Monad.Base.Types">FileDictWithBuiltins</a> -&gt; (<a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a>, <a href="Agda-TypeChecking-Monad-Base-Types.html#t:FileDictWithBuiltins" title="Agda.TypeChecking.Monad.Base.Types">FileDictWithBuiltins</a>)</li><li class="src short"><a href="#v:isBuiltinModule">isBuiltinModule</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; m (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base-Types.html#t:IsBuiltinModule" title="Agda.TypeChecking.Monad.Base.Types">IsBuiltinModule</a>)</li><li class="src short"><a href="#v:isBuiltinModuleWithSafePostulates">isBuiltinModuleWithSafePostulates</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isPrimitiveModule">isPrimitiveModule</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:topLevelModuleName">topLevelModuleName</a> :: <a href="Agda-Syntax-TopLevelModuleName.html#t:RawTopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">RawTopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a></li><li class="src short"><a href="#v:setTopLevelModule">setTopLevelModule</a> :: <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:currentTopLevelModule">currentTopLevelModule</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCEnv" title="Agda.TypeChecking.Monad.Base">MonadTCEnv</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m) =&gt; m (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a>)</li><li class="src short"><a href="#v:withTopLevelModule">withTopLevelModule</a> :: <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a</li><li class="src short"><a href="#v:currentModuleNameHash">currentModuleNameHash</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-TopLevelModuleName-Boot.html#t:ModuleNameHash" title="Agda.Syntax.TopLevelModuleName.Boot">ModuleNameHash</a></li><li class="src short"><a href="#v:topLevelModuleNameWithSourceFileCompleter">topLevelModuleNameWithSourceFileCompleter</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m (<a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:TopLevelModuleNameWithSourceFile" title="Agda.TypeChecking.Monad.Base.Types">TopLevelModuleNameWithSourceFile</a>)</li><li class="src short"><a href="#v:lookupBackend">lookupBackend</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Syntax-Common.html#t:BackendName" title="Agda.Syntax.Common">BackendName</a> -&gt; m (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Backend" title="Agda.TypeChecking.Monad.Base">Backend</a>)</li><li class="src short"><a href="#v:activeBackend">activeBackend</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Backend" title="Agda.TypeChecking.Monad.Base">Backend</a>)</li><li class="src short"><a href="#v:activeBackendMayEraseType">activeBackendMayEraseType</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:addForeignCode">addForeignCode</a> :: <a href="Agda-Syntax-Common.html#t:BackendName" title="Agda.Syntax.Common">BackendName</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:getInteractionOutputCallback">getInteractionOutputCallback</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-TypeChecking-Monad-Base.html#t:InteractionOutputCallback" title="Agda.TypeChecking.Monad.Base">InteractionOutputCallback</a></li><li class="src short"><a href="#v:appInteractionOutputCallback">appInteractionOutputCallback</a> :: <a href="Agda-Interaction-Response.html#t:Response" title="Agda.Interaction.Response">Response</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:setInteractionOutputCallback">setInteractionOutputCallback</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:InteractionOutputCallback" title="Agda.TypeChecking.Monad.Base">InteractionOutputCallback</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:getPatternSyns">getPatternSyns</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a></li><li class="src short"><a href="#v:setPatternSyns">setPatternSyns</a> :: <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:modifyPatternSyns">modifyPatternSyns</a> :: (<a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> -&gt; <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:getPatternSynImports">getPatternSynImports</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a></li><li class="src short"><a href="#v:getAllPatternSyns">getAllPatternSyns</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a></li><li class="src short"><a href="#v:lookupPatternSyn">lookupPatternSyn</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:AmbiguousQName" title="Agda.Syntax.Abstract.Name">AmbiguousQName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-Syntax-Abstract.html#t:PatternSynDefn" title="Agda.Syntax.Abstract">PatternSynDefn</a></li><li class="src short"><a href="#v:lookupSinglePatternSyn">lookupSinglePatternSyn</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-Syntax-Abstract.html#t:PatternSynDefn" title="Agda.Syntax.Abstract">PatternSynDefn</a></li><li class="src short"><a href="#v:updateInstanceDefs">updateInstanceDefs</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a></li><li class="src short"><a href="#v:modifyInstanceDefs">modifyInstanceDefs</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:getAllInstanceDefs">getAllInstanceDefs</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a></li><li class="src short"><a href="#v:getAnonInstanceDefs">getAnonInstanceDefs</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/containers-0.7/docs/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>)</li><li class="src short"><a href="#v:clearUnknownInstance">clearUnknownInstance</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:addUnknownInstance">addUnknownInstance</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:resetState" class="def">resetState</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#resetState" class="link">Source</a> <a href="#v:resetState" class="selflink">#</a></p><div class="doc"><p>Resets the non-persistent part of the type checking state.</p></div></div><div class="top"><p class="src"><a id="v:resetAllState" class="def">resetAllState</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#resetAllState" class="link">Source</a> <a href="#v:resetAllState" class="selflink">#</a></p><div class="doc"><p>Resets all of the type checking state.</p><p>Keep only the session state (backend information, <code><a href="Agda-Benchmarking.html#t:Benchmark" title="Agda.Benchmarking">Benchmark</a></code>, file ids).</p></div></div><div class="top"><p class="src"><a id="v:putTCPreservingStats" class="def">putTCPreservingStats</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#putTCPreservingStats" class="link">Source</a> <a href="#v:putTCPreservingStats" class="selflink">#</a></p><div class="doc"><p>Set the <code><a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a></code>, preserving any parts of the state which should
 persist through speculation (e.g., statistics).</p></div></div><div class="top"><p class="src"><a id="v:localTCState" class="def">localTCState</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a <a href="src/Agda.TypeChecking.Monad.State.html#localTCState" class="link">Source</a> <a href="#v:localTCState" class="selflink">#</a></p><div class="doc"><p>Restore <code><a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a></code> after performing subcomputation.</p><p>Parts of the state which should not be reset on speculation (e.g.,
 statistics) will not be reset.</p></div></div><div class="top"><p class="src"><a id="v:localTCStateSaving" class="def">localTCStateSaving</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (a, <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a>) <a href="src/Agda.TypeChecking.Monad.State.html#localTCStateSaving" class="link">Source</a> <a href="#v:localTCStateSaving" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Agda-TypeChecking-Monad-State.html#v:localTCState" title="Agda.TypeChecking.Monad.State">localTCState</a></code>, but also returns the state in which we were
 just before reverting it.</p></div></div><div class="top"><p class="src"><a id="v:localTCStateSavingWarnings" class="def">localTCStateSavingWarnings</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a <a href="src/Agda.TypeChecking.Monad.State.html#localTCStateSavingWarnings" class="link">Source</a> <a href="#v:localTCStateSavingWarnings" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Agda-TypeChecking-Monad-State.html#v:localTCState" title="Agda.TypeChecking.Monad.State">localTCState</a></code> but keep all warnings.</p></div></div><div class="top"><p class="src"><a id="v:freshTCM" class="def">freshTCM</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TCErr" title="Agda.TypeChecking.Monad.Base">TCErr</a> a) <a href="src/Agda.TypeChecking.Monad.State.html#freshTCM" class="link">Source</a> <a href="#v:freshTCM" class="selflink">#</a></p><div class="doc"><p>A fresh TCM instance.</p><p>The computation is run in a fresh state, with the exception that
 the persistent state is preserved. If the computation changes the
 state, then these changes are ignored, except for changes to the
 persistent state. (Changes to the persistent state are also ignored
 if errors other than type errors or IO exceptions are encountered.)</p></div></div><a href="#g:1" id="g:1"><h1>Lens for persistent states and its fields</h1></a><div class="top"><p class="src"><a id="v:updatePersistentState" class="def">updatePersistentState</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> <a href="src/Agda.TypeChecking.Monad.State.html#updatePersistentState" class="link">Source</a> <a href="#v:updatePersistentState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyPersistentState" class="def">modifyPersistentState</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#modifyPersistentState" class="link">Source</a> <a href="#v:modifyPersistentState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lensAccumStatisticsP" class="def">lensAccumStatisticsP</a> :: <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-TypeChecking-Monad-Base.html#t:PersistentTCState" title="Agda.TypeChecking.Monad.Base">PersistentTCState</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Statistics" title="Agda.TypeChecking.Monad.Base">Statistics</a> <a href="src/Agda.TypeChecking.Monad.State.html#lensAccumStatisticsP" class="link">Source</a> <a href="#v:lensAccumStatisticsP" class="selflink">#</a></p><div class="doc"><p>Lens for <code><a href="Agda-TypeChecking-Monad-Base.html#v:stAccumStatistics" title="Agda.TypeChecking.Monad.Base">stAccumStatistics</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:lensAccumStatistics" class="def">lensAccumStatistics</a> :: <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Statistics" title="Agda.TypeChecking.Monad.Base">Statistics</a> <a href="src/Agda.TypeChecking.Monad.State.html#lensAccumStatistics" class="link">Source</a> <a href="#v:lensAccumStatistics" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Scope</h1></a><div class="top"><p class="src"><a id="v:getScope" class="def">getScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> <a href="src/Agda.TypeChecking.Monad.State.html#getScope" class="link">Source</a> <a href="#v:getScope" class="selflink">#</a></p><div class="doc"><p>Get the current scope.</p></div></div><div class="top"><p class="src"><a id="v:setScope" class="def">setScope</a> :: <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#setScope" class="link">Source</a> <a href="#v:setScope" class="selflink">#</a></p><div class="doc"><p>Set the current scope.</p></div></div><div class="top"><p class="src"><a id="v:modifyScope" class="def">modifyScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a>) -&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#modifyScope" class="link">Source</a> <a href="#v:modifyScope" class="selflink">#</a></p><div class="doc"><p>Modify the current scope without updating the inverse maps.</p></div></div><div class="top"><p class="src"><a id="v:recomputeInverseScope" class="def">recomputeInverseScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#recomputeInverseScope" class="link">Source</a> <a href="#v:recomputeInverseScope" class="selflink">#</a></p><div class="doc"><p>Recompute inverse names, inverse modules and InScopeSet-s.</p></div></div><div class="top"><p class="src"><a id="v:useScope" class="def">useScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> a -&gt; m a <a href="src/Agda.TypeChecking.Monad.State.html#useScope" class="link">Source</a> <a href="#v:useScope" class="selflink">#</a></p><div class="doc"><p>Get a part of the current scope.</p></div></div><div class="top"><p class="src"><a id="v:locallyScope" class="def">locallyScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-Lens.html#t:Lens-39-" title="Agda.Utils.Lens">Lens'</a> <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> a -&gt; (a -&gt; a) -&gt; m b -&gt; m b <a href="src/Agda.TypeChecking.Monad.State.html#locallyScope" class="link">Source</a> <a href="#v:locallyScope" class="selflink">#</a></p><div class="doc"><p>Run a computation in a modified scope.</p></div></div><div class="top"><p class="src"><a id="v:withScope" class="def">withScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; m a -&gt; m (a, <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a>) <a href="src/Agda.TypeChecking.Monad.State.html#withScope" class="link">Source</a> <a href="#v:withScope" class="selflink">#</a></p><div class="doc"><p>Run a computation in a local scope.</p></div></div><div class="top"><p class="src"><a id="v:evalWithScope" class="def">evalWithScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Syntax-Scope-Base.html#t:ScopeInfo" title="Agda.Syntax.Scope.Base">ScopeInfo</a> -&gt; m a -&gt; m a <a href="src/Agda.TypeChecking.Monad.State.html#evalWithScope" class="link">Source</a> <a href="#v:evalWithScope" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Agda-TypeChecking-Monad-State.html#v:withScope" title="Agda.TypeChecking.Monad.State">withScope</a></code>, but discard the scope from the computation.</p></div></div><div class="top"><p class="src"><a id="v:localScope" class="def">localScope</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a <a href="src/Agda.TypeChecking.Monad.State.html#localScope" class="link">Source</a> <a href="#v:localScope" class="selflink">#</a></p><div class="doc"><p>Discard any changes to the scope by a computation.</p></div></div><div class="top"><p class="src"><a id="v:notInScopeError" class="def">notInScopeError</a> :: <a href="Agda-Syntax-Concrete-Name.html#t:QName" title="Agda.Syntax.Concrete.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a <a href="src/Agda.TypeChecking.Monad.State.html#notInScopeError" class="link">Source</a> <a href="#v:notInScopeError" class="selflink">#</a></p><div class="doc"><p>Scope error.</p></div></div><div class="top"><p class="src"><a id="v:notInScopeWarning" class="def">notInScopeWarning</a> :: <a href="Agda-Syntax-Concrete-Name.html#t:QName" title="Agda.Syntax.Concrete.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#notInScopeWarning" class="link">Source</a> <a href="#v:notInScopeWarning" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:printScope" class="def">printScope</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#printScope" class="link">Source</a> <a href="#v:printScope" class="selflink">#</a></p><div class="doc"><p>Debug print the scope.</p></div></div><a href="#g:3" id="g:3"><h1>Signature</h1></a><a href="#g:4" id="g:4"><h2>Lens for <code>stSignature</code> and <code>stImports</code></h2></a><div class="top"><p class="src"><a id="v:modifySignature" class="def">modifySignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a>) -&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#modifySignature" class="link">Source</a> <a href="#v:modifySignature" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyImportedSignature" class="def">modifyImportedSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a>) -&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#modifyImportedSignature" class="link">Source</a> <a href="#v:modifyImportedSignature" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getSignature" class="def">getSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> <a href="src/Agda.TypeChecking.Monad.State.html#getSignature" class="link">Source</a> <a href="#v:getSignature" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyGlobalSignature" class="def">modifyGlobalSignature</a> <a href="src/Agda.TypeChecking.Monad.State.html#modifyGlobalSignature" class="link">Source</a> <a href="#v:modifyGlobalSignature" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a>)</td><td class="doc"><p>Function to map over the signatures</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The same caveats as with |modifyGlobalDefinition|, applied changes will not
 persist outside the current module!</p></div></div><div class="top"><p class="src"><a id="v:modifyGlobalDefinition" class="def">modifyGlobalDefinition</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a>) -&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#modifyGlobalDefinition" class="link">Source</a> <a href="#v:modifyGlobalDefinition" class="selflink">#</a></p><div class="doc"><p>Update a possibly imported definition. Warning: changes made to imported
   definitions (during type checking) will not persist outside the current
   module. This function is currently used to update the compiled
   representation of a function during compilation.</p></div></div><div class="top"><p class="src"><a id="v:setSignature" class="def">setSignature</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#setSignature" class="link">Source</a> <a href="#v:setSignature" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withSignature" class="def">withSignature</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m) =&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; m a -&gt; m a <a href="src/Agda.TypeChecking.Monad.State.html#withSignature" class="link">Source</a> <a href="#v:withSignature" class="selflink">#</a></p><div class="doc"><p>Run some computation in a different signature, restore original signature.</p></div></div><a href="#g:5" id="g:5"><h2>Modifiers for rewrite rules</h2></a><div class="top"><p class="src"><a id="v:addRewriteRulesFor" class="def">addRewriteRulesFor</a> <a href="src/Agda.TypeChecking.Monad.State.html#addRewriteRulesFor" class="link">Source</a> <a href="#v:addRewriteRulesFor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a></td><td class="doc"><p>Head symbol of rewrite rules</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:RewriteRules" title="Agda.TypeChecking.Monad.Base">RewriteRules</a></td><td class="doc"><p>Rewrite rules</p></td></tr><tr><td class="src">-&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>]</td><td class="doc"><p>Matchable symbols</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:updateDefsForRewrites" class="def">updateDefsForRewrites</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefsForRewrites" class="link">Source</a> <a href="#v:updateDefsForRewrites" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a></td><td class="doc"><p>Head symbol of rewrite rules</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:RewriteRules" title="Agda.TypeChecking.Monad.Base">RewriteRules</a></td><td class="doc"><p>Rewrites</p></td></tr><tr><td class="src">-&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>]</td><td class="doc"><p>Matchable symbols</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a></td><td class="doc"><p>Definitions we need to update</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a></td><td class="doc"><p>Updated definitions</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:setMatchableSymbols" class="def">setMatchableSymbols</a> <a href="src/Agda.TypeChecking.Monad.State.html#setMatchableSymbols" class="link">Source</a> <a href="#v:setMatchableSymbols" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a></td><td class="doc"><p>Head symbol</p></td></tr><tr><td class="src">-&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>]</td><td class="doc"><p>Matchable symbols</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a></td><td class="doc"><p>Current signature</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a></td><td class="doc"><p>Updated signature</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:setMatchableSymbols-39-" class="def">setMatchableSymbols'</a> <a href="src/Agda.TypeChecking.Monad.State.html#setMatchableSymbols%27" class="link">Source</a> <a href="#v:setMatchableSymbols-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a></td><td class="doc"><p>Head symbol</p></td></tr><tr><td class="src">-&gt; [<a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>]</td><td class="doc"><p>Matchable symbols</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a></td><td class="doc"><p>Current definitions</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a></td><td class="doc"><p>Updated definitions</p></td></tr></table></div></div><a href="#g:6" id="g:6"><h2><code class="inline-code">modify</code> methods for the signature</h2></a><div class="top"><p class="src"><a id="v:modifyRecEta" class="def">modifyRecEta</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCState" title="Agda.TypeChecking.Monad.Base">MonadTCState</a> m =&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:EtaEquality" title="Agda.TypeChecking.Monad.Base">EtaEquality</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:EtaEquality" title="Agda.TypeChecking.Monad.Base">EtaEquality</a>) -&gt; m () <a href="src/Agda.TypeChecking.Monad.State.html#modifyRecEta" class="link">Source</a> <a href="#v:modifyRecEta" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h2>Modifiers for parts of the signature</h2></a><div class="top"><p class="src"><a id="v:lookupDefinition" class="def">lookupDefinition</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#lookupDefinition" class="link">Source</a> <a href="#v:lookupDefinition" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefinitions" class="def">updateDefinitions</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definitions" title="Agda.TypeChecking.Monad.Base">Definitions</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefinitions" class="link">Source</a> <a href="#v:updateDefinitions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefinition" class="def">updateDefinition</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; (<a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Signature" title="Agda.TypeChecking.Monad.Base">Signature</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefinition" class="link">Source</a> <a href="#v:updateDefinition" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateTheDef" class="def">updateTheDef</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateTheDef" class="link">Source</a> <a href="#v:updateTheDef" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefType" class="def">updateDefType</a> :: (<a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefType" class="link">Source</a> <a href="#v:updateDefType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefArgOccurrences" class="def">updateDefArgOccurrences</a> :: ([<a href="Agda-TypeChecking-Positivity-Occurrence.html#t:Occurrence" title="Agda.TypeChecking.Positivity.Occurrence">Occurrence</a>] -&gt; [<a href="Agda-TypeChecking-Positivity-Occurrence.html#t:Occurrence" title="Agda.TypeChecking.Positivity.Occurrence">Occurrence</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefArgOccurrences" class="link">Source</a> <a href="#v:updateDefArgOccurrences" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefPolarity" class="def">updateDefPolarity</a> :: ([<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Polarity" title="Agda.TypeChecking.Monad.Base.Types">Polarity</a>] -&gt; [<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Polarity" title="Agda.TypeChecking.Monad.Base.Types">Polarity</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefPolarity" class="link">Source</a> <a href="#v:updateDefPolarity" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefCompiledRep" class="def">updateDefCompiledRep</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:CompiledRepresentation" title="Agda.TypeChecking.Monad.Base">CompiledRepresentation</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:CompiledRepresentation" title="Agda.TypeChecking.Monad.Base">CompiledRepresentation</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefCompiledRep" class="link">Source</a> <a href="#v:updateDefCompiledRep" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addCompilerPragma" class="def">addCompilerPragma</a> :: <a href="Agda-Syntax-Common.html#t:BackendName" title="Agda.Syntax.Common">BackendName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:CompilerPragma" title="Agda.TypeChecking.Monad.Base">CompilerPragma</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#addCompilerPragma" class="link">Source</a> <a href="#v:addCompilerPragma" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateFunClauses" class="def">updateFunClauses</a> :: ([<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>] -&gt; [<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateFunClauses" class="link">Source</a> <a href="#v:updateFunClauses" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateCovering" class="def">updateCovering</a> :: ([<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>] -&gt; [<a href="Agda-Syntax-Internal.html#t:Clause" title="Agda.Syntax.Internal">Clause</a>]) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateCovering" class="link">Source</a> <a href="#v:updateCovering" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateCompiledClauses" class="def">updateCompiledClauses</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-CompiledClause.html#t:CompiledClauses" title="Agda.TypeChecking.CompiledClause">CompiledClauses</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-CompiledClause.html#t:CompiledClauses" title="Agda.TypeChecking.CompiledClause">CompiledClauses</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Defn" title="Agda.TypeChecking.Monad.Base">Defn</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateCompiledClauses" class="link">Source</a> <a href="#v:updateCompiledClauses" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefCopatternLHS" class="def">updateDefCopatternLHS</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefCopatternLHS" class="link">Source</a> <a href="#v:updateDefCopatternLHS" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateDefBlocked" class="def">updateDefBlocked</a> :: (<a href="Agda-Syntax-Internal.html#t:Blocked_" title="Agda.Syntax.Internal">Blocked_</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Blocked_" title="Agda.Syntax.Internal">Blocked_</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Definition" title="Agda.TypeChecking.Monad.Base">Definition</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateDefBlocked" class="link">Source</a> <a href="#v:updateDefBlocked" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>File identification</h1></a><div class="top"><p class="src"><a id="v:registerFileIdWithBuiltin" class="def">registerFileIdWithBuiltin</a> :: <a href="Agda-Utils-FileId.html#t:File" title="Agda.Utils.FileId">File</a> -&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:FileDictWithBuiltins" title="Agda.TypeChecking.Monad.Base.Types">FileDictWithBuiltins</a> -&gt; (<a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a>, <a href="Agda-TypeChecking-Monad-Base-Types.html#t:FileDictWithBuiltins" title="Agda.TypeChecking.Monad.Base.Types">FileDictWithBuiltins</a>) <a href="src/Agda.TypeChecking.Monad.State.html#registerFileIdWithBuiltin" class="link">Source</a> <a href="#v:registerFileIdWithBuiltin" class="selflink">#</a></p><div class="doc"><p>Translate an absolute path to a file id, and register a new file id
   if the path has not seen before.
   Also register whether the path belongs to one of Agda's builtin modules.</p></div></div><div class="top"><p class="src"><a id="v:isBuiltinModule" class="def">isBuiltinModule</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; m (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base-Types.html#t:IsBuiltinModule" title="Agda.TypeChecking.Monad.Base.Types">IsBuiltinModule</a>) <a href="src/Agda.TypeChecking.Monad.State.html#isBuiltinModule" class="link">Source</a> <a href="#v:isBuiltinModule" class="selflink">#</a></p><div class="doc"><p>Does the given <code><a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a></code> belong to one of Agda's builtin modules?</p></div></div><div class="top"><p class="src"><a id="v:isBuiltinModuleWithSafePostulates" class="def">isBuiltinModuleWithSafePostulates</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.Monad.State.html#isBuiltinModuleWithSafePostulates" class="link">Source</a> <a href="#v:isBuiltinModuleWithSafePostulates" class="selflink">#</a></p><div class="doc"><p>Does the given <code><a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a></code> belong to one of Agda's builtin modules that only uses safe postulates?</p><p>Implies <code class="inline-code">isJust . <code><a href="Agda-TypeChecking-Monad-State.html#v:isBuiltinModule" title="Agda.TypeChecking.Monad.State">isBuiltinModule</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:isPrimitiveModule" class="def">isPrimitiveModule</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.Monad.State.html#isPrimitiveModule" class="link">Source</a> <a href="#v:isPrimitiveModule" class="selflink">#</a></p><div class="doc"><p>Does the given <code><a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a></code> belong to one of Agda's magical primitive modules?</p><p>Implies <code><a href="Agda-TypeChecking-Monad-State.html#v:isBuiltinModuleWithSafePostulates" title="Agda.TypeChecking.Monad.State">isBuiltinModuleWithSafePostulates</a></code>.</p></div></div><a href="#g:9" id="g:9"><h1>Top level module</h1></a><div class="top"><p class="src"><a id="v:topLevelModuleName" class="def">topLevelModuleName</a> :: <a href="Agda-Syntax-TopLevelModuleName.html#t:RawTopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">RawTopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> <a href="src/Agda.TypeChecking.Monad.State.html#topLevelModuleName" class="link">Source</a> <a href="#v:topLevelModuleName" class="selflink">#</a></p><div class="doc"><p>Tries to convert a raw top-level module name to a top-level
 module name.</p></div></div><div class="top"><p class="src"><a id="v:setTopLevelModule" class="def">setTopLevelModule</a> :: <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#setTopLevelModule" class="link">Source</a> <a href="#v:setTopLevelModule" class="selflink">#</a></p><div class="doc"><p>Set the top-level module. This affects the global module id of freshly
   generated names.</p></div></div><div class="top"><p class="src"><a id="v:currentTopLevelModule" class="def">currentTopLevelModule</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCEnv" title="Agda.TypeChecking.Monad.Base">MonadTCEnv</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m) =&gt; m (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a>) <a href="src/Agda.TypeChecking.Monad.State.html#currentTopLevelModule" class="link">Source</a> <a href="#v:currentTopLevelModule" class="selflink">#</a></p><div class="doc"><p>The name of the current top-level module, if any.</p></div></div><div class="top"><p class="src"><a id="v:withTopLevelModule" class="def">withTopLevelModule</a> :: <a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a <a href="src/Agda.TypeChecking.Monad.State.html#withTopLevelModule" class="link">Source</a> <a href="#v:withTopLevelModule" class="selflink">#</a></p><div class="doc"><p>Use a different top-level module for a computation. Used when generating
   names for imported modules.</p></div></div><div class="top"><p class="src"><a id="v:currentModuleNameHash" class="def">currentModuleNameHash</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-TopLevelModuleName-Boot.html#t:ModuleNameHash" title="Agda.Syntax.TopLevelModuleName.Boot">ModuleNameHash</a> <a href="src/Agda.TypeChecking.Monad.State.html#currentModuleNameHash" class="link">Source</a> <a href="#v:currentModuleNameHash" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:topLevelModuleNameWithSourceFileCompleter" class="def">topLevelModuleNameWithSourceFileCompleter</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m (<a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:TopLevelModuleNameWithSourceFile" title="Agda.TypeChecking.Monad.Base.Types">TopLevelModuleNameWithSourceFile</a>) <a href="src/Agda.TypeChecking.Monad.State.html#topLevelModuleNameWithSourceFileCompleter" class="link">Source</a> <a href="#v:topLevelModuleNameWithSourceFileCompleter" class="selflink">#</a></p><div class="doc"><p>Get a function that completes <code><a href="Agda-Syntax-TopLevelModuleName.html#t:TopLevelModuleName" title="Agda.Syntax.TopLevelModuleName">TopLevelModuleName</a></code>s
   with their <code><a href="Agda-TypeChecking-Monad-Base-Types.html#t:SourceFile" title="Agda.TypeChecking.Monad.Base.Types">SourceFile</a></code> to <code><a href="Agda-TypeChecking-Monad-Base-Types.html#t:TopLevelModuleNameWithSourceFile" title="Agda.TypeChecking.Monad.Base.Types">TopLevelModuleNameWithSourceFile</a></code>s.</p></div></div><a href="#g:10" id="g:10"><h1>Backends and foreign code</h1></a><div class="top"><p class="src"><a id="v:lookupBackend" class="def">lookupBackend</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; <a href="Agda-Syntax-Common.html#t:BackendName" title="Agda.Syntax.Common">BackendName</a> -&gt; m (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Backend" title="Agda.TypeChecking.Monad.Base">Backend</a>) <a href="src/Agda.TypeChecking.Monad.State.html#lookupBackend" class="link">Source</a> <a href="#v:lookupBackend" class="selflink">#</a></p><div class="doc"><p>Look for a backend of the given name.</p></div></div><div class="top"><p class="src"><a id="v:activeBackend" class="def">activeBackend</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Backend" title="Agda.TypeChecking.Monad.Base">Backend</a>) <a href="src/Agda.TypeChecking.Monad.State.html#activeBackend" class="link">Source</a> <a href="#v:activeBackend" class="selflink">#</a></p><div class="doc"><p>Get the currently active backend (if any).</p></div></div><div class="top"><p class="src"><a id="v:activeBackendMayEraseType" class="def">activeBackendMayEraseType</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.Monad.State.html#activeBackendMayEraseType" class="link">Source</a> <a href="#v:activeBackendMayEraseType" class="selflink">#</a></p><div class="doc"><p>Ask the active backend whether a type may be erased.
   See issue #3732.</p></div></div><div class="top"><p class="src"><a id="v:addForeignCode" class="def">addForeignCode</a> :: <a href="Agda-Syntax-Common.html#t:BackendName" title="Agda.Syntax.Common">BackendName</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#addForeignCode" class="link">Source</a> <a href="#v:addForeignCode" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h1>Interaction output callback</h1></a><div class="top"><p class="src"><a id="v:getInteractionOutputCallback" class="def">getInteractionOutputCallback</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-TypeChecking-Monad-Base.html#t:InteractionOutputCallback" title="Agda.TypeChecking.Monad.Base">InteractionOutputCallback</a> <a href="src/Agda.TypeChecking.Monad.State.html#getInteractionOutputCallback" class="link">Source</a> <a href="#v:getInteractionOutputCallback" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:appInteractionOutputCallback" class="def">appInteractionOutputCallback</a> :: <a href="Agda-Interaction-Response.html#t:Response" title="Agda.Interaction.Response">Response</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#appInteractionOutputCallback" class="link">Source</a> <a href="#v:appInteractionOutputCallback" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setInteractionOutputCallback" class="def">setInteractionOutputCallback</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:InteractionOutputCallback" title="Agda.TypeChecking.Monad.Base">InteractionOutputCallback</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#setInteractionOutputCallback" class="link">Source</a> <a href="#v:setInteractionOutputCallback" class="selflink">#</a></p></div><a href="#g:12" id="g:12"><h1>Pattern synonyms</h1></a><div class="top"><p class="src"><a id="v:getPatternSyns" class="def">getPatternSyns</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> <a href="src/Agda.TypeChecking.Monad.State.html#getPatternSyns" class="link">Source</a> <a href="#v:getPatternSyns" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setPatternSyns" class="def">setPatternSyns</a> :: <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#setPatternSyns" class="link">Source</a> <a href="#v:setPatternSyns" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyPatternSyns" class="def">modifyPatternSyns</a> :: (<a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> -&gt; <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#modifyPatternSyns" class="link">Source</a> <a href="#v:modifyPatternSyns" class="selflink">#</a></p><div class="doc"><p>Lens for <code><a href="Agda-TypeChecking-Monad-Base.html#v:stPatternSyns" title="Agda.TypeChecking.Monad.Base">stPatternSyns</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:getPatternSynImports" class="def">getPatternSynImports</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> <a href="src/Agda.TypeChecking.Monad.State.html#getPatternSynImports" class="link">Source</a> <a href="#v:getPatternSynImports" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getAllPatternSyns" class="def">getAllPatternSyns</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m =&gt; m <a href="Agda-Syntax-Abstract.html#t:PatternSynDefns" title="Agda.Syntax.Abstract">PatternSynDefns</a> <a href="src/Agda.TypeChecking.Monad.State.html#getAllPatternSyns" class="link">Source</a> <a href="#v:getAllPatternSyns" class="selflink">#</a></p><div class="doc"><p>Get both local and imported pattern synonyms</p></div></div><div class="top"><p class="src"><a id="v:lookupPatternSyn" class="def">lookupPatternSyn</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:AmbiguousQName" title="Agda.Syntax.Abstract.Name">AmbiguousQName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-Syntax-Abstract.html#t:PatternSynDefn" title="Agda.Syntax.Abstract">PatternSynDefn</a> <a href="src/Agda.TypeChecking.Monad.State.html#lookupPatternSyn" class="link">Source</a> <a href="#v:lookupPatternSyn" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupSinglePatternSyn" class="def">lookupSinglePatternSyn</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-Syntax-Abstract.html#t:PatternSynDefn" title="Agda.Syntax.Abstract">PatternSynDefn</a> <a href="src/Agda.TypeChecking.Monad.State.html#lookupSinglePatternSyn" class="link">Source</a> <a href="#v:lookupSinglePatternSyn" class="selflink">#</a></p></div><a href="#g:13" id="g:13"><h1>Instance definitions</h1></a><div class="top"><p class="src"><a id="v:updateInstanceDefs" class="def">updateInstanceDefs</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCState" title="Agda.TypeChecking.Monad.Base">TCState</a> <a href="src/Agda.TypeChecking.Monad.State.html#updateInstanceDefs" class="link">Source</a> <a href="#v:updateInstanceDefs" class="selflink">#</a></p><div class="doc"><p>Lens for <code><a href="Agda-TypeChecking-Monad-Base.html#v:stInstanceDefs" title="Agda.TypeChecking.Monad.Base">stInstanceDefs</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:modifyInstanceDefs" class="def">modifyInstanceDefs</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#modifyInstanceDefs" class="link">Source</a> <a href="#v:modifyInstanceDefs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getAllInstanceDefs" class="def">getAllInstanceDefs</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TempInstanceTable" title="Agda.TypeChecking.Monad.Base">TempInstanceTable</a> <a href="src/Agda.TypeChecking.Monad.State.html#getAllInstanceDefs" class="link">Source</a> <a href="#v:getAllInstanceDefs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getAnonInstanceDefs" class="def">getAnonInstanceDefs</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/containers-0.7/docs/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a>) <a href="src/Agda.TypeChecking.Monad.State.html#getAnonInstanceDefs" class="link">Source</a> <a href="#v:getAnonInstanceDefs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearUnknownInstance" class="def">clearUnknownInstance</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#clearUnknownInstance" class="link">Source</a> <a href="#v:clearUnknownInstance" class="selflink">#</a></p><div class="doc"><p>Remove an instance from the set of unresolved instances.</p></div></div><div class="top"><p class="src"><a id="v:addUnknownInstance" class="def">addUnknownInstance</a> :: <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.Monad.State.html#addUnknownInstance" class="link">Source</a> <a href="#v:addUnknownInstance" class="selflink">#</a></p><div class="doc"><p>Add an instance whose type is still unresolved.</p></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:MonadFileId:MonadFileId:1"></span> <a href="Agda-Utils-FileId.html#t:MonadFileId" title="Agda.Utils.FileId">MonadFileId</a> <a href="Agda-TypeChecking-Monad-Base.html#t:ReduceM" title="Agda.TypeChecking.Monad.Base">ReduceM</a></span> <a href="src/Agda.TypeChecking.Monad.State.html#line-403" class="link">Source</a> <a href="#v:-36-fMonadFileIdReduceM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:MonadFileId:MonadFileId:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fileFromId">fileFromId</a> :: <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:ReduceM" title="Agda.TypeChecking.Monad.Base">ReduceM</a> <a href="Agda-Utils-FileId.html#t:File" title="Agda.Utils.FileId">File</a> <a href="src/Agda.Utils.FileId.html#fileFromId" class="link">Source</a> <a href="#v:fileFromId" class="selflink">#</a></p><p class="src"><a href="#v:idFromFile">idFromFile</a> :: <a href="Agda-Utils-FileId.html#t:File" title="Agda.Utils.FileId">File</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:ReduceM" title="Agda.TypeChecking.Monad.Base">ReduceM</a> <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> <a href="src/Agda.Utils.FileId.html#idFromFile" class="link">Source</a> <a href="#v:idFromFile" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:MonadFileId:MonadFileId:2"></span> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="https://hackage.haskell.org/package/exceptions-0.10.9/docs/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Agda-Utils-FileId.html#t:MonadFileId" title="Agda.Utils.FileId">MonadFileId</a> (<a href="Agda-TypeChecking-Monad-Base.html#t:TCMT" title="Agda.TypeChecking.Monad.Base">TCMT</a> m)</span> <a href="src/Agda.TypeChecking.Monad.State.html#line-399" class="link">Source</a> <a href="#v:-36-fMonadFileIdTCMT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:MonadFileId:MonadFileId:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fileFromId">fileFromId</a> :: <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCMT" title="Agda.TypeChecking.Monad.Base">TCMT</a> m <a href="Agda-Utils-FileId.html#t:File" title="Agda.Utils.FileId">File</a> <a href="src/Agda.Utils.FileId.html#fileFromId" class="link">Source</a> <a href="#v:fileFromId" class="selflink">#</a></p><p class="src"><a href="#v:idFromFile">idFromFile</a> :: <a href="Agda-Utils-FileId.html#t:File" title="Agda.Utils.FileId">File</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCMT" title="Agda.TypeChecking.Monad.Base">TCMT</a> m <a href="Agda-Utils-FileId.html#t:FileId" title="Agda.Utils.FileId">FileId</a> <a href="src/Agda.Utils.FileId.html#idFromFile" class="link">Source</a> <a href="#v:idFromFile" class="selflink">#</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>