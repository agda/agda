<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agda.TypeChecking.SizedTypes</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Agda</span><ul class="links" id="page-menu"><li><a href="src/Agda.TypeChecking.SizedTypes.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agda.TypeChecking.SizedTypes</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">SIZELT stuff</a></li><li><a href="#g:2">Size views that <code>reduce</code>.</a></li><li><a href="#g:3">Size comparison that might add constraints.</a></li><li><a href="#g:4">Size constraints.</a></li><li><a href="#g:5">Size constraint solving.</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:checkSizeLtSat">checkSizeLtSat</a> :: <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> ()</li><li class="src short"><a href="#v:checkSizeNeverZero">checkSizeNeverZero</a> :: <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:checkSizeVarNeverZero">checkSizeVarNeverZero</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isBounded">isBounded</a> :: <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m =&gt; <a href="Agda-Syntax-Common.html#t:Nat" title="Agda.Syntax.Common">Nat</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a></li><li class="src short"><a href="#v:isBoundedProjVar">isBoundedProjVar</a> :: (<a href="Agda-TypeChecking-CheckInternal.html#t:MonadCheckInternal" title="Agda.TypeChecking.CheckInternal">MonadCheckInternal</a> m, <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m) =&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:ProjectedVar" title="Agda.TypeChecking.Monad.SizedTypes">ProjectedVar</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a></li><li class="src short"><a href="#v:isBoundedSizeType">isBoundedSizeType</a> :: <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m =&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a></li><li class="src short"><a href="#v:boundedSizeMetaHook">boundedSizeMetaHook</a> :: (<a href="Agda-TypeChecking-Monad-Constraints.html#t:MonadConstraint" title="Agda.TypeChecking.Monad.Constraints">MonadConstraint</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCEnv" title="Agda.TypeChecking.Monad.Base">MonadTCEnv</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m, <a href="Agda-TypeChecking-Monad-Context.html#t:MonadAddContext" title="Agda.TypeChecking.Monad.Context">MonadAddContext</a> m, <a href="Agda-Interaction-Options.html#t:HasOptions" title="Agda.Interaction.Options">HasOptions</a> m, <a href="Agda-TypeChecking-Monad-Builtin.html#t:HasBuiltins" title="Agda.TypeChecking.Monad.Builtin">HasBuiltins</a> m) =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; m ()</li><li class="src short"><a href="#v:trySizeUniv">trySizeUniv</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:CompareAs" title="Agda.TypeChecking.Monad.Base">CompareAs</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Elims" title="Agda.Syntax.Internal">Elims</a> -&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Elims" title="Agda.Syntax.Internal">Elims</a> -&gt; m ()</li><li class="src short"><a href="#v:deepSizeView">deepSizeView</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCError" title="Agda.TypeChecking.Monad.Base">MonadTCError</a> m) =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a></li><li class="src short"><a href="#v:sizeMaxView">sizeMaxView</a> :: <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a></li><li class="src short"><a href="#v:compareSizes">compareSizes</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m ()</li><li class="src short"><a href="#v:compareMaxViews">compareMaxViews</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> -&gt; m ()</li><li class="src short"><a href="#v:compareBelowMax">compareBelowMax</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> -&gt; m ()</li><li class="src short"><a href="#v:compareSizeViews">compareSizeViews</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> -&gt; m ()</li><li class="src short"><a href="#v:giveUp">giveUp</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m ()</li><li class="src short"><a href="#v:trivial">trivial</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isSizeProblem">isSizeProblem</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m, <a href="Agda-Interaction-Options.html#t:HasOptions" title="Agda.Interaction.Options">HasOptions</a> m, <a href="Agda-TypeChecking-Monad-Builtin.html#t:HasBuiltins" title="Agda.TypeChecking.Monad.Builtin">HasBuiltins</a> m) =&gt; <a href="Agda-Syntax-Common.html#t:ProblemId" title="Agda.Syntax.Common">ProblemId</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isSizeConstraint">isSizeConstraint</a> :: (<a href="Agda-Interaction-Options.html#t:HasOptions" title="Agda.Interaction.Options">HasOptions</a> m, <a href="Agda-TypeChecking-Monad-Builtin.html#t:HasBuiltins" title="Agda.TypeChecking.Monad.Builtin">HasBuiltins</a> m) =&gt; (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:mkIsSizeConstraint">mkIsSizeConstraint</a> :: (<a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a>) -&gt; (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isSizeConstraint_">isSizeConstraint_</a> :: (<a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:takeSizeConstraints">takeSizeConstraints</a> :: (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [<a href="Agda-TypeChecking-Monad-Base.html#t:ProblemConstraint" title="Agda.TypeChecking.Monad.Base">ProblemConstraint</a>]</li><li class="src short"><a href="#v:getSizeConstraints">getSizeConstraints</a> :: (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [<a href="Agda-TypeChecking-Monad-Base.html#t:ProblemConstraint" title="Agda.TypeChecking.Monad.Base">ProblemConstraint</a>]</li><li class="src short"><a href="#v:getSizeMetas">getSizeMetas</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [(<a href="Agda-Syntax-Common.html#t:MetaId" title="Agda.Syntax.Common">MetaId</a>, <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>, <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a>)]</li><li class="src short"><span class="keyword">data</span> <a href="#t:OldSizeExpr">OldSizeExpr</a><ul class="subs"><li>= <a href="#v:SizeMeta">SizeMeta</a> <a href="Agda-Syntax-Common.html#t:MetaId" title="Agda.Syntax.Common">MetaId</a> [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>]</li><li>| <a href="#v:Rigid">Rigid</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:OldSizeConstraint">OldSizeConstraint</a> = <a href="#v:Leq">Leq</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a></li><li class="src short"><a href="#v:oldComputeSizeConstraints">oldComputeSizeConstraints</a> :: [<a href="Agda-TypeChecking-Monad-Base.html#t:ProblemConstraint" title="Agda.TypeChecking.Monad.Base">ProblemConstraint</a>] -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a>]</li><li class="src short"><a href="#v:oldComputeSizeConstraint">oldComputeSizeConstraint</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a>)</li><li class="src short"><a href="#v:oldSizeExpr">oldSizeExpr</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadBlock" title="Agda.TypeChecking.Monad.Base">MonadBlock</a> m) =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m (<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a>, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:flexibleVariables">flexibleVariables</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; [(<a href="Agda-Syntax-Common.html#t:MetaId" title="Agda.Syntax.Common">MetaId</a>, [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>])]</li><li class="src short"><a href="#v:oldCanonicalizeSizeConstraint">oldCanonicalizeSizeConstraint</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>SIZELT stuff</h1></a><div class="top"><p class="src"><a id="v:checkSizeLtSat" class="def">checkSizeLtSat</a> :: <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> () <a href="src/Agda.TypeChecking.SizedTypes.html#checkSizeLtSat" class="link">Source</a> <a href="#v:checkSizeLtSat" class="selflink">#</a></p><div class="doc"><p>Check whether a type is either not a SIZELT or a SIZELT that is non-empty.</p></div></div><div class="top"><p class="src"><a id="v:checkSizeNeverZero" class="def">checkSizeNeverZero</a> :: <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.SizedTypes.html#checkSizeNeverZero" class="link">Source</a> <a href="#v:checkSizeNeverZero" class="selflink">#</a></p><div class="doc"><p>Precondition: Term is reduced and not blocked.
   Throws a <code><a href="Agda-TypeChecking-Monad-Base.html#v:patternViolation" title="Agda.TypeChecking.Monad.Base">patternViolation</a></code> if undecided</p></div></div><div class="top"><p class="src"><a id="v:checkSizeVarNeverZero" class="def">checkSizeVarNeverZero</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.SizedTypes.html#checkSizeVarNeverZero" class="link">Source</a> <a href="#v:checkSizeVarNeverZero" class="selflink">#</a></p><div class="doc"><p>Checks that a size variable is ensured to be <code class="inline-code">&gt; 0</code>.
   E.g. variable <code class="inline-code">i</code> cannot be zero in context
   <code class="inline-code">(i : Size) (j : Size&lt; &#8593; &#8593; i) (k : Size&lt; j) (k' : Size&lt; k)</code>.
   Throws a <code><a href="Agda-TypeChecking-Monad-Base.html#v:patternViolation" title="Agda.TypeChecking.Monad.Base">patternViolation</a></code> if undecided.</p></div></div><div class="top"><p class="src"><a id="v:isBounded" class="def">isBounded</a> :: <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m =&gt; <a href="Agda-Syntax-Common.html#t:Nat" title="Agda.Syntax.Common">Nat</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a> <a href="src/Agda.TypeChecking.SizedTypes.html#isBounded" class="link">Source</a> <a href="#v:isBounded" class="selflink">#</a></p><div class="doc"><p>Check whether a variable in the context is bounded by a size expression.
   If <code class="inline-code">x : Size&lt; a</code>, then <code class="inline-code">a</code> is returned.</p></div></div><div class="top"><p class="src"><a id="v:isBoundedProjVar" class="def">isBoundedProjVar</a> :: (<a href="Agda-TypeChecking-CheckInternal.html#t:MonadCheckInternal" title="Agda.TypeChecking.CheckInternal">MonadCheckInternal</a> m, <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m) =&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:ProjectedVar" title="Agda.TypeChecking.Monad.SizedTypes">ProjectedVar</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a> <a href="src/Agda.TypeChecking.SizedTypes.html#isBoundedProjVar" class="link">Source</a> <a href="#v:isBoundedProjVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isBoundedSizeType" class="def">isBoundedSizeType</a> :: <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m =&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a> <a href="src/Agda.TypeChecking.SizedTypes.html#isBoundedSizeType" class="link">Source</a> <a href="#v:isBoundedSizeType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:boundedSizeMetaHook" class="def">boundedSizeMetaHook</a> :: (<a href="Agda-TypeChecking-Monad-Constraints.html#t:MonadConstraint" title="Agda.TypeChecking.Monad.Constraints">MonadConstraint</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCEnv" title="Agda.TypeChecking.Monad.Base">MonadTCEnv</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m, <a href="Agda-TypeChecking-Monad-Context.html#t:MonadAddContext" title="Agda.TypeChecking.Monad.Context">MonadAddContext</a> m, <a href="Agda-Interaction-Options.html#t:HasOptions" title="Agda.Interaction.Options">HasOptions</a> m, <a href="Agda-TypeChecking-Monad-Builtin.html#t:HasBuiltins" title="Agda.TypeChecking.Monad.Builtin">HasBuiltins</a> m) =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#boundedSizeMetaHook" class="link">Source</a> <a href="#v:boundedSizeMetaHook" class="selflink">#</a></p><div class="doc"><p>Whenever we create a bounded size meta, add a constraint
   expressing the bound. First argument is the new meta and must be a <code class="inline-code">MetaV{}</code>.
   In <code class="inline-code">boundedSizeMetaHook v tel a</code>, <code class="inline-code">tel</code> includes the current context.</p></div></div><div class="top"><p class="src"><a id="v:trySizeUniv" class="def">trySizeUniv</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:CompareAs" title="Agda.TypeChecking.Monad.Base">CompareAs</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Elims" title="Agda.Syntax.Internal">Elims</a> -&gt; <a href="Agda-Syntax-Abstract-Name.html#t:QName" title="Agda.Syntax.Abstract.Name">QName</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Elims" title="Agda.Syntax.Internal">Elims</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#trySizeUniv" class="link">Source</a> <a href="#v:trySizeUniv" class="selflink">#</a></p><div class="doc"><p><code class="inline-code">trySizeUniv cmp t m n x els1 y els2</code>
   is called as a last resort when conversion checking <code class="inline-code">m <code class="inline-code">cmp</code> n : t</code>
   failed for definitions <code class="inline-code">m = x els1</code> and <code class="inline-code">n = y els2</code>,
   where the heads <code class="inline-code">x</code> and <code class="inline-code">y</code> are not equal.</p><p><code class="inline-code">trySizeUniv</code> accounts for subtyping between SIZELT and SIZE,
   like <code class="inline-code">Size&lt; i =&lt; Size</code>.</p><p>If it does not succeed it reports failure of conversion check.</p></div></div><a href="#g:2" id="g:2"><h1>Size views that <code>reduce</code>.</h1></a><div class="top"><p class="src"><a id="v:deepSizeView" class="def">deepSizeView</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadTCError" title="Agda.TypeChecking.Monad.Base">MonadTCError</a> m) =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> <a href="src/Agda.TypeChecking.SizedTypes.html#deepSizeView" class="link">Source</a> <a href="#v:deepSizeView" class="selflink">#</a></p><div class="doc"><p>Compute the deep size view of a term.
   Precondition: sized types are enabled.</p></div></div><div class="top"><p class="src"><a id="v:sizeMaxView" class="def">sizeMaxView</a> :: <a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> <a href="src/Agda.TypeChecking.SizedTypes.html#sizeMaxView" class="link">Source</a> <a href="#v:sizeMaxView" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Size comparison that might add constraints.</h1></a><div class="top"><p class="src"><a id="v:compareSizes" class="def">compareSizes</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#compareSizes" class="link">Source</a> <a href="#v:compareSizes" class="selflink">#</a></p><div class="doc"><p>Compare two sizes.</p></div></div><div class="top"><p class="src"><a id="v:compareMaxViews" class="def">compareMaxViews</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#compareMaxViews" class="link">Source</a> <a href="#v:compareMaxViews" class="selflink">#</a></p><div class="doc"><p>Compare two sizes in max view.</p></div></div><div class="top"><p class="src"><a id="v:compareBelowMax" class="def">compareBelowMax</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:SizeMaxView" title="Agda.TypeChecking.Monad.SizedTypes">SizeMaxView</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#compareBelowMax" class="link">Source</a> <a href="#v:compareBelowMax" class="selflink">#</a></p><div class="doc"><p><code class="inline-code">compareBelowMax u vs</code> checks <code class="inline-code">u &lt;= max vs</code>.  Precondition: <code class="inline-code">size vs &gt;= 2</code></p></div></div><div class="top"><p class="src"><a id="v:compareSizeViews" class="def">compareSizeViews</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> -&gt; <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:DeepSizeView" title="Agda.TypeChecking.Monad.SizedTypes">DeepSizeView</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#compareSizeViews" class="link">Source</a> <a href="#v:compareSizeViews" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:giveUp" class="def">giveUp</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m () <a href="src/Agda.TypeChecking.SizedTypes.html#giveUp" class="link">Source</a> <a href="#v:giveUp" class="selflink">#</a></p><div class="doc"><p>If <code><a href="Agda-TypeChecking-Monad-Base.html#v:envAssignMetas" title="Agda.TypeChecking.Monad.Base">envAssignMetas</a></code> then postpone as constraint, otherwise, fail hard.
   Failing is required if we speculatively test several alternatives.</p></div></div><div class="top"><p class="src"><a id="v:trivial" class="def">trivial</a> :: <a href="Agda-TypeChecking-Conversion.html#t:MonadConversion" title="Agda.TypeChecking.Conversion">MonadConversion</a> m =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.SizedTypes.html#trivial" class="link">Source</a> <a href="#v:trivial" class="selflink">#</a></p><div class="doc"><p>Checked whether a size constraint is trivial (like <code class="inline-code">X &lt;= X+1</code>).</p></div></div><a href="#g:4" id="g:4"><h1>Size constraints.</h1></a><div class="top"><p class="src"><a id="v:isSizeProblem" class="def">isSizeProblem</a> :: (<a href="Agda-TypeChecking-Monad-Base.html#t:ReadTCState" title="Agda.TypeChecking.Monad.Base">ReadTCState</a> m, <a href="Agda-Interaction-Options.html#t:HasOptions" title="Agda.Interaction.Options">HasOptions</a> m, <a href="Agda-TypeChecking-Monad-Builtin.html#t:HasBuiltins" title="Agda.TypeChecking.Monad.Builtin">HasBuiltins</a> m) =&gt; <a href="Agda-Syntax-Common.html#t:ProblemId" title="Agda.Syntax.Common">ProblemId</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.SizedTypes.html#isSizeProblem" class="link">Source</a> <a href="#v:isSizeProblem" class="selflink">#</a></p><div class="doc"><p>Test whether a problem consists only of size constraints.</p></div></div><div class="top"><p class="src"><a id="v:isSizeConstraint" class="def">isSizeConstraint</a> :: (<a href="Agda-Interaction-Options.html#t:HasOptions" title="Agda.Interaction.Options">HasOptions</a> m, <a href="Agda-TypeChecking-Monad-Builtin.html#t:HasBuiltins" title="Agda.TypeChecking.Monad.Builtin">HasBuiltins</a> m) =&gt; (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; m <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.SizedTypes.html#isSizeConstraint" class="link">Source</a> <a href="#v:isSizeConstraint" class="selflink">#</a></p><div class="doc"><p>Test whether a constraint speaks about sizes.</p></div></div><div class="top"><p class="src"><a id="v:mkIsSizeConstraint" class="def">mkIsSizeConstraint</a> :: (<a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Monad-SizedTypes.html#t:BoundedSize" title="Agda.TypeChecking.Monad.SizedTypes">BoundedSize</a>) -&gt; (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.SizedTypes.html#mkIsSizeConstraint" class="link">Source</a> <a href="#v:mkIsSizeConstraint" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isSizeConstraint_" class="def">isSizeConstraint_</a> <a href="src/Agda.TypeChecking.SizedTypes.html#isSizeConstraint_" class="link">Source</a> <a href="#v:isSizeConstraint_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Test for being a sized type</p></td></tr><tr><td class="src">-&gt; (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Restriction to these directions.</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:takeSizeConstraints" class="def">takeSizeConstraints</a> :: (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [<a href="Agda-TypeChecking-Monad-Base.html#t:ProblemConstraint" title="Agda.TypeChecking.Monad.Base">ProblemConstraint</a>] <a href="src/Agda.TypeChecking.SizedTypes.html#takeSizeConstraints" class="link">Source</a> <a href="#v:takeSizeConstraints" class="selflink">#</a></p><div class="doc"><p>Take out all size constraints of the given direction (DANGER!).</p></div></div><div class="top"><p class="src"><a id="v:getSizeConstraints" class="def">getSizeConstraints</a> :: (<a href="Agda-TypeChecking-Monad-Base-Types.html#t:Comparison" title="Agda.TypeChecking.Monad.Base.Types">Comparison</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [<a href="Agda-TypeChecking-Monad-Base.html#t:ProblemConstraint" title="Agda.TypeChecking.Monad.Base">ProblemConstraint</a>] <a href="src/Agda.TypeChecking.SizedTypes.html#getSizeConstraints" class="link">Source</a> <a href="#v:getSizeConstraints" class="selflink">#</a></p><div class="doc"><p>Find the size constraints of the matching direction.</p></div></div><div class="top"><p class="src"><a id="v:getSizeMetas" class="def">getSizeMetas</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [(<a href="Agda-Syntax-Common.html#t:MetaId" title="Agda.Syntax.Common">MetaId</a>, <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>, <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a>)] <a href="src/Agda.TypeChecking.SizedTypes.html#getSizeMetas" class="link">Source</a> <a href="#v:getSizeMetas" class="selflink">#</a></p><div class="doc"><p>Return a list of size metas and their context.</p></div></div><a href="#g:5" id="g:5"><h1>Size constraint solving.</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OldSizeExpr" class="def">OldSizeExpr</a> <a href="src/Agda.TypeChecking.SizedTypes.html#OldSizeExpr" class="link">Source</a> <a href="#t:OldSizeExpr" class="selflink">#</a></p><div class="doc"><p>Atomic size expressions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SizeMeta" class="def">SizeMeta</a> <a href="Agda-Syntax-Common.html#t:MetaId" title="Agda.Syntax.Common">MetaId</a> [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>]</td><td class="doc"><p>A size meta applied to de Bruijn indices.</p></td></tr><tr><td class="src"><a id="v:Rigid" class="def">Rigid</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>A de Bruijn index.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:OldSizeExpr">Instances</h4><details id="i:OldSizeExpr" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OldSizeExpr:Pretty:1"></span> <a href="Agda-Syntax-Common-Pretty.html#t:Pretty" title="Agda.Syntax.Common.Pretty">Pretty</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a></span> <a href="src/Agda.TypeChecking.SizedTypes.html#line-521" class="link">Source</a> <a href="#t:OldSizeExpr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OldSizeExpr:Pretty:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-SizedTypes.html">Agda.TypeChecking.SizedTypes</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pretty">pretty</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Syntax.Common.Pretty.html#pretty" class="link">Source</a> <a href="#v:pretty" class="selflink">#</a></p><p class="src"><a href="#v:prettyPrec">prettyPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Syntax.Common.Pretty.html#prettyPrec" class="link">Source</a> <a href="#v:prettyPrec" class="selflink">#</a></p><p class="src"><a href="#v:prettyList">prettyList</a> :: [<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a>] -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Syntax.Common.Pretty.html#prettyList" class="link">Source</a> <a href="#v:prettyList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OldSizeExpr:Show:2"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a></span> <a href="src/Agda.TypeChecking.SizedTypes.html#line-519" class="link">Source</a> <a href="#t:OldSizeExpr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OldSizeExpr:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-SizedTypes.html">Agda.TypeChecking.SizedTypes</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OldSizeExpr:Eq:3"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a></span> <a href="src/Agda.TypeChecking.SizedTypes.html#line-519" class="link">Source</a> <a href="#t:OldSizeExpr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OldSizeExpr:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-SizedTypes.html">Agda.TypeChecking.SizedTypes</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OldSizeConstraint" class="def">OldSizeConstraint</a> <a href="src/Agda.TypeChecking.SizedTypes.html#OldSizeConstraint" class="link">Source</a> <a href="#t:OldSizeConstraint" class="selflink">#</a></p><div class="doc"><p>Size constraints we can solve.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Leq" class="def">Leq</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a></td><td class="doc"><p><code class="inline-code">Leq a +n b</code> represents <code class="inline-code">a =&lt; b + n</code>.
   <code class="inline-code">Leq a -n b</code> represents <code class="inline-code">a + n =&lt; b</code>.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:OldSizeConstraint">Instances</h4><details id="i:OldSizeConstraint" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OldSizeConstraint:Pretty:1"></span> <a href="Agda-Syntax-Common-Pretty.html#t:Pretty" title="Agda.Syntax.Common.Pretty">Pretty</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a></span> <a href="src/Agda.TypeChecking.SizedTypes.html#line-532" class="link">Source</a> <a href="#t:OldSizeConstraint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OldSizeConstraint:Pretty:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-SizedTypes.html">Agda.TypeChecking.SizedTypes</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pretty">pretty</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Syntax.Common.Pretty.html#pretty" class="link">Source</a> <a href="#v:pretty" class="selflink">#</a></p><p class="src"><a href="#v:prettyPrec">prettyPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Syntax.Common.Pretty.html#prettyPrec" class="link">Source</a> <a href="#v:prettyPrec" class="selflink">#</a></p><p class="src"><a href="#v:prettyList">prettyList</a> :: [<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a>] -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Syntax.Common.Pretty.html#prettyList" class="link">Source</a> <a href="#v:prettyList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OldSizeConstraint:Show:2"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a></span> <a href="src/Agda.TypeChecking.SizedTypes.html#line-530" class="link">Source</a> <a href="#t:OldSizeConstraint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OldSizeConstraint:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-SizedTypes.html">Agda.TypeChecking.SizedTypes</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:oldComputeSizeConstraints" class="def">oldComputeSizeConstraints</a> :: [<a href="Agda-TypeChecking-Monad-Base.html#t:ProblemConstraint" title="Agda.TypeChecking.Monad.Base">ProblemConstraint</a>] -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> [<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a>] <a href="src/Agda.TypeChecking.SizedTypes.html#oldComputeSizeConstraints" class="link">Source</a> <a href="#v:oldComputeSizeConstraints" class="selflink">#</a></p><div class="doc"><p>Compute a set of size constraints that all live in the same context
   from constraints over terms of type size that may live in different
   contexts.</p><p>cf. <code><a href="Agda-TypeChecking-LevelConstraints.html#v:simplifyLevelConstraint" title="Agda.TypeChecking.LevelConstraints">simplifyLevelConstraint</a></code></p></div></div><div class="top"><p class="src"><a id="v:oldComputeSizeConstraint" class="def">oldComputeSizeConstraint</a> :: <a href="Agda-TypeChecking-Monad-Base.html#t:Constraint" title="Agda.TypeChecking.Monad.Base">Constraint</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a>) <a href="src/Agda.TypeChecking.SizedTypes.html#oldComputeSizeConstraint" class="link">Source</a> <a href="#v:oldComputeSizeConstraint" class="selflink">#</a></p><div class="doc"><p>Turn a constraint over de Bruijn indices into a size constraint.</p></div></div><div class="top"><p class="src"><a id="v:oldSizeExpr" class="def">oldSizeExpr</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadBlock" title="Agda.TypeChecking.Monad.Base">MonadBlock</a> m) =&gt; <a href="Agda-Syntax-Internal.html#t:Term" title="Agda.Syntax.Internal">Term</a> -&gt; m (<a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeExpr" title="Agda.TypeChecking.SizedTypes">OldSizeExpr</a>, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="src/Agda.TypeChecking.SizedTypes.html#oldSizeExpr" class="link">Source</a> <a href="#v:oldSizeExpr" class="selflink">#</a></p><div class="doc"><p>Turn a term with de Bruijn indices into a size expression with offset.</p><p>Throws a <code><a href="Agda-TypeChecking-Monad-Base.html#v:patternViolation" title="Agda.TypeChecking.Monad.Base">patternViolation</a></code> if the term isn't a proper size expression.</p></div></div><div class="top"><p class="src"><a id="v:flexibleVariables" class="def">flexibleVariables</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; [(<a href="Agda-Syntax-Common.html#t:MetaId" title="Agda.Syntax.Common">MetaId</a>, [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>])] <a href="src/Agda.TypeChecking.SizedTypes.html#flexibleVariables" class="link">Source</a> <a href="#v:flexibleVariables" class="selflink">#</a></p><div class="doc"><p>Compute list of size metavariables with their arguments
   appearing in a constraint.</p></div></div><div class="top"><p class="src"><a id="v:oldCanonicalizeSizeConstraint" class="def">oldCanonicalizeSizeConstraint</a> :: <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-SizedTypes.html#t:OldSizeConstraint" title="Agda.TypeChecking.SizedTypes">OldSizeConstraint</a> <a href="src/Agda.TypeChecking.SizedTypes.html#oldCanonicalizeSizeConstraint" class="link">Source</a> <a href="#v:oldCanonicalizeSizeConstraint" class="selflink">#</a></p><div class="doc"><p>Convert size constraint into form where each meta is applied
   to indices <code class="inline-code">0,1,..,n-1</code> where <code class="inline-code">n</code> is the arity of that meta.</p><p><code class="inline-code">X[&#963;] &lt;= t</code> becomes <code class="inline-code">X[id] &lt;= t[&#963;^-1]</code></p><p><code class="inline-code">X[&#963;] &#8804; Y[&#964;]</code> becomes <code class="inline-code">X[id] &#8804; Y[&#964;[&#963;^-1]]</code> or <code class="inline-code">X[&#963;[&#964;^1]] &#8804; Y[id]</code>
   whichever is defined.  If none is defined, we give up.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>