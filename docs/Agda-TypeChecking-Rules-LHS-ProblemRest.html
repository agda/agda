<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agda.TypeChecking.Rules.LHS.ProblemRest</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Agda</span><ul class="links" id="page-menu"><li><a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agda.TypeChecking.Rules.LHS.ProblemRest</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:useNamesFromPattern">useNamesFromPattern</a> :: [<a href="Agda-Syntax-Common.html#t:NamedArg" title="Agda.Syntax.Common">NamedArg</a> <a href="Agda-Syntax-Abstract.html#t:Pattern" title="Agda.Syntax.Abstract">Pattern</a>] -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a></li><li class="src short"><a href="#v:useNamesFromProblemEqs">useNamesFromProblemEqs</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadFresh" title="Agda.TypeChecking.Monad.Base">MonadFresh</a> <a href="Agda-Syntax-Common.html#t:NameId" title="Agda.Syntax.Common">NameId</a> m) =&gt; [<a href="Agda-Syntax-Abstract.html#t:ProblemEq" title="Agda.Syntax.Abstract">ProblemEq</a>] -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; m <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a></li><li class="src short"><a href="#v:useOriginFrom">useOriginFrom</a> :: (<a href="Agda-Syntax-Common.html#t:LensOrigin" title="Agda.Syntax.Common">LensOrigin</a> a, <a href="Agda-Syntax-Common.html#t:LensOrigin" title="Agda.Syntax.Common">LensOrigin</a> b) =&gt; [a] -&gt; [b] -&gt; [a]</li><li class="src short"><a href="#v:noProblemRest">noProblemRest</a> :: <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:Problem" title="Agda.TypeChecking.Rules.LHS.Problem">Problem</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:initLHSState">initLHSState</a> :: <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; [<a href="Agda-Syntax-Abstract.html#t:ProblemEq" title="Agda.Syntax.Abstract">ProblemEq</a>] -&gt; [<a href="Agda-Syntax-Common.html#t:NamedArg" title="Agda.Syntax.Common">NamedArg</a> <a href="Agda-Syntax-Abstract.html#t:Pattern" title="Agda.Syntax.Abstract">Pattern</a>] -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; (<a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a) -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a)</li><li class="src short"><a href="#v:updateProblemRest">updateProblemRest</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TCErr" title="Agda.TypeChecking.Monad.Base">TCErr</a> m, <a href="Agda-TypeChecking-Monad-Trace.html#t:MonadTrace" title="Agda.TypeChecking.Monad.Trace">MonadTrace</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadFresh" title="Agda.TypeChecking.Monad.Base">MonadFresh</a> <a href="Agda-Syntax-Common.html#t:NameId" title="Agda.Syntax.Common">NameId</a> m) =&gt; <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a -&gt; m (<a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:useNamesFromPattern" class="def">useNamesFromPattern</a> :: [<a href="Agda-Syntax-Common.html#t:NamedArg" title="Agda.Syntax.Common">NamedArg</a> <a href="Agda-Syntax-Abstract.html#t:Pattern" title="Agda.Syntax.Abstract">Pattern</a>] -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> <a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html#useNamesFromPattern" class="link">Source</a> <a href="#v:useNamesFromPattern" class="selflink">#</a></p><div class="doc"><p>Rename the variables in a telescope using the names from a given pattern.</p><p>If there are not at least as many patterns as entries as in the telescope,
   the names of the remaining entries in the telescope are unchanged.
   If there are too many patterns, there should be a type error later.</p></div></div><div class="top"><p class="src"><a id="v:useNamesFromProblemEqs" class="def">useNamesFromProblemEqs</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadFresh" title="Agda.TypeChecking.Monad.Base">MonadFresh</a> <a href="Agda-Syntax-Common.html#t:NameId" title="Agda.Syntax.Common">NameId</a> m) =&gt; [<a href="Agda-Syntax-Abstract.html#t:ProblemEq" title="Agda.Syntax.Abstract">ProblemEq</a>] -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; m <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> <a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html#useNamesFromProblemEqs" class="link">Source</a> <a href="#v:useNamesFromProblemEqs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:useOriginFrom" class="def">useOriginFrom</a> :: (<a href="Agda-Syntax-Common.html#t:LensOrigin" title="Agda.Syntax.Common">LensOrigin</a> a, <a href="Agda-Syntax-Common.html#t:LensOrigin" title="Agda.Syntax.Common">LensOrigin</a> b) =&gt; [a] -&gt; [b] -&gt; [a] <a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html#useOriginFrom" class="link">Source</a> <a href="#v:useOriginFrom" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:noProblemRest" class="def">noProblemRest</a> :: <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:Problem" title="Agda.TypeChecking.Rules.LHS.Problem">Problem</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html#noProblemRest" class="link">Source</a> <a href="#v:noProblemRest" class="selflink">#</a></p><div class="doc"><p>Are there any untyped user patterns left?</p></div></div><div class="top"><p class="src"><a id="v:initLHSState" class="def">initLHSState</a> <a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html#initLHSState" class="link">Source</a> <a href="#v:initLHSState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a></td><td class="doc"><p>The initial telescope <code class="inline-code">delta</code> of parameters.</p></td></tr><tr><td class="src">-&gt; [<a href="Agda-Syntax-Abstract.html#t:ProblemEq" title="Agda.Syntax.Abstract">ProblemEq</a>]</td><td class="doc"><p>The problem equations inherited from the parent clause (living in <code class="inline-code">delta</code>).</p></td></tr><tr><td class="src">-&gt; [<a href="Agda-Syntax-Common.html#t:NamedArg" title="Agda.Syntax.Common">NamedArg</a> <a href="Agda-Syntax-Abstract.html#t:Pattern" title="Agda.Syntax.Abstract">Pattern</a>]</td><td class="doc"><p>The user patterns.</p></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a></td><td class="doc"><p>The type the user patterns eliminate (living in <code class="inline-code">delta</code>).</p></td></tr><tr><td class="src">-&gt; (<a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> a)</td><td class="doc"><p>Continuation for when checking the patterns is complete.</p></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> (<a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a)</td><td class="doc"><p>The initial LHS state constructed from the user patterns.</p></td></tr></table></div><div class="doc"><p>Construct an initial <code><a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a></code> from user patterns.
   Example:
   @</p><p>Case : {A : Set} &#8594; Maybe A &#8594; Set &#8594; Set &#8594; Set
      Case nothing  B C = B
      Case (just _) B C = C</p><p>sample : {A : Set} (m : Maybe A) &#8594; Case m Bool (Maybe A &#8594; Bool)
      sample (just a) (just b) = true
      sample (just a) nothing  = false
      sample nothing           = true
   <code class="inline-code">
   The problem generated for the first clause of </code>sample<code class="inline-code">
   with patterns </code>just a, just b<code class="inline-code"> would be:
   </code>
      lhsTel        = [A : Set, m : Maybe A]
      lhsOutPat     = [<a href="A.html">A</a>, &quot;m&quot;]
      lhsProblem    = Problem [<a href="A.html">A</a> = _, &quot;just a&quot; = &quot;a&quot;]
                              [&quot;_&quot;, &quot;just a&quot;]
                              [&quot;just b&quot;] []
      lhsTarget     = &quot;Case m Bool (Maybe A -&gt; Bool)&quot;
   @</p></div></div><div class="top"><p class="src"><a id="v:updateProblemRest" class="def">updateProblemRest</a> :: (<a href="Agda-TypeChecking-Monad-Pure.html#t:PureTCM" title="Agda.TypeChecking.Monad.Pure">PureTCM</a> m, <a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Agda-TypeChecking-Monad-Base.html#t:TCErr" title="Agda.TypeChecking.Monad.Base">TCErr</a> m, <a href="Agda-TypeChecking-Monad-Trace.html#t:MonadTrace" title="Agda.TypeChecking.Monad.Trace">MonadTrace</a> m, <a href="Agda-TypeChecking-Monad-Base.html#t:MonadFresh" title="Agda.TypeChecking.Monad.Base">MonadFresh</a> <a href="Agda-Syntax-Common.html#t:NameId" title="Agda.Syntax.Common">NameId</a> m) =&gt; <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a -&gt; m (<a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:LHSState" title="Agda.TypeChecking.Rules.LHS.Problem">LHSState</a> a) <a href="src/Agda.TypeChecking.Rules.LHS.ProblemRest.html#updateProblemRest" class="link">Source</a> <a href="#v:updateProblemRest" class="selflink">#</a></p><div class="doc"><p>Try to move patterns from the problem rest into the problem.
   Possible if type of problem rest has been updated to a function type.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>