<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="annot"><span class="hs-comment">-- | Logically consistent comparison of floating point numbers.</span></span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html"><span class="hs-identifier">Agda.Utils.Float</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#asFinite"><span class="hs-identifier">asFinite</span></a></span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#isPosInf"><span class="hs-identifier">isPosInf</span></a></span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#isNegInf"><span class="hs-identifier">isNegInf</span></a></span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#isPosZero"><span class="hs-identifier">isPosZero</span></a></span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#isNegZero"><span class="hs-identifier">isNegZero</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#isSafeInteger"><span class="hs-identifier">isSafeInteger</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleEq"><span class="hs-identifier">doubleEq</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleLe"><span class="hs-identifier">doubleLe</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleLt"><span class="hs-identifier">doubleLt</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#intToDouble"><span class="hs-identifier">intToDouble</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doublePlus"><span class="hs-identifier">doublePlus</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleMinus"><span class="hs-identifier">doubleMinus</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleTimes"><span class="hs-identifier">doubleTimes</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleNegate"><span class="hs-identifier">doubleNegate</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleDiv"><span class="hs-identifier">doubleDiv</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doublePow"><span class="hs-identifier">doublePow</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleSqrt"><span class="hs-identifier">doubleSqrt</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleExp"><span class="hs-identifier">doubleExp</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleLog"><span class="hs-identifier">doubleLog</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleSin"><span class="hs-identifier">doubleSin</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleCos"><span class="hs-identifier">doubleCos</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleTan"><span class="hs-identifier">doubleTan</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleASin"><span class="hs-identifier">doubleASin</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleACos"><span class="hs-identifier">doubleACos</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleATan"><span class="hs-identifier">doubleATan</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleATan2"><span class="hs-identifier">doubleATan2</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleSinh"><span class="hs-identifier">doubleSinh</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleCosh"><span class="hs-identifier">doubleCosh</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleTanh"><span class="hs-identifier">doubleTanh</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleASinh"><span class="hs-identifier">doubleASinh</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleACosh"><span class="hs-identifier">doubleACosh</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleATanh"><span class="hs-identifier">doubleATanh</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleRound"><span class="hs-identifier">doubleRound</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleFloor"><span class="hs-identifier">doubleFloor</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleCeiling"><span class="hs-identifier">doubleCeiling</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleDenotEq"><span class="hs-identifier">doubleDenotEq</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleDenotOrd"><span class="hs-identifier">doubleDenotOrd</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleToWord64"><span class="hs-identifier">doubleToWord64</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleToRatio"><span class="hs-identifier">doubleToRatio</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#ratioToDouble"><span class="hs-identifier">ratioToDouble</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleDecode"><span class="hs-identifier">doubleDecode</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleEncode"><span class="hs-identifier">doubleEncode</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#toStringWithoutDotZero"><span class="hs-identifier">toStringWithoutDotZero</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">second</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">on</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ratio</span></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-operator">(%)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">numerator</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">denominator</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Word64</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List.html"><span class="hs-identifier">Agda.Utils.List</span></a></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Agda.Utils.List.html#stripSuffix"><span class="hs-identifier">stripSuffix</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Float</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">castDoubleToWord64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">castWord64ToDouble</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleEq"><span class="hs-pragma hs-type">doubleEq</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-62"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleEq"><span class="hs-identifier hs-type">doubleEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-63"></span><span id="doubleEq"><span class="annot"><span class="annottext">doubleEq :: Double -&gt; Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#doubleEq"><span class="hs-identifier hs-var hs-var">doubleEq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleLe"><span class="hs-pragma hs-type">doubleLe</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-66"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleLe"><span class="hs-identifier hs-type">doubleLe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-67"></span><span id="doubleLe"><span class="annot"><span class="annottext">doubleLe :: Double -&gt; Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#doubleLe"><span class="hs-identifier hs-var hs-var">doubleLe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleLt"><span class="hs-pragma hs-type">doubleLt</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-70"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleLt"><span class="hs-identifier hs-type">doubleLt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-71"></span><span id="doubleLt"><span class="annot"><span class="annottext">doubleLt :: Double -&gt; Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#doubleLt"><span class="hs-identifier hs-var hs-var">doubleLt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="annot"><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-type">truncateDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-74"></span><span id="truncateDouble"><span class="annot"><span class="annottext">truncateDouble :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var hs-var">truncateDouble</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Double
</span><span class="hs-identifier hs-var">castWord64ToDouble</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Double) -&gt; (Double -&gt; Word64) -&gt; Double -&gt; Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Word64
</span><span class="hs-identifier hs-var">castDoubleToWord64</span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#intToDouble"><span class="hs-pragma hs-type">intToDouble</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-77"></span><span id="local-6989586621681706732"><span class="annot"><a href="Agda.Utils.Float.html#intToDouble"><span class="hs-identifier hs-type">intToDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681706732"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681706732"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span></span><span>
</span><span id="line-78"></span><span id="intToDouble"><span class="annot"><span class="annottext">intToDouble :: forall a. Integral a =&gt; a -&gt; Double
</span><a href="Agda.Utils.Float.html#intToDouble"><span class="hs-identifier hs-var hs-var">intToDouble</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var">truncateDouble</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; (a -&gt; Double) -&gt; a -&gt; Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doublePlus"><span class="hs-pragma hs-type">doublePlus</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-81"></span><span class="annot"><a href="Agda.Utils.Float.html#doublePlus"><span class="hs-identifier hs-type">doublePlus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-82"></span><span id="doublePlus"><span class="annot"><span class="annottext">doublePlus :: Double -&gt; Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doublePlus"><span class="hs-identifier hs-var hs-var">doublePlus</span></a></span></span><span> </span><span id="local-6989586621681706971"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706971"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681706972"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706972"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var">truncateDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706971"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706972"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleMinus"><span class="hs-pragma hs-type">doubleMinus</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-85"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleMinus"><span class="hs-identifier hs-type">doubleMinus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-86"></span><span id="doubleMinus"><span class="annot"><span class="annottext">doubleMinus :: Double -&gt; Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleMinus"><span class="hs-identifier hs-var hs-var">doubleMinus</span></a></span></span><span> </span><span id="local-6989586621681706974"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706974"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681706975"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706975"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var">truncateDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706974"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706975"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleTimes"><span class="hs-pragma hs-type">doubleTimes</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-89"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleTimes"><span class="hs-identifier hs-type">doubleTimes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-90"></span><span id="doubleTimes"><span class="annot"><span class="annottext">doubleTimes :: Double -&gt; Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleTimes"><span class="hs-identifier hs-var hs-var">doubleTimes</span></a></span></span><span> </span><span id="local-6989586621681706976"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706976"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681706977"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706977"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var">truncateDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706976"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706977"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleNegate"><span class="hs-pragma hs-type">doubleNegate</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-93"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleNegate"><span class="hs-identifier hs-type">doubleNegate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-94"></span><span id="doubleNegate"><span class="annot"><span class="annottext">doubleNegate :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleNegate"><span class="hs-identifier hs-var hs-var">doubleNegate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleDiv"><span class="hs-pragma hs-type">doubleDiv</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-97"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleDiv"><span class="hs-identifier hs-type">doubleDiv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-98"></span><span id="doubleDiv"><span class="annot"><span class="annottext">doubleDiv :: Double -&gt; Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleDiv"><span class="hs-identifier hs-var hs-var">doubleDiv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doublePow"><span class="hs-pragma hs-type">doublePow</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-101"></span><span class="annot"><a href="Agda.Utils.Float.html#doublePow"><span class="hs-identifier hs-type">doublePow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-102"></span><span id="doublePow"><span class="annot"><span class="annottext">doublePow :: Double -&gt; Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doublePow"><span class="hs-identifier hs-var hs-var">doublePow</span></a></span></span><span> </span><span id="local-6989586621681706980"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706980"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681706981"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706981"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var">truncateDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706980"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706981"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleSqrt"><span class="hs-pragma hs-type">doubleSqrt</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-105"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleSqrt"><span class="hs-identifier hs-type">doubleSqrt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-106"></span><span id="doubleSqrt"><span class="annot"><span class="annottext">doubleSqrt :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleSqrt"><span class="hs-identifier hs-var hs-var">doubleSqrt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleExp"><span class="hs-pragma hs-type">doubleExp</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-109"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleExp"><span class="hs-identifier hs-type">doubleExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-110"></span><span id="doubleExp"><span class="annot"><span class="annottext">doubleExp :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleExp"><span class="hs-identifier hs-var hs-var">doubleExp</span></a></span></span><span> </span><span id="local-6989586621681706984"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706984"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="Agda.Utils.Float.html#truncateDouble"><span class="hs-identifier hs-var">truncateDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681706984"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleLog"><span class="hs-pragma hs-type">doubleLog</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-113"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleLog"><span class="hs-identifier hs-type">doubleLog</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-114"></span><span id="doubleLog"><span class="annot"><span class="annottext">doubleLog :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleLog"><span class="hs-identifier hs-var hs-var">doubleLog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleSin"><span class="hs-pragma hs-type">doubleSin</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-117"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleSin"><span class="hs-identifier hs-type">doubleSin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-118"></span><span id="doubleSin"><span class="annot"><span class="annottext">doubleSin :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleSin"><span class="hs-identifier hs-var hs-var">doubleSin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleCos"><span class="hs-pragma hs-type">doubleCos</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-121"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleCos"><span class="hs-identifier hs-type">doubleCos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-122"></span><span id="doubleCos"><span class="annot"><span class="annottext">doubleCos :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleCos"><span class="hs-identifier hs-var hs-var">doubleCos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleTan"><span class="hs-pragma hs-type">doubleTan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-125"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleTan"><span class="hs-identifier hs-type">doubleTan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-126"></span><span id="doubleTan"><span class="annot"><span class="annottext">doubleTan :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleTan"><span class="hs-identifier hs-var hs-var">doubleTan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleASin"><span class="hs-pragma hs-type">doubleASin</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-129"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleASin"><span class="hs-identifier hs-type">doubleASin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-130"></span><span id="doubleASin"><span class="annot"><span class="annottext">doubleASin :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleASin"><span class="hs-identifier hs-var hs-var">doubleASin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleACos"><span class="hs-pragma hs-type">doubleACos</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-133"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleACos"><span class="hs-identifier hs-type">doubleACos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-134"></span><span id="doubleACos"><span class="annot"><span class="annottext">doubleACos :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleACos"><span class="hs-identifier hs-var hs-var">doubleACos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleATan"><span class="hs-pragma hs-type">doubleATan</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-137"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleATan"><span class="hs-identifier hs-type">doubleATan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-138"></span><span id="doubleATan"><span class="annot"><span class="annottext">doubleATan :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleATan"><span class="hs-identifier hs-var hs-var">doubleATan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleATan2"><span class="hs-pragma hs-type">doubleATan2</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-141"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleATan2"><span class="hs-identifier hs-type">doubleATan2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-142"></span><span id="doubleATan2"><span class="annot"><span class="annottext">doubleATan2 :: Double -&gt; Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleATan2"><span class="hs-identifier hs-var hs-var">doubleATan2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. RealFloat a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan2</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleSinh"><span class="hs-pragma hs-type">doubleSinh</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-145"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleSinh"><span class="hs-identifier hs-type">doubleSinh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-146"></span><span id="doubleSinh"><span class="annot"><span class="annottext">doubleSinh :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleSinh"><span class="hs-identifier hs-var hs-var">doubleSinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleCosh"><span class="hs-pragma hs-type">doubleCosh</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-149"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleCosh"><span class="hs-identifier hs-type">doubleCosh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-150"></span><span id="doubleCosh"><span class="annot"><span class="annottext">doubleCosh :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleCosh"><span class="hs-identifier hs-var hs-var">doubleCosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleTanh"><span class="hs-pragma hs-type">doubleTanh</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-153"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleTanh"><span class="hs-identifier hs-type">doubleTanh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-154"></span><span id="doubleTanh"><span class="annot"><span class="annottext">doubleTanh :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleTanh"><span class="hs-identifier hs-var hs-var">doubleTanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleASinh"><span class="hs-pragma hs-type">doubleASinh</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-157"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleASinh"><span class="hs-identifier hs-type">doubleASinh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-158"></span><span id="doubleASinh"><span class="annot"><span class="annottext">doubleASinh :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleASinh"><span class="hs-identifier hs-var hs-var">doubleASinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asinh</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleACosh"><span class="hs-pragma hs-type">doubleACosh</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-161"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleACosh"><span class="hs-identifier hs-type">doubleACosh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-162"></span><span id="doubleACosh"><span class="annot"><span class="annottext">doubleACosh :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleACosh"><span class="hs-identifier hs-var hs-var">doubleACosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acosh</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.Utils.Float.html#doubleATanh"><span class="hs-pragma hs-type">doubleATanh</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-165"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleATanh"><span class="hs-identifier hs-type">doubleATanh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-166"></span><span id="doubleATanh"><span class="annot"><span class="annottext">doubleATanh :: Double -&gt; Double
</span><a href="Agda.Utils.Float.html#doubleATanh"><span class="hs-identifier hs-var hs-var">doubleATanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atanh</span></span><span> </span><span class="hs-comment">-- NOTE: doesn't cause underflow/overflow</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-comment">-- UNUSED:</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- {-# INLINE negativeZero #-}</span><span>
</span><span id="line-170"></span><span class="hs-comment">-- negativeZero :: Double</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- negativeZero = -0.0</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="annot"><a href="Agda.Utils.Float.html#positiveInfinity"><span class="hs-identifier hs-type">positiveInfinity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-174"></span><span id="positiveInfinity"><span class="annot"><span class="annottext">positiveInfinity :: Double
</span><a href="Agda.Utils.Float.html#positiveInfinity"><span class="hs-identifier hs-var hs-var">positiveInfinity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1.0</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="annot"><a href="Agda.Utils.Float.html#negativeInfinity"><span class="hs-identifier hs-type">negativeInfinity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-177"></span><span id="negativeInfinity"><span class="annot"><span class="annottext">negativeInfinity :: Double
</span><a href="Agda.Utils.Float.html#negativeInfinity"><span class="hs-identifier hs-var hs-var">negativeInfinity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Double
</span><a href="Agda.Utils.Float.html#positiveInfinity"><span class="hs-identifier hs-var">positiveInfinity</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Agda.Utils.Float.html#nan"><span class="hs-identifier hs-type">nan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-180"></span><span id="nan"><span class="annot"><span class="annottext">nan :: Double
</span><a href="Agda.Utils.Float.html#nan"><span class="hs-identifier hs-var hs-var">nan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><a href="Agda.Utils.Float.html#isPosInf"><span class="hs-identifier hs-type">isPosInf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-183"></span><span id="isPosInf"><span class="annot"><span class="annottext">isPosInf :: Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#isPosInf"><span class="hs-identifier hs-var hs-var">isPosInf</span></a></span></span><span> </span><span id="local-6989586621681707003"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707003"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707003"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isInfinite</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707003"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Agda.Utils.Float.html#isNegInf"><span class="hs-identifier hs-type">isNegInf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-186"></span><span id="isNegInf"><span class="annot"><span class="annottext">isNegInf :: Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#isNegInf"><span class="hs-identifier hs-var hs-var">isNegInf</span></a></span></span><span> </span><span id="local-6989586621681707007"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707007"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707007"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isInfinite</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707007"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Agda.Utils.Float.html#isPosZero"><span class="hs-identifier hs-type">isPosZero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-189"></span><span id="isPosZero"><span class="annot"><span class="annottext">isPosZero :: Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#isPosZero"><span class="hs-identifier hs-var hs-var">isPosZero</span></a></span></span><span> </span><span id="local-6989586621681707008"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707008"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#doubleDenotEq"><span class="hs-identifier hs-var">doubleDenotEq</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707008"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Agda.Utils.Float.html#isNegZero"><span class="hs-identifier hs-type">isNegZero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-192"></span><span id="isNegZero"><span class="annot"><span class="annottext">isNegZero :: Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#isNegZero"><span class="hs-identifier hs-var hs-var">isNegZero</span></a></span></span><span> </span><span id="local-6989586621681707009"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707009"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#doubleDenotEq"><span class="hs-identifier hs-var">doubleDenotEq</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707009"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleRound"><span class="hs-identifier hs-type">doubleRound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-195"></span><span id="doubleRound"><span class="annot"><span class="annottext">doubleRound :: Double -&gt; Maybe Integer
</span><a href="Agda.Utils.Float.html#doubleRound"><span class="hs-identifier hs-var hs-var">doubleRound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Maybe Double -&gt; Maybe Integer
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">round</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Double -&gt; Maybe Integer)
-&gt; (Double -&gt; Maybe Double) -&gt; Double -&gt; Maybe Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
</span><a href="Agda.Utils.Float.html#asFinite"><span class="hs-identifier hs-var">asFinite</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleFloor"><span class="hs-identifier hs-type">doubleFloor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-198"></span><span id="doubleFloor"><span class="annot"><span class="annottext">doubleFloor :: Double -&gt; Maybe Integer
</span><a href="Agda.Utils.Float.html#doubleFloor"><span class="hs-identifier hs-var hs-var">doubleFloor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Maybe Double -&gt; Maybe Integer
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Double -&gt; Maybe Integer)
-&gt; (Double -&gt; Maybe Double) -&gt; Double -&gt; Maybe Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
</span><a href="Agda.Utils.Float.html#asFinite"><span class="hs-identifier hs-var">asFinite</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleCeiling"><span class="hs-identifier hs-type">doubleCeiling</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-201"></span><span id="doubleCeiling"><span class="annot"><span class="annottext">doubleCeiling :: Double -&gt; Maybe Integer
</span><a href="Agda.Utils.Float.html#doubleCeiling"><span class="hs-identifier hs-var hs-var">doubleCeiling</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Maybe Double -&gt; Maybe Integer
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">ceiling</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Double -&gt; Maybe Integer)
-&gt; (Double -&gt; Maybe Double) -&gt; Double -&gt; Maybe Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
</span><a href="Agda.Utils.Float.html#asFinite"><span class="hs-identifier hs-var">asFinite</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-- UNUSED:</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- normaliseNaN :: Double -&gt; Double</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- normaliseNaN x</span><span>
</span><span id="line-206"></span><span class="hs-comment">--   | isNaN x   = nan</span><span>
</span><span id="line-207"></span><span class="hs-comment">--   | otherwise = x</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleToWord64"><span class="hs-identifier hs-type">doubleToWord64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-210"></span><span id="doubleToWord64"><span class="annot"><span class="annottext">doubleToWord64 :: Double -&gt; Maybe Word64
</span><a href="Agda.Utils.Float.html#doubleToWord64"><span class="hs-identifier hs-var hs-var">doubleToWord64</span></a></span></span><span> </span><span id="local-6989586621681707013"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707013"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isNaN</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707013"><span class="hs-identifier hs-var">x</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word64
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Word64
</span><span class="hs-identifier hs-var">castDoubleToWord64</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707013"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">-- |Denotational equality for floating point numbers, checks bitwise equality.</span><span>
</span><span id="line-215"></span><span class="hs-comment">--</span><span>
</span><span id="line-216"></span><span class="hs-comment">--  NOTE: Denotational equality distinguishes NaNs, so its results may vary</span><span>
</span><span id="line-217"></span><span class="hs-comment">--        depending on the architecture and compilation flags. Unfortunately,</span><span>
</span><span id="line-218"></span><span class="hs-comment">--        this is a problem with floating-point numbers in general.</span><span>
</span><span id="line-219"></span><span class="hs-comment">--</span><span>
</span><span id="line-220"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleDenotEq"><span class="hs-identifier hs-type">doubleDenotEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-221"></span><span id="doubleDenotEq"><span class="annot"><span class="annottext">doubleDenotEq :: Double -&gt; Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#doubleDenotEq"><span class="hs-identifier hs-var hs-var">doubleDenotEq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word64 -&gt; Maybe Word64 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Word64 -&gt; Maybe Word64 -&gt; Bool)
-&gt; (Double -&gt; Maybe Word64) -&gt; Double -&gt; Double -&gt; Bool
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Word64
</span><a href="Agda.Utils.Float.html#doubleToWord64"><span class="hs-identifier hs-var">doubleToWord64</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-comment">-- |I guess &quot;denotational orderings&quot; are now a thing? The point is that we need</span><span>
</span><span id="line-224"></span><span class="hs-comment">--  an Ord instance which provides a total ordering, and is consistent with the</span><span>
</span><span id="line-225"></span><span class="hs-comment">--  denotational equality.</span><span>
</span><span id="line-226"></span><span class="hs-comment">--</span><span>
</span><span id="line-227"></span><span class="hs-comment">--  NOTE: The ordering induced via `doubleToWord64` is total, and is consistent</span><span>
</span><span id="line-228"></span><span class="hs-comment">--        with `doubleDenotEq`. However, it is *deeply* unintuitive. For one, it</span><span>
</span><span id="line-229"></span><span class="hs-comment">--        considers all negative numbers to be larger than positive numbers.</span><span>
</span><span id="line-230"></span><span class="hs-comment">--</span><span>
</span><span id="line-231"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleDenotOrd"><span class="hs-identifier hs-type">doubleDenotOrd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span>
</span><span id="line-232"></span><span id="doubleDenotOrd"><span class="annot"><span class="annottext">doubleDenotOrd :: Double -&gt; Double -&gt; Ordering
</span><a href="Agda.Utils.Float.html#doubleDenotOrd"><span class="hs-identifier hs-var hs-var">doubleDenotOrd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word64 -&gt; Maybe Word64 -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Word64 -&gt; Maybe Word64 -&gt; Ordering)
-&gt; (Double -&gt; Maybe Word64) -&gt; Double -&gt; Double -&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Word64
</span><a href="Agda.Utils.Float.html#doubleToWord64"><span class="hs-identifier hs-var">doubleToWord64</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="annot"><span class="hs-comment">-- |Return Just x if it's a finite number, otherwise return Nothing.</span></span><span>
</span><span id="line-235"></span><span class="annot"><a href="Agda.Utils.Float.html#asFinite"><span class="hs-identifier hs-type">asFinite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-236"></span><span id="asFinite"><span class="annot"><span class="annottext">asFinite :: Double -&gt; Maybe Double
</span><a href="Agda.Utils.Float.html#asFinite"><span class="hs-identifier hs-var hs-var">asFinite</span></a></span></span><span> </span><span id="local-6989586621681707016"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707016"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isNaN</span></span><span>      </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707016"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Double
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isInfinite</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707016"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Double
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707016"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="annot"><span class="hs-comment">-- |Remove suffix @.0@ from printed floating point number.</span></span><span>
</span><span id="line-242"></span><span class="annot"><a href="Agda.Utils.Float.html#toStringWithoutDotZero"><span class="hs-identifier hs-type">toStringWithoutDotZero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-243"></span><span id="toStringWithoutDotZero"><span class="annot"><span class="annottext">toStringWithoutDotZero :: Double -&gt; String
</span><a href="Agda.Utils.Float.html#toStringWithoutDotZero"><span class="hs-identifier hs-var hs-var">toStringWithoutDotZero</span></a></span></span><span> </span><span id="local-6989586621681707017"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707017"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String -&gt; String
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681707018"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; String) -&gt; Maybe String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Maybe String
forall a. Eq a =&gt; Suffix a -&gt; Suffix a -&gt; Maybe (Suffix a)
</span><a href="Agda.Utils.List.html#stripSuffix"><span class="hs-identifier hs-var">stripSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.0&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681707018"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681707018"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681707018"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707017"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="annot"><span class="hs-comment">-- |Decode a Double to an integer ratio.</span></span><span>
</span><span id="line-247"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleToRatio"><span class="hs-identifier hs-type">doubleToRatio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span id="doubleToRatio"><span class="annot"><span class="annottext">doubleToRatio :: Double -&gt; (Integer, Integer)
</span><a href="Agda.Utils.Float.html#doubleToRatio"><span class="hs-identifier hs-var hs-var">doubleToRatio</span></a></span></span><span> </span><span id="local-6989586621681707020"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707020"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isNaN</span></span><span>      </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707020"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isInfinite</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707020"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707020"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681707022"><span class="annot"><span class="annottext">r :: Rational
</span><a href="#local-6989586621681707022"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707020"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">numerator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681707022"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681707022"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="annot"><span class="hs-comment">-- |Encode an integer ratio as a double.</span></span><span>
</span><span id="line-254"></span><span class="annot"><a href="Agda.Utils.Float.html#ratioToDouble"><span class="hs-identifier hs-type">ratioToDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-255"></span><span id="ratioToDouble"><span class="annot"><span class="annottext">ratioToDouble :: Integer -&gt; Integer -&gt; Double
</span><a href="Agda.Utils.Float.html#ratioToDouble"><span class="hs-identifier hs-var hs-var">ratioToDouble</span></a></span></span><span> </span><span id="local-6989586621681707023"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707023"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681707024"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707024"><span class="hs-identifier hs-var">d</span></a></span></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707024"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707023"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="Agda.Utils.Float.html#negativeInfinity"><span class="hs-identifier hs-var">negativeInfinity</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="Agda.Utils.Float.html#nan"><span class="hs-identifier hs-var">nan</span></a></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="Agda.Utils.Float.html#positiveInfinity"><span class="hs-identifier hs-var">positiveInfinity</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707023"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707024"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-- |Decode a Double to its mantissa and its exponent, normalised such that the</span><span>
</span><span id="line-263"></span><span class="hs-comment">--  mantissa is the smallest possible number without loss of accuracy.</span><span>
</span><span id="line-264"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleDecode"><span class="hs-identifier hs-type">doubleDecode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span id="doubleDecode"><span class="annot"><span class="annottext">doubleDecode :: Double -&gt; Maybe (Integer, Integer)
</span><a href="Agda.Utils.Float.html#doubleDecode"><span class="hs-identifier hs-var hs-var">doubleDecode</span></a></span></span><span> </span><span id="local-6989586621681707025"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707025"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isNaN</span></span><span>      </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707025"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Integer, Integer)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">isInfinite</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707025"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Integer, Integer)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer, Integer) -&gt; Maybe (Integer, Integer)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Integer -&gt; (Integer, Integer))
-&gt; (Integer, Integer) -&gt; (Integer, Integer)
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; (Integer, Integer)
</span><a href="#local-6989586621681707027"><span class="hs-identifier hs-var">normalise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; (Integer, Int) -&gt; (Integer, Integer)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; (Integer, Int)
forall a. RealFloat a =&gt; a -&gt; (Integer, Int)
</span><span class="hs-identifier hs-var">decodeFloat</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707025"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><a href="#local-6989586621681707027"><span class="hs-identifier hs-type">normalise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>    </span><span id="local-6989586621681707027"><span class="annot"><span class="annottext">normalise :: Integer -&gt; Integer -&gt; (Integer, Integer)
</span><a href="#local-6989586621681707027"><span class="hs-identifier hs-var hs-var">normalise</span></a></span></span><span> </span><span id="local-6989586621681707029"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707029"><span class="hs-identifier hs-var">mantissa</span></a></span></span><span> </span><span id="local-6989586621681707030"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707030"><span class="hs-identifier hs-var">exponent</span></a></span></span><span>
</span><span id="line-272"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Bool
forall a. Integral a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">even</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707029"><span class="hs-identifier hs-var">mantissa</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; (Integer, Integer)
</span><a href="#local-6989586621681707027"><span class="hs-identifier hs-var">normalise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707029"><span class="hs-identifier hs-var">mantissa</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707030"><span class="hs-identifier hs-var">exponent</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707029"><span class="hs-identifier hs-var">mantissa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707030"><span class="hs-identifier hs-var">exponent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><span class="hs-comment">-- |Checks whether or not the Double is within a safe range of operation.</span></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Agda.Utils.Float.html#isSafeInteger"><span class="hs-identifier hs-type">isSafeInteger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-277"></span><span id="isSafeInteger"><span class="annot"><span class="annottext">isSafeInteger :: Double -&gt; Bool
</span><a href="Agda.Utils.Float.html#isSafeInteger"><span class="hs-identifier hs-var hs-var">isSafeInteger</span></a></span></span><span> </span><span id="local-6989586621681707033"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707033"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Double -&gt; (Integer, Double)
forall b. Integral b =&gt; Double -&gt; (b, Double)
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; (b, a)
</span><span class="hs-identifier hs-var">properFraction</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707033"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681707035"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707035"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681707036"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707036"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681707036"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#minMantissa"><span class="hs-identifier hs-var">minMantissa</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707035"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707035"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#maxMantissa"><span class="hs-identifier hs-var">maxMantissa</span></a></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleRadix"><span class="hs-identifier hs-type">doubleRadix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-281"></span><span id="doubleRadix"><span class="annot"><span class="annottext">doubleRadix :: Integer
</span><a href="Agda.Utils.Float.html#doubleRadix"><span class="hs-identifier hs-var hs-var">doubleRadix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleDigits"><span class="hs-identifier hs-type">doubleDigits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-284"></span><span id="doubleDigits"><span class="annot"><span class="annottext">doubleDigits :: Int
</span><a href="Agda.Utils.Float.html#doubleDigits"><span class="hs-identifier hs-var hs-var">doubleDigits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall a. RealFloat a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">floatDigits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleRange"><span class="hs-identifier hs-type">doubleRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span id="doubleRange"><span class="annot"><span class="annottext">doubleRange :: (Int, Int)
</span><a href="Agda.Utils.Float.html#doubleRange"><span class="hs-identifier hs-var hs-var">doubleRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; (Int, Int)
forall a. RealFloat a =&gt; a -&gt; (Int, Int)
</span><span class="hs-identifier hs-var">floatRange</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">-- |The smallest representable mantissa. Simultaneously, the smallest integer which can be</span><span>
</span><span id="line-290"></span><span class="hs-comment">--  represented as a Double without loss of precision.</span><span>
</span><span id="line-291"></span><span class="annot"><a href="Agda.Utils.Float.html#minMantissa"><span class="hs-identifier hs-type">minMantissa</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-292"></span><span id="minMantissa"><span class="annot"><span class="annottext">minMantissa :: Integer
</span><a href="Agda.Utils.Float.html#minMantissa"><span class="hs-identifier hs-var hs-var">minMantissa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#maxMantissa"><span class="hs-identifier hs-var">maxMantissa</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- |The largest representable mantissa. Simultaneously, the largest integer which can be</span><span>
</span><span id="line-295"></span><span class="hs-comment">--  represented as a Double without loss of precision.</span><span>
</span><span id="line-296"></span><span class="annot"><a href="Agda.Utils.Float.html#maxMantissa"><span class="hs-identifier hs-type">maxMantissa</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-297"></span><span id="maxMantissa"><span class="annot"><span class="annottext">maxMantissa :: Integer
</span><a href="Agda.Utils.Float.html#maxMantissa"><span class="hs-identifier hs-var hs-var">maxMantissa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#doubleRadix"><span class="hs-identifier hs-var">doubleRadix</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Agda.Utils.Float.html#doubleDigits"><span class="hs-identifier hs-var">doubleDigits</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="annot"><span class="hs-comment">-- |The largest representable exponent.</span></span><span>
</span><span id="line-300"></span><span class="annot"><a href="Agda.Utils.Float.html#minExponent"><span class="hs-identifier hs-type">minExponent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-301"></span><span id="minExponent"><span class="annot"><span class="annottext">minExponent :: Integer
</span><a href="Agda.Utils.Float.html#minExponent"><span class="hs-identifier hs-var hs-var">minExponent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Int -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int, Int) -&gt; Int
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(Int, Int)
</span><a href="Agda.Utils.Float.html#doubleRange"><span class="hs-identifier hs-var">doubleRange</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Agda.Utils.Float.html#doubleDigits"><span class="hs-identifier hs-var">doubleDigits</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="annot"><span class="hs-comment">-- |The smallest representable exponent.</span></span><span>
</span><span id="line-304"></span><span class="annot"><a href="Agda.Utils.Float.html#maxExponent"><span class="hs-identifier hs-type">maxExponent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-305"></span><span id="maxExponent"><span class="annot"><span class="annottext">maxExponent :: Integer
</span><a href="Agda.Utils.Float.html#maxExponent"><span class="hs-identifier hs-var hs-var">maxExponent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Int -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(Int, Int)
</span><a href="Agda.Utils.Float.html#doubleRange"><span class="hs-identifier hs-var">doubleRange</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Agda.Utils.Float.html#doubleDigits"><span class="hs-identifier hs-var">doubleDigits</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><span class="hs-comment">-- |Encode a mantissa and an exponent as a Double.</span></span><span>
</span><span id="line-308"></span><span class="annot"><a href="Agda.Utils.Float.html#doubleEncode"><span class="hs-identifier hs-type">doubleEncode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-309"></span><span id="doubleEncode"><span class="annot"><span class="annottext">doubleEncode :: Integer -&gt; Integer -&gt; Maybe Double
</span><a href="Agda.Utils.Float.html#doubleEncode"><span class="hs-identifier hs-var hs-var">doubleEncode</span></a></span></span><span> </span><span id="local-6989586621681707051"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707051"><span class="hs-identifier hs-var">mantissa</span></a></span></span><span> </span><span id="local-6989586621681707052"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707052"><span class="hs-identifier hs-var">exponent</span></a></span></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#minMantissa"><span class="hs-identifier hs-var">minMantissa</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707051"><span class="hs-identifier hs-var">mantissa</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707051"><span class="hs-identifier hs-var">mantissa</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#maxMantissa"><span class="hs-identifier hs-var">maxMantissa</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-311"></span><span>       </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#minExponent"><span class="hs-identifier hs-var">minExponent</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707052"><span class="hs-identifier hs-var">exponent</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707052"><span class="hs-identifier hs-var">exponent</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="Agda.Utils.Float.html#maxExponent"><span class="hs-identifier hs-var">maxExponent</span></a></span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Double
forall a. RealFloat a =&gt; Integer -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">encodeFloat</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707051"><span class="hs-identifier hs-var">mantissa</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681707052"><span class="hs-identifier hs-var">exponent</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe Double
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-314"></span></pre></body></html>