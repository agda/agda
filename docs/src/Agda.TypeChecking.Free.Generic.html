<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes, CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wunused-imports #-}</span><span class="hs-cpp">

#if  __GLASGOW_HASKELL__ &gt; 902
</span><span class="hs-pragma">{-# OPTIONS_GHC -fworker-wrapper-cbv #-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-8"></span><span class="annot"><span class="hs-comment">{- |
Computing free variables of a term generically. Different queries can be specialized to the
appropriate short-circuiting behavior and to only pass around the necessary data. A query can be
written as an instance to the 'ComputeFree' class which bundles all parameters of the generic
traversal. The traversal itself is defined in the instance of the 'Free' class. See
Agda.TypeChecking.Free for examples of queries.

Background notes:

The distinction between rigid and strongly rigid occurrences comes from: Jason C. Reed, PhD thesis,
  2009, page 96 (see also his LFMTP 2009 paper)

The main idea is that x = t(x) is unsolvable if x occurs strongly rigidly in t. It might have a
solution if the occurrence is not strongly rigid, e.g.

  x = \f -&gt; suc (f (x (\ y -&gt; k)))  has  x = \f -&gt; suc (f (suc k))

[Jason C. Reed, PhD thesis, page 106]

Under coinductive constructors, occurrences are never strongly rigid.  Also, function types and
lambdas do not establish strong rigidity.  Only inductive constructors do so.  (See issue 1271).

For further reading on semirings and semimodules for variable occurrence, see e.g. Conor McBrides &quot;I
got plenty of nuttin'&quot; (Wadlerfest 2016).  There, he treats the &quot;quantity&quot; dimension of variable
occurrences.

The semiring has an additive operation for combining occurrences of subterms, and a
multiplicative operation of representing function composition. E.g.  if variable @x@ appears @o@
in term @u@, but @u@ appears in context @q@ in term @t@ then occurrence of variable @x@ coming
from @u@ is accounted for as @q o@ in @t@.

Consider the example @(&#955;{ x &#8594; (x,x)}) y@:

  * Variable @x@ occurs once unguarded in @x@.

  * It occurs twice unguarded in the aggregation @x@ @x@

  * Inductive constructor @,@ turns this into two strictly rigid occurrences.

    If @,@ is a record constructor, then we stay unguarded.

  * The function @({&#955; x &#8594; (x,x)})@ provides a context for variable @y@.
    This context can be described as weakly rigid with quantity two.

  * The final occurrence of @y@ is obtained as composing the context with
    the occurrence of @y@ in itself (which is the unit for composition).
    Thus, @y@ occurs weakly rigid with quantity two.

It is not a given that the context can be described in the same way as the variable occurrence.
However, for the purpose of quantity it is the case and we obtain a semiring of occurrences with 0,
1, and even &#969;, which is an absorptive element for addition.
-}</span></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html"><span class="hs-identifier">Agda.TypeChecking.Free.Generic</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html"><span class="hs-identifier">Agda.Syntax.Common</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html"><span class="hs-identifier">Agda.Syntax.Internal</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html"><span class="hs-identifier">Agda.TypeChecking.Free.Base</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.ExpandCase.html"><span class="hs-identifier">Agda.Utils.ExpandCase</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Lens.html"><span class="hs-identifier">Agda.Utils.Lens</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List1.html"><span class="hs-identifier">Agda.Utils.List1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List1.html#List1"><span class="hs-identifier">List1</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><span class="hs-operator">(:|)</span></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Monad.html"><span class="hs-identifier">Agda.Utils.Monad</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Singleton.html"><span class="hs-identifier">Agda.Utils.Singleton</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Size.html"><span class="hs-identifier">Agda.Utils.Size</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html"><span class="hs-identifier">Agda.Utils.StrictReader</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- | Instances of 'ComputeFree' are inputs to the generic traveral implemented by 'Free' instances.</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   The @r@ type parameter denotes the 'Reader' environment of the traversal.</span><span>
</span><span id="line-79"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.ExpandCase.html#ExpandCase"><span class="hs-identifier hs-type">ExpandCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="ComputeFree"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-var">ComputeFree</span></a></span></span><span> </span><span id="local-6989586621681788063"><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Collect"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-var">Collect</span></a></span></span><span> </span><span id="local-6989586621681788063"><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-comment">-- ^ The result type of the traversal. Most commonly, this is either a newtype wrapper on 'Bool'</span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-comment">--   or some instantiation of 'StrictEndo' from 'Agda.Utils.StrictEndo'. The latter is used to</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-comment">--   efficiently accummulate sets or maps.</span><span>
</span><span id="line-84"></span><span>  </span><span id="underBinders%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underBinders%27"><span class="hs-identifier hs-type">underBinders'</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-comment">-- ^ Update the environment when going under some number of binders.</span><span>
</span><span id="line-86"></span><span>  </span><span id="underConstructor%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underConstructor%27"><span class="hs-identifier hs-type">underConstructor'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-type">ConHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Elims"><span class="hs-identifier hs-type">Elims</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-comment">-- ^ Update the environment when descending into the spine of a constructor.</span><span>
</span><span id="line-88"></span><span>  </span><span id="underModality%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underModality%27"><span class="hs-identifier hs-type">underModality'</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-comment">-- ^ Update the environment when going under a modality. 'Nothing' has the identity action.</span><span>
</span><span id="line-90"></span><span>  </span><span id="underFlexRig%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig%27"><span class="hs-identifier hs-type">underFlexRig'</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html#FlexRig"><span class="hs-identifier hs-type">FlexRig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-comment">-- ^ Update the environment when the rigidity of the current position changes, e.g. we switch to</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-comment">--   flexible mode when going into the spine of an unsolved metavariable. See the 'Free' instances</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-comment">--   for details. 'Nothing' has the identity action. NOTE: since 'Modality' contains 'FlexRig'</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-comment">--   information, if you implement a non-trivial 'FlexRig' update, you must also implement a</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-comment">--   non-trivial modality update, in order to handle the 'FlexRig'-s there!</span><span>
</span><span id="line-96"></span><span>  </span><span id="underRelevance%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underRelevance%27"><span class="hs-identifier hs-type">underRelevance'</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Relevance"><span class="hs-identifier hs-type">Relevance</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-comment">-- ^ Update the environment with relevance information. 'Nothing' has the identity action. NOTE:</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-comment">--   since 'Modality' contains relevances, if you implement non-trivial 'Relevance' update, you</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-comment">--   must also implement a non-trivial modality update, to handle the relevances there!</span><span>
</span><span id="line-100"></span><span>  </span><span id="variable%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#variable%27"><span class="hs-identifier hs-type">variable'</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788063"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-comment">-- ^ Evaluating a single variable. NOTE: you have to disambiguate bound and free variables yourself!</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-comment">--   For example, when we collect all free variables in a set, we need to store an 'Int' in the reader</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-comment">--   environment to keep track of the size of the local scope, which allows us to distinguish bound and</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-comment">--   free vars.</span><span>
</span><span id="line-105"></span><span>  </span><span id="ignoreSorts%27"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ignoreSorts%27"><span class="hs-identifier hs-type">ignoreSorts'</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html#IgnoreSorts"><span class="hs-identifier hs-type">IgnoreSorts</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-comment">-- ^ Do we want to skip over sorts of types?</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621681788270"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ignoreSorts%27"><span class="hs-identifier hs-var hs-var">ignoreSorts'</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IgnoreSorts
</span><a href="Agda.TypeChecking.Free.Base.html#IgnoreNot"><span class="hs-identifier hs-var">IgnoreNot</span></a></span></span><span class="hs-special">;</span><span> </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ignoreSorts%27"><span class="hs-pragma hs-type">ignoreSorts'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621681788272"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underConstructor%27"><span class="hs-identifier hs-var hs-var">underConstructor'</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Elims
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788273"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681788273"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681788273"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">;</span><span>         </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underConstructor%27"><span class="hs-pragma hs-type">underConstructor'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-110"></span><span>  </span><span id="local-6989586621681788274"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underModality%27"><span class="hs-identifier hs-var hs-var">underModality'</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Modality -&gt; r -&gt; r)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span class="hs-special">;</span><span>   </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underModality%27"><span class="hs-pragma hs-type">underModality'</span></a></span><span>    </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621681788275"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig%27"><span class="hs-identifier hs-var hs-var">underFlexRig'</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FlexRig -&gt; r -&gt; r)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span class="hs-special">;</span><span>   </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig%27"><span class="hs-pragma hs-type">underFlexRig'</span></a></span><span>     </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621681788276"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underRelevance%27"><span class="hs-identifier hs-var hs-var">underRelevance'</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Relevance -&gt; r -&gt; r)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span class="hs-special">;</span><span>   </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underRelevance%27"><span class="hs-pragma hs-type">underRelevance'</span></a></span><span>   </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underBinders"><span class="hs-pragma hs-type">underBinders</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-115"></span><span id="local-6989586621681788074"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underBinders"><span class="hs-identifier hs-type">underBinders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788074"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788074"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788074"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788074"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788074"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-116"></span><span id="underBinders"><span class="annot"><span class="annottext">underBinders :: forall r.
ComputeFree r =&gt;
Int -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underBinders"><span class="hs-identifier hs-var hs-var">underBinders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. (r -&gt; r) -&gt; Reader r a -&gt; Reader r a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span><span class="hs-identifier hs-var">local</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; (Int -&gt; r -&gt; r)
-&gt; Int
-&gt; Reader r (Collect r)
-&gt; Reader r (Collect r)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; r -&gt; r
forall r. ComputeFree r =&gt; Int -&gt; r -&gt; r
</span><a href="Agda.TypeChecking.Free.Generic.html#underBinders%27"><span class="hs-identifier hs-var">underBinders'</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underBinder"><span class="hs-pragma hs-type">underBinder</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-119"></span><span id="local-6989586621681788085"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underBinder"><span class="hs-identifier hs-type">underBinder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788085"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788085"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788085"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788085"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788085"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-120"></span><span id="underBinder"><span class="annot"><span class="annottext">underBinder :: forall r.
ComputeFree r =&gt;
Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underBinder"><span class="hs-identifier hs-var hs-var">underBinder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
Int -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underBinders"><span class="hs-identifier hs-var">underBinders</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underConstructor"><span class="hs-pragma hs-type">underConstructor</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-123"></span><span id="local-6989586621681788087"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underConstructor"><span class="hs-identifier hs-type">underConstructor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788087"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-type">ConHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Elims"><span class="hs-identifier hs-type">Elims</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788087"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788087"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788087"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788087"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-124"></span><span id="underConstructor"><span class="annot"><span class="annottext">underConstructor :: forall r.
ComputeFree r =&gt;
ConHead -&gt; Elims -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underConstructor"><span class="hs-identifier hs-var hs-var">underConstructor</span></a></span></span><span> </span><span id="local-6989586621681788291"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681788291"><span class="hs-identifier hs-var">hd</span></a></span></span><span> </span><span id="local-6989586621681788292"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788292"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. (r -&gt; r) -&gt; Reader r a -&gt; Reader r a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span><span class="hs-identifier hs-var">local</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; Elims -&gt; r -&gt; r
forall r. ComputeFree r =&gt; ConHead -&gt; Elims -&gt; r -&gt; r
</span><a href="Agda.TypeChecking.Free.Generic.html#underConstructor%27"><span class="hs-identifier hs-var">underConstructor'</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681788291"><span class="hs-identifier hs-var">hd</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788292"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underModality"><span class="hs-pragma hs-type">underModality</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-127"></span><span id="local-6989586621681788089"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underModality"><span class="hs-identifier hs-type">underModality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788089"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788089"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788089"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788089"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788089"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-128"></span><span id="underModality"><span class="annot"><span class="annottext">underModality :: forall r.
ComputeFree r =&gt;
Modality -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underModality"><span class="hs-identifier hs-var hs-var">underModality</span></a></span></span><span> </span><span id="local-6989586621681788297"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621681788297"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681788298"><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788298"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Modality -&gt; r -&gt; r)
forall r. ComputeFree r =&gt; Maybe (Modality -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underModality%27"><span class="hs-identifier hs-var">underModality'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Modality -&gt; r -&gt; r)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788298"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681788299"><span class="annot"><span class="annottext">Modality -&gt; r -&gt; r
</span><a href="#local-6989586621681788299"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. (r -&gt; r) -&gt; Reader r a -&gt; Reader r a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span><span class="hs-identifier hs-var">local</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modality -&gt; r -&gt; r
</span><a href="#local-6989586621681788299"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621681788297"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788298"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underRelevance"><span class="hs-pragma hs-type">underRelevance</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-133"></span><span id="local-6989586621681788091"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underRelevance"><span class="hs-identifier hs-type">underRelevance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788091"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Relevance"><span class="hs-identifier hs-type">Relevance</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788091"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788091"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788091"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788091"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-134"></span><span id="underRelevance"><span class="annot"><span class="annottext">underRelevance :: forall r.
ComputeFree r =&gt;
Relevance -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underRelevance"><span class="hs-identifier hs-var hs-var">underRelevance</span></a></span></span><span> </span><span id="local-6989586621681788304"><span class="annot"><span class="annottext">Relevance
</span><a href="#local-6989586621681788304"><span class="hs-identifier hs-var">rel</span></a></span></span><span> </span><span id="local-6989586621681788305"><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788305"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Relevance -&gt; r -&gt; r)
forall r. ComputeFree r =&gt; Maybe (Relevance -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underRelevance%27"><span class="hs-identifier hs-var">underRelevance'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Relevance -&gt; r -&gt; r)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788305"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681788306"><span class="annot"><span class="annottext">Relevance -&gt; r -&gt; r
</span><a href="#local-6989586621681788306"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. (r -&gt; r) -&gt; Reader r a -&gt; Reader r a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span><span class="hs-identifier hs-var">local</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Relevance -&gt; r -&gt; r
</span><a href="#local-6989586621681788306"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Relevance
</span><a href="#local-6989586621681788304"><span class="hs-identifier hs-var">rel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788305"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-pragma hs-type">underFlexRig</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-139"></span><span id="local-6989586621681788093"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-type">underFlexRig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788093"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html#FlexRig"><span class="hs-identifier hs-type">FlexRig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788093"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788093"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788093"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788093"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-140"></span><span id="underFlexRig"><span class="annot"><span class="annottext">underFlexRig :: forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var hs-var">underFlexRig</span></a></span></span><span> </span><span id="local-6989586621681788311"><span class="annot"><span class="annottext">FlexRig
</span><a href="#local-6989586621681788311"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span id="local-6989586621681788312"><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788312"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (FlexRig -&gt; r -&gt; r)
forall r. ComputeFree r =&gt; Maybe (FlexRig -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig%27"><span class="hs-identifier hs-var">underFlexRig'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><span class="annottext">Maybe (FlexRig -&gt; r -&gt; r)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788312"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681788313"><span class="annot"><span class="annottext">FlexRig -&gt; r -&gt; r
</span><a href="#local-6989586621681788313"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. (r -&gt; r) -&gt; Reader r a -&gt; Reader r a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span><span class="hs-identifier hs-var">local</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlexRig -&gt; r -&gt; r
</span><a href="#local-6989586621681788313"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
</span><a href="#local-6989586621681788311"><span class="hs-identifier hs-var">fr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
</span><a href="#local-6989586621681788312"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#variable"><span class="hs-pragma hs-type">variable</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-145"></span><span id="local-6989586621681788095"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#variable"><span class="hs-identifier hs-type">variable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788095"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788095"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788095"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-146"></span><span id="variable"><span class="annot"><span class="annottext">variable :: forall r. ComputeFree r =&gt; Int -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#variable"><span class="hs-identifier hs-var hs-var">variable</span></a></span></span><span> </span><span id="local-6989586621681788320"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681788320"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; r -&gt; Collect r
forall r. ComputeFree r =&gt; Int -&gt; r -&gt; Collect r
</span><a href="Agda.TypeChecking.Free.Generic.html#variable%27"><span class="hs-identifier hs-var">variable'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681788320"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Collect r) -&gt; Reader r r -&gt; Reader r (Collect r)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">&lt;$!&gt;</span></span><span> </span><span class="annot"><span class="annottext">Reader r r
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><span class="hs-identifier hs-var">ask</span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-keyword">class</span><span> </span><span id="Free"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-var">Free</span></a></span></span><span> </span><span id="local-6989586621681788104"><span class="annot"><a href="#local-6989586621681788104"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-151"></span><span>  </span><span id="freeVars"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-type">freeVars</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621681788101"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788101"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788104"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788101"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788101"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-type">freeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681788327"><span class="annot"><a href="#local-6989586621681788327"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788327"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788327"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788327"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>  </span><span id="local-6989586621681788385"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Term -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788386"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681788386"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788388"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681788389"><span class="annot"><span class="annottext">t' :: Term
</span><a href="#local-6989586621681788389"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall r. ComputeFree r =&gt; Maybe (Modality -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underModality%27"><span class="hs-identifier hs-var">underModality'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681788327"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall r. ComputeFree r =&gt; Maybe (FlexRig -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig%27"><span class="hs-identifier hs-var">underFlexRig'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681788327"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-160"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Modality -&gt; r -&gt; r)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FlexRig -&gt; r -&gt; r)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681788386"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-161"></span><span>               </span><span class="annot"><span class="annottext">(Maybe (Modality -&gt; r -&gt; r), Maybe (FlexRig -&gt; r -&gt; r))
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term
</span><a href="Agda.Syntax.Internal.html#unSpine"><span class="hs-identifier hs-var">unSpine</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681788386"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681788389"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621681788392"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681788392"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681788393"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788393"><span class="hs-identifier hs-var">ts</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Int -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#variable"><span class="hs-identifier hs-var">variable</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681788392"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
forall a. FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#WeaklyRigid"><span class="hs-identifier hs-var">WeaklyRigid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Elims -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Elims -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788393"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-type">Def</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788396"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788396"><span class="hs-identifier hs-var">ts</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
forall a. FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#WeaklyRigid"><span class="hs-identifier hs-var">WeaklyRigid</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Elims -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788396"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaV"><span class="hs-identifier hs-type">MetaV</span></a></span><span> </span><span id="local-6989586621681788398"><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621681788398"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681788399"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788399"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MetaSet -&gt; FlexRig
forall a. a -&gt; FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#Flexible"><span class="hs-identifier hs-var">Flexible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MetaId -&gt; MetaSet
forall el coll. Singleton el coll =&gt; el -&gt; coll
</span><a href="Agda.Utils.Singleton.html#singleton"><span class="hs-identifier hs-var">singleton</span></a></span><span> </span><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621681788398"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Elims -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788399"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>      </span><span class="hs-comment">-- &#955; is not considered guarding, as</span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-comment">-- we cannot prove that x &#8801; &#955;y.x is impossible.</span><span>
</span><span id="line-169"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788403"><span class="annot"><span class="annottext">Abs Term
</span><a href="#local-6989586621681788403"><span class="hs-identifier hs-var">t</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
forall a. FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#WeaklyRigid"><span class="hs-identifier hs-var">WeaklyRigid</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Abs Term -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Abs Term -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Term
</span><a href="#local-6989586621681788403"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>        </span><span class="hs-comment">-- Because we are not in TCM</span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-comment">-- we cannot query whether we are dealing with a data/record (strongly r.)</span><span>
</span><span id="line-174"></span><span>        </span><span class="hs-comment">-- or a definition by pattern matching (weakly rigid)</span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-comment">-- thus, we approximate, losing that x = List x is unsolvable</span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621681788406"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681788406"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788407"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788407"><span class="hs-identifier hs-var">ts</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; Elims -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
ConHead -&gt; Elims -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underConstructor"><span class="hs-identifier hs-var">underConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681788406"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788407"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Elims -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788407"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>      </span><span class="hs-comment">-- Pi is not guarding, since we cannot prove that A &#8801; B &#8594; A is impossible.</span><span>
</span><span id="line-178"></span><span>      </span><span class="hs-comment">-- Even as we do not permit infinite type expressions,</span><span>
</span><span id="line-179"></span><span>      </span><span class="hs-comment">-- we cannot prove their absence (as Set is not inductive).</span><span>
</span><span id="line-180"></span><span>      </span><span class="hs-comment">-- Also, this is incompatible with univalence (HoTT).</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>      </span><span class="hs-comment">-- Andr&#225;s 2026-01-22: the above comment is wrong if we use occurrence computation in RHS unification</span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621681788409"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681788409"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681788410"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681788410"><span class="hs-identifier hs-var">b</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Dom Type, Abs Type) -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
(Dom Type, Abs Type) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621681788409"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621681788410"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span id="local-6989586621681788412"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788412"><span class="hs-identifier hs-var">s</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Relevance -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
Relevance -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underRelevance"><span class="hs-identifier hs-var">underRelevance</span></a></span><span> </span><span class="annot"><span class="annottext">Relevance
</span><a href="Agda.Syntax.Common.html#shapeIrrelevant"><span class="hs-identifier hs-var">shapeIrrelevant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Sort -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788412"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span id="local-6989586621681788415"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681788415"><span class="hs-identifier hs-var">l</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Level -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681788415"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#DontCare"><span class="hs-identifier hs-type">DontCare</span></a></span><span> </span><span id="local-6989586621681788417"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681788417"><span class="hs-identifier hs-var">mt</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
Modality -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underModality"><span class="hs-identifier hs-var">underModality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Relevance -&gt; Quantity -&gt; Cohesion -&gt; PolarityModality -&gt; Modality
</span><a href="Agda.Syntax.Common.html#Modality"><span class="hs-identifier hs-var">Modality</span></a></span><span> </span><span class="annot"><span class="annottext">Relevance
</span><a href="Agda.Syntax.Common.html#irrelevant"><span class="hs-identifier hs-var">irrelevant</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity
</span><a href="Agda.Syntax.Common.html#unitQuantity"><span class="hs-identifier hs-var">unitQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">Cohesion
</span><a href="Agda.Syntax.Common.html#unitCohesion"><span class="hs-identifier hs-var">unitCohesion</span></a></span><span> </span><span class="annot"><span class="annottext">PolarityModality
</span><a href="Agda.Syntax.Common.html#unitPolarity"><span class="hs-identifier hs-var">unitPolarity</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Term -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621681788417"><span class="hs-identifier hs-var">mt</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dummy"><span class="hs-identifier hs-type">Dummy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788388"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788130"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788130"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.Elim.html#Elim%27"><span class="hs-identifier hs-type">Elim'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788130"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621681788437"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Elim' t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788438"><span class="annot"><span class="annottext">Elim' t
</span><a href="#local-6989586621681788438"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788439"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788439"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Elim' t
</span><a href="#local-6989586621681788438"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.Elim.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span id="local-6989586621681788441"><span class="annot"><span class="annottext">Arg t
</span><a href="#local-6989586621681788441"><span class="hs-identifier hs-var">t</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788439"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Arg t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Arg t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Arg t
</span><a href="#local-6989586621681788441"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.Elim.html#Proj"><span class="hs-identifier hs-type">Proj</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788439"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.Elim.html#IApply"><span class="hs-identifier hs-type">IApply</span></a></span><span> </span><span id="local-6989586621681788444"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788444"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681788445"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788445"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681788446"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788446"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788439"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(t, t, t) -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; (t, t, t) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788444"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788445"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788446"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788128"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788128"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Type%27"><span class="hs-identifier hs-type">Type'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788128"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-type">freeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681788449"><span class="annot"><a href="#local-6989586621681788449"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788449"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type%27"><span class="hs-identifier hs-type">Type'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788128"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788449"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788449"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621681788461"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Type' t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788462"><span class="annot"><span class="annottext">Type' t
</span><a href="#local-6989586621681788462"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788463"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788463"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type' t
</span><a href="#local-6989586621681788462"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-type">El</span></a></span><span> </span><span id="local-6989586621681788465"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788465"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681788466"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788466"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall r. ComputeFree r =&gt; IgnoreSorts
</span><a href="Agda.TypeChecking.Free.Generic.html#ignoreSorts%27"><span class="hs-identifier hs-var">ignoreSorts'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681788449"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">IgnoreSorts
</span><a href="Agda.TypeChecking.Free.Base.html#IgnoreNot"><span class="hs-identifier hs-var">IgnoreNot</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788463"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Sort, t) -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; (Sort, t) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788465"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788466"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><span class="annottext">IgnoreSorts
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788463"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788466"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-type">freeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681788468"><span class="annot"><a href="#local-6989586621681788468"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#ComputeFree"><span class="hs-identifier hs-type">ComputeFree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788468"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Utils.StrictReader.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788468"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Collect"><span class="hs-identifier hs-type">Collect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788468"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>  </span><span id="local-6989586621681788513"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Sort -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788514"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788514"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788515"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall r. ComputeFree r =&gt; IgnoreSorts
</span><a href="Agda.TypeChecking.Free.Generic.html#ignoreSorts%27"><span class="hs-identifier hs-var">ignoreSorts'</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681788468"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-206"></span><span>      </span><span class="annot"><span class="annottext">IgnoreSorts
</span><a href="Agda.TypeChecking.Free.Base.html#IgnoreAll"><span class="hs-identifier hs-var">IgnoreAll</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">IgnoreSorts
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788514"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#Univ"><span class="hs-identifier hs-type">Univ</span></a></span><span> </span><span class="annot"><span class="annottext">Univ
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788518"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681788518"><span class="hs-identifier hs-var">a</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Level -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Level -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681788518"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#Inf"><span class="hs-identifier hs-type">Inf</span></a></span><span> </span><span class="annot"><span class="annottext">Univ
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#SizeUniv"><span class="hs-identifier hs-var">SizeUniv</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#LockUniv"><span class="hs-identifier hs-var">LockUniv</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#LevelUniv"><span class="hs-identifier hs-var">LevelUniv</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#IntervalUniv"><span class="hs-identifier hs-var">IntervalUniv</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#PiSort"><span class="hs-identifier hs-type">PiSort</span></a></span><span> </span><span id="local-6989586621681788525"><span class="annot"><span class="annottext">Dom' Term Term
</span><a href="#local-6989586621681788525"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681788526"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788526"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621681788527"><span class="annot"><span class="annottext">Abs Sort
</span><a href="#local-6989586621681788527"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MetaSet -&gt; FlexRig
forall a. a -&gt; FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#Flexible"><span class="hs-identifier hs-var">Flexible</span></a></span><span> </span><span class="annot"><span class="annottext">MetaSet
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Term -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Reader r (Collect r)) -&gt; Term -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Dom' Term Term -&gt; Term
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom' Term Term
</span><a href="#local-6989586621681788525"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-215"></span><span>                                </span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
forall a. FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#WeaklyRigid"><span class="hs-identifier hs-var">WeaklyRigid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sort, Abs Sort) -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; (Sort, Abs Sort) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788526"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Abs Sort
</span><a href="#local-6989586621681788527"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#FunSort"><span class="hs-identifier hs-type">FunSort</span></a></span><span> </span><span id="local-6989586621681788530"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788530"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621681788531"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788531"><span class="hs-identifier hs-var">s2</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sort -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Sort -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788530"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Sort -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Sort -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788531"><span class="hs-identifier hs-var">s2</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#UnivSort"><span class="hs-identifier hs-type">UnivSort</span></a></span><span> </span><span id="local-6989586621681788533"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788533"><span class="hs-identifier hs-var">s</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
forall a. FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#WeaklyRigid"><span class="hs-identifier hs-var">WeaklyRigid</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sort -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Sort -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788533"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-218"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaS"><span class="hs-identifier hs-type">MetaS</span></a></span><span> </span><span id="local-6989586621681788535"><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621681788535"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681788536"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788536"><span class="hs-identifier hs-var">es</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MetaSet -&gt; FlexRig
forall a. a -&gt; FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#Flexible"><span class="hs-identifier hs-var">Flexible</span></a></span><span> </span><span class="annot"><span class="annottext">(MetaSet -&gt; FlexRig) -&gt; MetaSet -&gt; FlexRig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetaId -&gt; MetaSet
forall el coll. Singleton el coll =&gt; el -&gt; coll
</span><a href="Agda.Utils.Singleton.html#singleton"><span class="hs-identifier hs-var">singleton</span></a></span><span> </span><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621681788535"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Elims -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788536"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#DefS"><span class="hs-identifier hs-type">DefS</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788538"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788538"><span class="hs-identifier hs-var">es</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
FlexRig -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underFlexRig"><span class="hs-identifier hs-var">underFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig
forall a. FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#WeaklyRigid"><span class="hs-identifier hs-var">WeaklyRigid</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Elims -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788538"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#DummyS"><span class="hs-identifier hs-type">DummyS</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788515"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788166"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788166"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681788166"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>  </span><span id="local-6989586621681788550"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Maybe t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788551"><span class="annot"><span class="annottext">Maybe t
</span><a href="#local-6989586621681788551"><span class="hs-identifier hs-var">mt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788552"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788552"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe t
</span><a href="#local-6989586621681788551"><span class="hs-identifier hs-var">mt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><span class="annottext">Maybe t
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788552"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-225"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681788553"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788553"><span class="hs-identifier hs-var">t</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788552"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788553"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788127"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788127"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681788127"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621681788567"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; [t] -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788568"><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681788568"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788569"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788569"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681788568"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788569"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621681788570"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788570"><span class="hs-identifier hs-var">t</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681788571"><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681788571"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788569"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788570"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[t] -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; [t] -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681788571"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788172"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788172"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Utils.List1.html#List1"><span class="hs-identifier hs-type">List1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788172"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>  </span><span id="local-6989586621681788585"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; List1 t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788586"><span class="annot"><span class="annottext">List1 t
</span><a href="#local-6989586621681788586"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788587"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788587"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">List1 t
</span><a href="#local-6989586621681788586"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-234"></span><span>    </span><span id="local-6989586621681788588"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788588"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:|</span></span><span> </span><span id="local-6989586621681788589"><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681788589"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788587"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788588"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[t] -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; [t] -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681788589"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788125"><span id="local-6989586621681788126"><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788125"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788126"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788125"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788126"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621681788603"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; (a, b) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788604"><span class="annot"><span class="annottext">(a, b)
</span><a href="#local-6989586621681788604"><span class="hs-identifier hs-var">ab</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788605"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788605"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(a, b)
</span><a href="#local-6989586621681788604"><span class="hs-identifier hs-var">ab</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681788606"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788606"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788607"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788607"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788605"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; a -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788606"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; b -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788607"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788153"><span id="local-6989586621681788154"><span id="local-6989586621681788155"><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788153"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788154"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788155"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788153"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788154"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788155"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621681788625"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; (a, b, c) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788626"><span class="annot"><span class="annottext">(a, b, c)
</span><a href="#local-6989586621681788626"><span class="hs-identifier hs-var">abc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788627"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788627"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(a, b, c)
</span><a href="#local-6989586621681788626"><span class="hs-identifier hs-var">abc</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681788628"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788628"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788629"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788629"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788630"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681788630"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788627"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; a -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788628"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; b -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788629"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; c -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681788630"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788185"><span id="local-6989586621681788186"><span id="local-6989586621681788187"><span id="local-6989586621681788188"><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788185"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788186"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788187"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788188"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788185"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788186"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788187"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788188"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-246"></span><span>  </span><span id="local-6989586621681788653"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; (a, b, c, d) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788654"><span class="annot"><span class="annottext">(a, b, c, d)
</span><a href="#local-6989586621681788654"><span class="hs-identifier hs-var">abc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788655"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788655"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(a, b, c, d)
</span><a href="#local-6989586621681788654"><span class="hs-identifier hs-var">abc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681788656"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788656"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788657"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788657"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788658"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681788658"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788659"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621681788659"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788655"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; a -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788656"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; b -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788657"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; c -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681788658"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">d -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; d -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621681788659"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788195"><span id="local-6989586621681788196"><span id="local-6989586621681788197"><span id="local-6989586621681788198"><span id="local-6989586621681788199"><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788195"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788196"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788197"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788198"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788199"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788195"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788196"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788197"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788198"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681788199"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621681788686"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; (a, b, c, d, e) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788687"><span class="annot"><span class="annottext">(a, b, c, d, e)
</span><a href="#local-6989586621681788687"><span class="hs-identifier hs-var">abc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788688"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788688"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(a, b, c, d, e)
</span><a href="#local-6989586621681788687"><span class="hs-identifier hs-var">abc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681788689"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788689"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788690"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788690"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788691"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681788691"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788692"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621681788692"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681788693"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681788693"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788688"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; a -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681788689"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; b -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681788690"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; c -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681788691"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">d -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; d -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621681788692"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; e -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681788693"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-256"></span><span>  </span><span id="local-6989586621681788703"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Level -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788704"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681788704"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788705"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788705"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621681788704"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Max"><span class="hs-identifier hs-type">Max</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788707"><span class="annot"><span class="annottext">[PlusLevel' Term]
</span><a href="#local-6989586621681788707"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788705"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[PlusLevel' Term] -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
[PlusLevel' Term] -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[PlusLevel' Term]
</span><a href="#local-6989586621681788707"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788203"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788203"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#PlusLevel%27"><span class="hs-identifier hs-type">PlusLevel'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788203"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621681788715"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; PlusLevel' t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788716"><span class="annot"><span class="annottext">PlusLevel' t
</span><a href="#local-6989586621681788716"><span class="hs-identifier hs-var">pl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788717"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788717"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PlusLevel' t
</span><a href="#local-6989586621681788716"><span class="hs-identifier hs-var">pl</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Plus"><span class="hs-identifier hs-type">Plus</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788719"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788719"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788717"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788719"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788152"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788152"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788152"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621681788730"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Arg t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788731"><span class="annot"><span class="annottext">Arg t
</span><a href="#local-6989586621681788731"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788732"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788732"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788732"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
Modality -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underModality"><span class="hs-identifier hs-var">underModality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg t -&gt; Modality
forall a. LensModality a =&gt; a -&gt; Modality
</span><a href="Agda.Syntax.Common.html#getModality"><span class="hs-identifier hs-var">getModality</span></a></span><span> </span><span class="annot"><span class="annottext">Arg t
</span><a href="#local-6989586621681788731"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; Reader r (Collect r)) -&gt; t -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Arg t -&gt; t
forall e. Arg e -&gt; e
</span><a href="Agda.Syntax.Common.html#unArg"><span class="hs-identifier hs-var">unArg</span></a></span><span> </span><span class="annot"><span class="annottext">Arg t
</span><a href="#local-6989586621681788731"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788124"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788124"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788124"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-pragma hs-type">freeVars</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-269"></span><span>  </span><span id="local-6989586621681788744"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Dom t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788745"><span class="annot"><span class="annottext">Dom t
</span><a href="#local-6989586621681788745"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788746"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788746"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788746"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Term, t) -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; (Maybe Term, t) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom t -&gt; Maybe Term
forall t e. Dom' t e -&gt; Maybe t
</span><a href="Agda.Syntax.Internal.html#domTactic"><span class="hs-identifier hs-var">domTactic</span></a></span><span> </span><span class="annot"><span class="annottext">Dom t
</span><a href="#local-6989586621681788745"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Dom t -&gt; t
forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom t
</span><a href="#local-6989586621681788745"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788123"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788123"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788123"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621681788758"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Abs t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788759"><span class="annot"><span class="annottext">Abs t
</span><a href="#local-6989586621681788759"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788760"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788760"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Abs t
</span><a href="#local-6989586621681788759"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-273"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span>   </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788762"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788762"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788760"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underBinder"><span class="hs-identifier hs-var">underBinder</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788762"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-274"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#NoAbs"><span class="hs-identifier hs-type">NoAbs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681788764"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788764"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788760"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788764"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681788221"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788221"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Tele"><span class="hs-identifier hs-type">Tele</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788221"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621681788777"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Tele t -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788778"><span class="annot"><span class="annottext">Tele t
</span><a href="#local-6989586621681788778"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788779"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788779"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Tele t
</span><a href="#local-6989586621681788778"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><span class="annottext">Tele t
</span><a href="Agda.Syntax.Internal.html#EmptyTel"><span class="hs-identifier hs-var">EmptyTel</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788779"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r)
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#ExtendTel"><span class="hs-identifier hs-type">ExtendTel</span></a></span><span> </span><span id="local-6989586621681788782"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788782"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681788783"><span class="annot"><span class="annottext">Abs (Tele t)
</span><a href="#local-6989586621681788783"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788779"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(t, Abs (Tele t)) -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
(t, Abs (Tele t)) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681788782"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Abs (Tele t)
</span><a href="#local-6989586621681788783"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>  </span><span id="local-6989586621681788795"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; Clause -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788796"><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681788796"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788797"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788797"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788797"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
Int -&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#underBinders"><span class="hs-identifier hs-var">underBinders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Telescope -&gt; Int
forall a. Sized a =&gt; a -&gt; Int
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">(Telescope -&gt; Int) -&gt; Telescope -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Clause -&gt; Telescope
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681788796"><span class="hs-identifier hs-var">cl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Reader r (Collect r))
-&gt; Reader r (Collect r) -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Term -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Maybe Term -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Term -&gt; Reader r (Collect r))
-&gt; Maybe Term -&gt; Reader r (Collect r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Clause -&gt; Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621681788796"><span class="hs-identifier hs-var">cl</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#Free"><span class="hs-identifier hs-type">Free</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#EqualityView"><span class="hs-identifier hs-type">EqualityView</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>  </span><span id="local-6989586621681788817"><span class="annot"><span class="annottext">freeVars :: forall r. ComputeFree r =&gt; EqualityView -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var hs-var hs-var">freeVars</span></a></span></span><span> </span><span id="local-6989586621681788818"><span class="annot"><span class="annottext">EqualityView
</span><a href="#local-6989586621681788818"><span class="hs-identifier hs-var">ev</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
 -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r)
forall a. ExpandCase a =&gt; ((a -&gt; Result a) -&gt; Result a) -&gt; a
</span><a href="Agda.Utils.ExpandCase.html#expand"><span class="hs-identifier hs-var">expand</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788819"><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788819"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EqualityView
</span><a href="#local-6989586621681788818"><span class="hs-identifier hs-var">ev</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#OtherType"><span class="hs-identifier hs-type">OtherType</span></a></span><span> </span><span id="local-6989586621681788821"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681788821"><span class="hs-identifier hs-var">t</span></a></span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788819"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Type -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681788821"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#IdiomType"><span class="hs-identifier hs-type">IdiomType</span></a></span><span> </span><span id="local-6989586621681788823"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681788823"><span class="hs-identifier hs-var">t</span></a></span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788819"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r. ComputeFree r =&gt; Type -&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621681788823"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-289"></span><span>    </span><span class="annot"><a href="Agda.Syntax.Internal.html#EqualityType"><span class="hs-identifier hs-type">EqualityType</span></a></span><span> </span><span id="local-6989586621681788825"><span class="annot"><span class="annottext">Range
</span><a href="#local-6989586621681788825"><span class="hs-identifier hs-var">_r</span></a></span></span><span> </span><span id="local-6989586621681788826"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788826"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681788827"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621681788827"><span class="hs-identifier hs-var">_eq</span></a></span></span><span> </span><span id="local-6989586621681788828"><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621681788828"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681788829"><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681788829"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681788830"><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681788830"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681788831"><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681788831"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Reader r (Collect r) -&gt; Result (Reader r (Collect r))
</span><a href="#local-6989586621681788819"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader r (Collect r) -&gt; Result (Reader r (Collect r)))
-&gt; Reader r (Collect r) -&gt; Result (Reader r (Collect r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Sort, Args, (Arg Term, Arg Term, Arg Term))
-&gt; Reader r (Collect r)
forall t r. (Free t, ComputeFree r) =&gt; t -&gt; Reader r (Collect r)
forall r.
ComputeFree r =&gt;
(Sort, Args, (Arg Term, Arg Term, Arg Term))
-&gt; Reader r (Collect r)
</span><a href="Agda.TypeChecking.Free.Generic.html#freeVars"><span class="hs-identifier hs-var">freeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621681788826"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621681788828"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681788829"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681788830"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Arg Term
</span><a href="#local-6989586621681788831"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderConstructor"><span class="hs-pragma hs-type">defaultUnderConstructor</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-292"></span><span id="local-6989586621681788233"><span id="local-6989586621681788234"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderConstructor"><span class="hs-identifier hs-type">defaultUnderConstructor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621681788233"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html#LensFlexRig"><span class="hs-identifier hs-type">LensFlexRig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788234"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788233"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-type">ConHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Elims"><span class="hs-identifier hs-type">Elims</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788234"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788234"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-293"></span><span id="defaultUnderConstructor"><span class="annot"><span class="annottext">defaultUnderConstructor :: forall a r.
(Semigroup a, LensFlexRig r a) =&gt;
ConHead -&gt; Elims -&gt; r -&gt; r
</span><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderConstructor"><span class="hs-identifier hs-var hs-var">defaultUnderConstructor</span></a></span></span><span> </span><span id="local-6989586621681788836"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681788836"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681788837"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788837"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lens' r (FlexRig' a) -&gt; LensMap r (FlexRig' a)
forall o i. Lens' o i -&gt; LensMap o i
</span><a href="Agda.Utils.Lens.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">(FlexRig' a -&gt; f (FlexRig' a)) -&gt; r -&gt; f r
forall o a. LensFlexRig o a =&gt; Lens' o (FlexRig' a)
Lens' r (FlexRig' a)
</span><a href="Agda.TypeChecking.Free.Base.html#lensFlexRig"><span class="hs-identifier hs-var">lensFlexRig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlexRig' a -&gt; FlexRig' a -&gt; FlexRig' a
forall a. Semigroup a =&gt; FlexRig' a -&gt; FlexRig' a -&gt; FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#composeFlexRig"><span class="hs-identifier hs-var">composeFlexRig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; Elims -&gt; FlexRig' a
forall a. ConHead -&gt; Elims -&gt; FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#constructorFlexRig"><span class="hs-identifier hs-var">constructorFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621681788836"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621681788837"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderFlexRig"><span class="hs-pragma hs-type">defaultUnderFlexRig</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-296"></span><span id="local-6989586621681788247"><span id="local-6989586621681788248"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderFlexRig"><span class="hs-identifier hs-type">defaultUnderFlexRig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621681788247"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html#LensFlexRig"><span class="hs-identifier hs-type">LensFlexRig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788248"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788247"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Free.Base.html#FlexRig%27"><span class="hs-identifier hs-type">FlexRig'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788247"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788248"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788248"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-297"></span><span id="defaultUnderFlexRig"><span class="annot"><span class="annottext">defaultUnderFlexRig :: forall a r.
(Semigroup a, LensFlexRig r a) =&gt;
Maybe (FlexRig' a -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderFlexRig"><span class="hs-identifier hs-var hs-var">defaultUnderFlexRig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FlexRig' a -&gt; r -&gt; r) -&gt; Maybe (FlexRig' a -&gt; r -&gt; r)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788849"><span class="annot"><span class="annottext">FlexRig' a
</span><a href="#local-6989586621681788849"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Lens' r (FlexRig' a) -&gt; LensMap r (FlexRig' a)
forall o i. Lens' o i -&gt; LensMap o i
</span><a href="Agda.Utils.Lens.html#over"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">(FlexRig' a -&gt; f (FlexRig' a)) -&gt; r -&gt; f r
forall o a. LensFlexRig o a =&gt; Lens' o (FlexRig' a)
Lens' r (FlexRig' a)
</span><a href="Agda.TypeChecking.Free.Base.html#lensFlexRig"><span class="hs-identifier hs-var">lensFlexRig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FlexRig' a -&gt; FlexRig' a -&gt; FlexRig' a
forall a. Semigroup a =&gt; FlexRig' a -&gt; FlexRig' a -&gt; FlexRig' a
</span><a href="Agda.TypeChecking.Free.Base.html#composeFlexRig"><span class="hs-identifier hs-var">composeFlexRig</span></a></span><span> </span><span class="annot"><span class="annottext">FlexRig' a
</span><a href="#local-6989586621681788849"><span class="hs-identifier hs-var">fr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderModality"><span class="hs-pragma hs-type">defaultUnderModality</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-300"></span><span id="local-6989586621681788252"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderModality"><span class="hs-identifier hs-type">defaultUnderModality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#LensModality"><span class="hs-identifier hs-type">LensModality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788252"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788252"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788252"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-301"></span><span id="defaultUnderModality"><span class="annot"><span class="annottext">defaultUnderModality :: forall r. LensModality r =&gt; Maybe (Modality -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderModality"><span class="hs-identifier hs-var hs-var">defaultUnderModality</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Modality -&gt; r -&gt; r) -&gt; Maybe (Modality -&gt; r -&gt; r)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788856"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621681788856"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Modality -&gt; Modality) -&gt; r -&gt; r
forall a. LensModality a =&gt; (Modality -&gt; Modality) -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#mapModality"><span class="hs-identifier hs-var">mapModality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Modality
</span><a href="Agda.Syntax.Common.html#composeModality"><span class="hs-identifier hs-var">composeModality</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621681788856"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderRelevance"><span class="hs-pragma hs-type">defaultUnderRelevance</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-304"></span><span id="local-6989586621681788254"><span class="annot"><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderRelevance"><span class="hs-identifier hs-type">defaultUnderRelevance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#LensRelevance"><span class="hs-identifier hs-type">LensRelevance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788254"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Relevance"><span class="hs-identifier hs-type">Relevance</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788254"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788254"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-305"></span><span id="defaultUnderRelevance"><span class="annot"><span class="annottext">defaultUnderRelevance :: forall r. LensRelevance r =&gt; Maybe (Relevance -&gt; r -&gt; r)
</span><a href="Agda.TypeChecking.Free.Generic.html#defaultUnderRelevance"><span class="hs-identifier hs-var hs-var">defaultUnderRelevance</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Relevance -&gt; r -&gt; r) -&gt; Maybe (Relevance -&gt; r -&gt; r)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681788862"><span class="annot"><span class="annottext">Relevance
</span><a href="#local-6989586621681788862"><span class="hs-identifier hs-var">rel</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Relevance -&gt; Relevance) -&gt; r -&gt; r
forall a. LensRelevance a =&gt; (Relevance -&gt; Relevance) -&gt; a -&gt; a
</span><a href="Agda.Syntax.Common.html#mapRelevance"><span class="hs-identifier hs-var">mapRelevance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Relevance -&gt; Relevance -&gt; Relevance
</span><a href="Agda.Syntax.Common.html#composeRelevance"><span class="hs-identifier hs-var">composeRelevance</span></a></span><span> </span><span class="annot"><span class="annottext">Relevance
</span><a href="#local-6989586621681788862"><span class="hs-identifier hs-var">rel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span></pre></body></html>