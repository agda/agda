<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -Wunused-imports #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html"><span class="hs-identifier">Agda.TypeChecking.Quote</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html"><span class="hs-identifier">Agda.Syntax.Abstract</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html"><span class="hs-identifier">Agda.Syntax.Common</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html"><span class="hs-identifier">Agda.Syntax.Internal</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">I</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.Pattern.html"><span class="hs-identifier">Agda.Syntax.Internal.Pattern</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.Pattern.html#hasDefP"><span class="hs-identifier">hasDefP</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.Literal.html"><span class="hs-identifier">Agda.Syntax.Literal</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html"><span class="hs-identifier">Agda.Syntax.TopLevelModuleName</span></a></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.CompiledClause.html"><span class="hs-identifier">Agda.TypeChecking.CompiledClause</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Level.html"><span class="hs-identifier">Agda.TypeChecking.Level</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.html"><span class="hs-identifier">Agda.TypeChecking.Monad</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Pretty.html"><span class="hs-identifier">Agda.TypeChecking.Pretty</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Base.html"><span class="hs-identifier">Agda.TypeChecking.Primitive.Base</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Reduce.html"><span class="hs-identifier">Agda.TypeChecking.Reduce</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html"><span class="hs-identifier">Agda.TypeChecking.Substitute</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Impossible.html"><span class="hs-identifier">Agda.Utils.Impossible</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Functor.html"><span class="hs-identifier">Agda.Utils.Functor</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.List.html"><span class="hs-identifier">Agda.Utils.List</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Size.html"><span class="hs-identifier">Agda.Utils.Size</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Agda.Utils.Maybe.Strict.html"><span class="hs-identifier">Agda.Utils.Maybe.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="annot"><span class="hs-comment">-- | Parse @quote@.</span></span><span>
</span><span id="line-32"></span><span id="local-6989586621682042520"><span class="annot"><a href="Agda.TypeChecking.Quote.html#quotedName"><span class="hs-identifier hs-type">quotedName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#MonadTCError"><span class="hs-identifier hs-type">MonadTCError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042520"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Translation.AbstractToConcrete.html#MonadAbsToCon"><span class="hs-identifier hs-type">MonadAbsToCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042520"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Expr"><span class="hs-identifier hs-type">A.Expr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682042520"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span></span><span>
</span><span id="line-33"></span><span id="quotedName"><span class="annot"><span class="annottext">quotedName :: forall (m :: * -&gt; *).
(MonadTCError m, MonadAbsToCon m) =&gt;
Expr -&gt; m QName
</span><a href="Agda.TypeChecking.Quote.html#quotedName"><span class="hs-identifier hs-var hs-var">quotedName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-comment">-- Andreas, 2024-09-27, issue #7514</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-comment">-- Is it intended to be able to quote Set but not Set1?</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Def%27"><span class="hs-identifier hs-type">A.Def'</span></a></span><span> </span><span id="local-6989586621682043231"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043231"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">Suffix
</span><a href="Agda.Syntax.Abstract.Name.html#NoSuffix"><span class="hs-identifier hs-var">NoSuffix</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QName -&gt; m QName
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043231"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Macro"><span class="hs-identifier hs-type">A.Macro</span></a></span><span> </span><span id="local-6989586621682043234"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043234"><span class="hs-identifier hs-var">x</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QName -&gt; m QName
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043234"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Proj"><span class="hs-identifier hs-type">A.Proj</span></a></span><span> </span><span id="local-6989586621682043236"><span class="annot"><span class="annottext">ProjOrigin
</span><a href="#local-6989586621682043236"><span class="hs-identifier hs-var">_o</span></a></span></span><span> </span><span id="local-6989586621682043237"><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043237"><span class="hs-identifier hs-var">p</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AmbiguousQName -&gt; m QName
forall {m :: * -&gt; *}.
(MonadTCEnv m, ReadTCState m, MonadError TCErr m) =&gt;
AmbiguousQName -&gt; m QName
</span><a href="#local-6989586621682043238"><span class="hs-identifier hs-var">unambiguous</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043237"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Abstract.html#Con"><span class="hs-identifier hs-type">A.Con</span></a></span><span> </span><span id="local-6989586621682043240"><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043240"><span class="hs-identifier hs-var">c</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AmbiguousQName -&gt; m QName
forall {m :: * -&gt; *}.
(MonadTCEnv m, ReadTCState m, MonadError TCErr m) =&gt;
AmbiguousQName -&gt; m QName
</span><a href="#local-6989586621682043238"><span class="hs-identifier hs-var">unambiguous</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043240"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Abstract.html#ScopedExpr"><span class="hs-identifier hs-type">A.ScopedExpr</span></a></span><span> </span><span class="annot"><span class="annottext">ScopeInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043242"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621682043242"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Expr -&gt; m QName
forall (m :: * -&gt; *).
(MonadTCError m, MonadAbsToCon m) =&gt;
Expr -&gt; m QName
</span><a href="Agda.TypeChecking.Quote.html#quotedName"><span class="hs-identifier hs-var">quotedName</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621682043242"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span id="local-6989586621682043243"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621682043243"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; m QName
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; m QName) -&gt; TypeError -&gt; m QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CannotQuote -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#CannotQuote"><span class="hs-identifier hs-var">CannotQuote</span></a></span><span> </span><span class="annot"><span class="annottext">(CannotQuote -&gt; TypeError) -&gt; CannotQuote -&gt; TypeError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Expr -&gt; CannotQuote
</span><a href="Agda.TypeChecking.Monad.Base.html#CannotQuoteExpression"><span class="hs-identifier hs-var">CannotQuoteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621682043243"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-43"></span><span>    </span><span id="local-6989586621682043238"><span class="annot"><span class="annottext">unambiguous :: AmbiguousQName -&gt; m QName
</span><a href="#local-6989586621682043238"><span class="hs-identifier hs-var hs-var">unambiguous</span></a></span></span><span> </span><span id="local-6989586621682043273"><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043273"><span class="hs-identifier hs-var">ambX</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AmbiguousQName -&gt; Maybe QName
</span><a href="Agda.Syntax.Abstract.Name.html#getUnambiguous"><span class="hs-identifier hs-var">getUnambiguous</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043273"><span class="hs-identifier hs-var">ambX</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-44"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682043275"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043275"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QName -&gt; m QName
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043275"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-45"></span><span>      </span><span class="annot"><span class="annottext">Maybe QName
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; m QName
forall (m :: * -&gt; *) a.
(HasCallStack, MonadTCError m) =&gt;
TypeError -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Base.html#typeError"><span class="hs-identifier hs-var">typeError</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; m QName) -&gt; TypeError -&gt; m QName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CannotQuote -&gt; TypeError
</span><a href="Agda.TypeChecking.Monad.Base.html#CannotQuote"><span class="hs-identifier hs-var">CannotQuote</span></a></span><span> </span><span class="annot"><span class="annottext">(CannotQuote -&gt; TypeError) -&gt; CannotQuote -&gt; TypeError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AmbiguousQName -&gt; CannotQuote
</span><a href="Agda.TypeChecking.Monad.Base.html#CannotQuoteAmbiguous"><span class="hs-identifier hs-var">CannotQuoteAmbiguous</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousQName
</span><a href="#local-6989586621682043273"><span class="hs-identifier hs-var">ambX</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">data</span><span> </span><span id="QuotingKit"><span class="annot"><a href="Agda.TypeChecking.Quote.html#QuotingKit"><span class="hs-identifier hs-var">QuotingKit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="QuotingKit"><span class="annot"><a href="Agda.TypeChecking.Quote.html#QuotingKit"><span class="hs-identifier hs-var">QuotingKit</span></a></span></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="quoteTermWithKit"><span class="annot"><span class="annottext">QuotingKit -&gt; Term -&gt; ReduceM Term
</span><a href="Agda.TypeChecking.Quote.html#quoteTermWithKit"><span class="hs-identifier hs-var hs-var">quoteTermWithKit</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="quoteTypeWithKit"><span class="annot"><span class="annottext">QuotingKit -&gt; Type -&gt; ReduceM Term
</span><a href="Agda.TypeChecking.Quote.html#quoteTypeWithKit"><span class="hs-identifier hs-var hs-var">quoteTypeWithKit</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="quoteDomWithKit"><span class="annot"><span class="annottext">QuotingKit -&gt; Dom Type -&gt; ReduceM Term
</span><a href="Agda.TypeChecking.Quote.html#quoteDomWithKit"><span class="hs-identifier hs-var hs-var">quoteDomWithKit</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="quoteDefnWithKit"><span class="annot"><span class="annottext">QuotingKit -&gt; Definition -&gt; ReduceM Term
</span><a href="Agda.TypeChecking.Quote.html#quoteDefnWithKit"><span class="hs-identifier hs-var hs-var">quoteDefnWithKit</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="quoteListWithKit"><span class="annot"><span class="annottext">QuotingKit -&gt; forall a. (a -&gt; ReduceM Term) -&gt; [a] -&gt; ReduceM Term
</span><a href="Agda.TypeChecking.Quote.html#quoteListWithKit"><span class="hs-identifier hs-var hs-var">quoteListWithKit</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682042543"><span class="annot"><a href="#local-6989586621682042543"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682042543"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682042543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-type">quotingKit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html#QuotingKit"><span class="hs-identifier hs-type">QuotingKit</span></a></span><span>
</span><span id="line-57"></span><span id="quotingKit"><span class="annot"><span class="annottext">quotingKit :: TCM QuotingKit
</span><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-var hs-var">quotingKit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-58"></span><span>  </span><span id="local-6989586621682043284"><span class="annot"><a href="#local-6989586621682043284"><span class="hs-identifier hs-var">currentModule</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TopLevelModuleName
-&gt; Maybe TopLevelModuleName -&gt; TopLevelModuleName
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">TopLevelModuleName
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TopLevelModuleName -&gt; TopLevelModuleName)
-&gt; TCMT IO (Maybe TopLevelModuleName) -&gt; TCMT IO TopLevelModuleName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TCMT IO (Maybe TopLevelModuleName)
forall (m :: * -&gt; *).
(MonadTCEnv m, ReadTCState m) =&gt;
m (Maybe TopLevelModuleName)
</span><a href="Agda.TypeChecking.Monad.State.html#currentTopLevelModule"><span class="hs-identifier hs-var">currentTopLevelModule</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span id="local-6989586621682043288"><span class="annot"><a href="#local-6989586621682043288"><span class="hs-identifier hs-var">hidden</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primHidden"><span class="hs-identifier hs-type">primHidden</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span id="local-6989586621682043290"><span class="annot"><a href="#local-6989586621682043290"><span class="hs-identifier hs-var">instanceH</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primInstance"><span class="hs-identifier hs-type">primInstance</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span id="local-6989586621682043292"><span class="annot"><a href="#local-6989586621682043292"><span class="hs-identifier hs-var">visible</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primVisible"><span class="hs-identifier hs-type">primVisible</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span id="local-6989586621682043294"><span class="annot"><a href="#local-6989586621682043294"><span class="hs-identifier hs-var">relevant</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primRelevant"><span class="hs-identifier hs-type">primRelevant</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621682043296"><span class="annot"><a href="#local-6989586621682043296"><span class="hs-identifier hs-var">irrelevant</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primIrrelevant"><span class="hs-identifier hs-type">primIrrelevant</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span id="local-6989586621682043298"><span class="annot"><a href="#local-6989586621682043298"><span class="hs-identifier hs-var">quantity0</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primQuantity0"><span class="hs-identifier hs-type">primQuantity0</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621682043300"><span class="annot"><a href="#local-6989586621682043300"><span class="hs-identifier hs-var">quantity&#969;</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primQuantity%3C9"><span class="hs-identifier hs-type">primQuantity&#969;</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621682043302"><span class="annot"><a href="#local-6989586621682043302"><span class="hs-identifier hs-var">modality</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primModalityConstructor"><span class="hs-identifier hs-type">primModalityConstructor</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span id="local-6989586621682043304"><span class="annot"><a href="#local-6989586621682043304"><span class="hs-identifier hs-var">nil</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primNil"><span class="hs-identifier hs-type">primNil</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span id="local-6989586621682043306"><span class="annot"><a href="#local-6989586621682043306"><span class="hs-identifier hs-var">cons</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primCons"><span class="hs-identifier hs-type">primCons</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621682043308"><span class="annot"><a href="#local-6989586621682043308"><span class="hs-identifier hs-var">abs</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAbsAbs"><span class="hs-identifier hs-type">primAbsAbs</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span id="local-6989586621682043310"><span class="annot"><a href="#local-6989586621682043310"><span class="hs-identifier hs-var">arg</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primArgArg"><span class="hs-identifier hs-type">primArgArg</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span id="local-6989586621682043312"><span class="annot"><a href="#local-6989586621682043312"><span class="hs-identifier hs-var">arginfo</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primArgArgInfo"><span class="hs-identifier hs-type">primArgArgInfo</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span id="local-6989586621682043314"><span class="annot"><a href="#local-6989586621682043314"><span class="hs-identifier hs-var">var</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermVar"><span class="hs-identifier hs-type">primAgdaTermVar</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span id="local-6989586621682043316"><span class="annot"><a href="#local-6989586621682043316"><span class="hs-identifier hs-var">lam</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermLam"><span class="hs-identifier hs-type">primAgdaTermLam</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621682043318"><span class="annot"><a href="#local-6989586621682043318"><span class="hs-identifier hs-var">extlam</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermExtLam"><span class="hs-identifier hs-type">primAgdaTermExtLam</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span id="local-6989586621682043320"><span class="annot"><a href="#local-6989586621682043320"><span class="hs-identifier hs-var">def</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermDef"><span class="hs-identifier hs-type">primAgdaTermDef</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span id="local-6989586621682043322"><span class="annot"><a href="#local-6989586621682043322"><span class="hs-identifier hs-var">con</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermCon"><span class="hs-identifier hs-type">primAgdaTermCon</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span id="local-6989586621682043324"><span class="annot"><a href="#local-6989586621682043324"><span class="hs-identifier hs-var">pi</span></a></span></span><span>              </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermPi"><span class="hs-identifier hs-type">primAgdaTermPi</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621682043326"><span class="annot"><a href="#local-6989586621682043326"><span class="hs-identifier hs-var">sort</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermSort"><span class="hs-identifier hs-type">primAgdaTermSort</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span id="local-6989586621682043328"><span class="annot"><a href="#local-6989586621682043328"><span class="hs-identifier hs-var">meta</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermMeta"><span class="hs-identifier hs-type">primAgdaTermMeta</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span id="local-6989586621682043330"><span class="annot"><a href="#local-6989586621682043330"><span class="hs-identifier hs-var">lit</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermLit"><span class="hs-identifier hs-type">primAgdaTermLit</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621682043332"><span class="annot"><a href="#local-6989586621682043332"><span class="hs-identifier hs-var">litNat</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitNat"><span class="hs-identifier hs-type">primAgdaLitNat</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span id="local-6989586621682043334"><span class="annot"><a href="#local-6989586621682043334"><span class="hs-identifier hs-var">litWord64</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitNat"><span class="hs-identifier hs-type">primAgdaLitNat</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621682043335"><span class="annot"><a href="#local-6989586621682043335"><span class="hs-identifier hs-var">litFloat</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitFloat"><span class="hs-identifier hs-type">primAgdaLitFloat</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span id="local-6989586621682043337"><span class="annot"><a href="#local-6989586621682043337"><span class="hs-identifier hs-var">litChar</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitChar"><span class="hs-identifier hs-type">primAgdaLitChar</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span id="local-6989586621682043339"><span class="annot"><a href="#local-6989586621682043339"><span class="hs-identifier hs-var">litString</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitString"><span class="hs-identifier hs-type">primAgdaLitString</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span id="local-6989586621682043341"><span class="annot"><a href="#local-6989586621682043341"><span class="hs-identifier hs-var">litQName</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitQName"><span class="hs-identifier hs-type">primAgdaLitQName</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span id="local-6989586621682043343"><span class="annot"><a href="#local-6989586621682043343"><span class="hs-identifier hs-var">litMeta</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaLitMeta"><span class="hs-identifier hs-type">primAgdaLitMeta</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621682043345"><span class="annot"><a href="#local-6989586621682043345"><span class="hs-identifier hs-var">normalClause</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaClauseClause"><span class="hs-identifier hs-type">primAgdaClauseClause</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span id="local-6989586621682043347"><span class="annot"><a href="#local-6989586621682043347"><span class="hs-identifier hs-var">absurdClause</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaClauseAbsurd"><span class="hs-identifier hs-type">primAgdaClauseAbsurd</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span id="local-6989586621682043349"><span class="annot"><a href="#local-6989586621682043349"><span class="hs-identifier hs-var">varP</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaPatVar"><span class="hs-identifier hs-type">primAgdaPatVar</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span id="local-6989586621682043351"><span class="annot"><a href="#local-6989586621682043351"><span class="hs-identifier hs-var">conP</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaPatCon"><span class="hs-identifier hs-type">primAgdaPatCon</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span id="local-6989586621682043353"><span class="annot"><a href="#local-6989586621682043353"><span class="hs-identifier hs-var">dotP</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaPatDot"><span class="hs-identifier hs-type">primAgdaPatDot</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621682043355"><span class="annot"><a href="#local-6989586621682043355"><span class="hs-identifier hs-var">litP</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaPatLit"><span class="hs-identifier hs-type">primAgdaPatLit</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span id="local-6989586621682043357"><span class="annot"><a href="#local-6989586621682043357"><span class="hs-identifier hs-var">projP</span></a></span></span><span>           </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaPatProj"><span class="hs-identifier hs-type">primAgdaPatProj</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span id="local-6989586621682043359"><span class="annot"><a href="#local-6989586621682043359"><span class="hs-identifier hs-var">absurdP</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaPatAbsurd"><span class="hs-identifier hs-type">primAgdaPatAbsurd</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span id="local-6989586621682043361"><span class="annot"><a href="#local-6989586621682043361"><span class="hs-identifier hs-var">set</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaSortSet"><span class="hs-identifier hs-type">primAgdaSortSet</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621682043363"><span class="annot"><a href="#local-6989586621682043363"><span class="hs-identifier hs-var">setLit</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaSortLit"><span class="hs-identifier hs-type">primAgdaSortLit</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span id="local-6989586621682043365"><span class="annot"><a href="#local-6989586621682043365"><span class="hs-identifier hs-var">prop</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaSortProp"><span class="hs-identifier hs-type">primAgdaSortProp</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span id="local-6989586621682043367"><span class="annot"><a href="#local-6989586621682043367"><span class="hs-identifier hs-var">propLit</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaSortPropLit"><span class="hs-identifier hs-type">primAgdaSortPropLit</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span id="local-6989586621682043369"><span class="annot"><a href="#local-6989586621682043369"><span class="hs-identifier hs-var">inf</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaSortInf"><span class="hs-identifier hs-type">primAgdaSortInf</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span id="local-6989586621682043371"><span class="annot"><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaSortUnsupported"><span class="hs-identifier hs-type">primAgdaSortUnsupported</span></a></span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621682043373"><span class="annot"><a href="#local-6989586621682043373"><span class="hs-identifier hs-var">sucLevel</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primLevelSuc"><span class="hs-identifier hs-type">primLevelSuc</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621682043375"><span class="annot"><a href="#local-6989586621682043375"><span class="hs-identifier hs-var">lub</span></a></span></span><span>             </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primLevelMax"><span class="hs-identifier hs-type">primLevelMax</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621682043377"><span class="annot"><a href="#local-6989586621682043377"><span class="hs-identifier hs-var">lkit</span></a></span></span><span>            </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Level.html#requireLevels"><span class="hs-identifier hs-type">requireLevels</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621682043380"><span class="annot"><a href="#local-6989586621682043380"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primZero"><span class="hs-identifier hs-type">primZero</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621682043382"><span class="annot"><a href="#local-6989586621682043382"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primSuc"><span class="hs-identifier hs-type">primSuc</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621682043384"><span class="annot"><a href="#local-6989586621682043384"><span class="hs-identifier hs-var">unsupported</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaTermUnsupported"><span class="hs-identifier hs-type">primAgdaTermUnsupported</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621682043386"><span class="annot"><a href="#local-6989586621682043386"><span class="hs-identifier hs-var">agdaDefinitionFunDef</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaDefinitionFunDef"><span class="hs-identifier hs-type">primAgdaDefinitionFunDef</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span id="local-6989586621682043388"><span class="annot"><a href="#local-6989586621682043388"><span class="hs-identifier hs-var">agdaDefinitionDataDef</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaDefinitionDataDef"><span class="hs-identifier hs-type">primAgdaDefinitionDataDef</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621682043390"><span class="annot"><a href="#local-6989586621682043390"><span class="hs-identifier hs-var">agdaDefinitionRecordDef</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaDefinitionRecordDef"><span class="hs-identifier hs-type">primAgdaDefinitionRecordDef</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621682043392"><span class="annot"><a href="#local-6989586621682043392"><span class="hs-identifier hs-var">agdaDefinitionPostulate</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaDefinitionPostulate"><span class="hs-identifier hs-type">primAgdaDefinitionPostulate</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span id="local-6989586621682043394"><span class="annot"><a href="#local-6989586621682043394"><span class="hs-identifier hs-var">agdaDefinitionPrimitive</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaDefinitionPrimitive"><span class="hs-identifier hs-type">primAgdaDefinitionPrimitive</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621682043396"><span class="annot"><a href="#local-6989586621682043396"><span class="hs-identifier hs-var">agdaDefinitionDataConstructor</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Builtin.html#primAgdaDefinitionDataConstructor"><span class="hs-identifier hs-type">primAgdaDefinitionDataConstructor</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682042559"><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-type">(@@)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.Class.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042559"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042559"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042559"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-117"></span><span>      </span><span id="local-6989586621682043404"><span class="annot"><span class="annottext">ReduceM a
</span><a href="#local-6989586621682043404"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682043398"><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-var hs-var">@@</span></a></span></span><span> </span><span id="local-6989586621682043405"><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043405"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Args -&gt; a
forall t. Apply t =&gt; t -&gt; Args -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Args -&gt; a) -&gt; ReduceM a -&gt; ReduceM (Args -&gt; a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ReduceM a
</span><a href="#local-6989586621682043404"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM (Args -&gt; a) -&gt; ReduceM Args -&gt; ReduceM a
forall a b. ReduceM (a -&gt; b) -&gt; ReduceM a -&gt; ReduceM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Arg Term -&gt; Args -&gt; Args
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; Args) -&gt; (Term -&gt; Arg Term) -&gt; Term -&gt; Args
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Arg Term
forall a. a -&gt; Arg a
</span><a href="Agda.Syntax.Common.html#defaultArg"><span class="hs-identifier hs-var">defaultArg</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; Args) -&gt; ReduceM Term -&gt; ReduceM Args
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043405"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>      </span><span id="local-6989586621682042569"><span class="annot"><a href="#local-6989586621682043409"><span class="hs-operator hs-type">(!@)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.Class.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042569"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682042569"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042569"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-120"></span><span>      </span><span id="local-6989586621682043413"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043413"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682043409"><span class="annot"><a href="#local-6989586621682043409"><span class="hs-operator hs-var hs-var">!@</span></a></span></span><span> </span><span id="local-6989586621682043414"><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043414"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM a
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043413"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043414"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>      </span><span id="local-6989586621682042572"><span class="annot"><a href="#local-6989586621682043415"><span class="hs-operator hs-type">(!@!)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.Class.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682042572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042572"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-123"></span><span>      </span><span id="local-6989586621682043420"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043420"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682043415"><span class="annot"><a href="#local-6989586621682043415"><span class="hs-operator hs-var hs-var">!@!</span></a></span></span><span> </span><span id="local-6989586621682043421"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043421"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM a
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043420"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043421"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><a href="#local-6989586621682043422"><span class="hs-identifier hs-type">quoteHiding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Hiding"><span class="hs-identifier hs-type">Hiding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-126"></span><span>      </span><span id="local-6989586621682043422"><span class="annot"><a href="#local-6989586621682043422"><span class="hs-identifier hs-var hs-var">quoteHiding</span></a></span></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043288"><span class="hs-identifier hs-var">hidden</span></a></span><span>
</span><span id="line-127"></span><span>      </span><span class="annot"><a href="#local-6989586621682043422"><span class="hs-identifier hs-var">quoteHiding</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Instance"><span class="hs-identifier hs-type">Instance</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043290"><span class="hs-identifier hs-var">instanceH</span></a></span><span>
</span><span id="line-128"></span><span>      </span><span class="annot"><a href="#local-6989586621682043422"><span class="hs-identifier hs-var">quoteHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="Agda.Syntax.Common.html#NotHidden"><span class="hs-identifier hs-var">NotHidden</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043292"><span class="hs-identifier hs-var">visible</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>      </span><span class="annot"><a href="#local-6989586621682043426"><span class="hs-identifier hs-type">quoteRelevance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Relevance"><span class="hs-identifier hs-type">Relevance</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-131"></span><span>      </span><span id="local-6989586621682043426"><span class="annot"><a href="#local-6989586621682043426"><span class="hs-identifier hs-var hs-var">quoteRelevance</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-132"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Common.html#Relevant"><span class="hs-identifier hs-type">Relevant</span></a></span><span>        </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043294"><span class="hs-identifier hs-var">relevant</span></a></span><span>
</span><span id="line-133"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Common.html#Irrelevant"><span class="hs-identifier hs-type">Irrelevant</span></a></span><span>      </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043296"><span class="hs-identifier hs-var">irrelevant</span></a></span><span>
</span><span id="line-134"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Common.html#ShapeIrrelevant"><span class="hs-identifier hs-type">ShapeIrrelevant</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043294"><span class="hs-identifier hs-var">relevant</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><a href="#local-6989586621682043430"><span class="hs-identifier hs-type">quoteQuantity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity"><span class="hs-identifier hs-type">Quantity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-137"></span><span>      </span><span id="local-6989586621682043430"><span class="annot"><a href="#local-6989586621682043430"><span class="hs-identifier hs-var hs-var">quoteQuantity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity0"><span class="hs-identifier hs-type">Quantity0</span></a></span><span> </span><span class="annot"><span class="annottext">Q0Origin
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043298"><span class="hs-identifier hs-var">quantity0</span></a></span><span>
</span><span id="line-138"></span><span>      </span><span class="annot"><a href="#local-6989586621682043430"><span class="hs-identifier hs-var">quoteQuantity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity1"><span class="hs-identifier hs-type">Quantity1</span></a></span><span> </span><span class="annot"><span class="annottext">Q1Origin
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReduceM Term
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-139"></span><span>      </span><span class="annot"><a href="#local-6989586621682043430"><span class="hs-identifier hs-var">quoteQuantity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Quantity%3C9"><span class="hs-identifier hs-type">Quantity&#969;</span></a></span><span> </span><span class="annot"><span class="annottext">Q&#969;Origin
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043300"><span class="hs-identifier hs-var">quantity&#969;</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span>      </span><span class="hs-comment">-- TODO: quote Annotation</span><span>
</span><span id="line-142"></span><span>      </span><span class="annot"><a href="#local-6989586621682043434"><span class="hs-identifier hs-type">quoteModality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-143"></span><span>      </span><span id="local-6989586621682043434"><span class="annot"><a href="#local-6989586621682043434"><span class="hs-identifier hs-var hs-var">quoteModality</span></a></span></span><span> </span><span id="local-6989586621682043435"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621682043435"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-144"></span><span>        </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043302"><span class="hs-identifier hs-var">modality</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Relevance -&gt; ReduceM Term
</span><a href="#local-6989586621682043426"><span class="hs-identifier hs-var">quoteRelevance</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modality -&gt; Relevance
forall a. LensRelevance a =&gt; a -&gt; Relevance
</span><a href="Agda.Syntax.Common.html#getRelevance"><span class="hs-identifier hs-var">getRelevance</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621682043435"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>                 </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; ReduceM Term
</span><a href="#local-6989586621682043430"><span class="hs-identifier hs-var">quoteQuantity</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modality -&gt; Quantity
forall a. LensQuantity a =&gt; a -&gt; Quantity
</span><a href="Agda.Syntax.Common.html#getQuantity"><span class="hs-identifier hs-var">getQuantity</span></a></span><span>  </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621682043435"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><a href="#local-6989586621682043438"><span class="hs-identifier hs-type">quoteArgInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#ArgInfo"><span class="hs-identifier hs-type">ArgInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span id="local-6989586621682043438"><span class="annot"><a href="#local-6989586621682043438"><span class="hs-identifier hs-var hs-var">quoteArgInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#ArgInfo"><span class="hs-identifier hs-type">ArgInfo</span></a></span><span> </span><span id="local-6989586621682043440"><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621682043440"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621682043441"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621682043441"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="annot"><span class="annottext">Origin
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FreeVariables
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Annotation
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-149"></span><span>        </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043312"><span class="hs-identifier hs-var">arginfo</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; ReduceM Term
</span><a href="#local-6989586621682043422"><span class="hs-identifier hs-var">quoteHiding</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding
</span><a href="#local-6989586621682043440"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-150"></span><span>                </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; ReduceM Term
</span><a href="#local-6989586621682043434"><span class="hs-identifier hs-var">quoteModality</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621682043441"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-type">quoteLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Literal.html#Literal"><span class="hs-identifier hs-type">Literal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-153"></span><span>      </span><span id="local-6989586621682043442"><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var hs-var">quoteLit</span></a></span></span><span> </span><span id="local-6989586621682043443"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043443"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitNat"><span class="hs-identifier hs-type">LitNat</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043332"><span class="hs-identifier hs-var">litNat</span></a></span><span>    </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043443"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-154"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span id="local-6989586621682043446"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043446"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitWord64"><span class="hs-identifier hs-type">LitWord64</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043334"><span class="hs-identifier hs-var">litWord64</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043446"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-155"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span id="local-6989586621682043448"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043448"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitFloat"><span class="hs-identifier hs-type">LitFloat</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043335"><span class="hs-identifier hs-var">litFloat</span></a></span><span>  </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043448"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-156"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span id="local-6989586621682043450"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043450"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitChar"><span class="hs-identifier hs-type">LitChar</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043337"><span class="hs-identifier hs-var">litChar</span></a></span><span>   </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043450"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-157"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span id="local-6989586621682043452"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043452"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitString"><span class="hs-identifier hs-type">LitString</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043339"><span class="hs-identifier hs-var">litString</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043452"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-158"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span id="local-6989586621682043454"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043454"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitQName"><span class="hs-identifier hs-type">LitQName</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043341"><span class="hs-identifier hs-var">litQName</span></a></span><span>  </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043454"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-159"></span><span>      </span><span class="annot"><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span id="local-6989586621682043456"><span class="annot"><span class="annottext">l :: Literal
</span><a href="#local-6989586621682043456"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Literal.html#LitMeta"><span class="hs-identifier hs-type">LitMeta</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043343"><span class="hs-identifier hs-var">litMeta</span></a></span><span>   </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043456"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>      </span><span class="hs-comment">-- We keep no ranges in the quoted term, so the equality on terms</span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-comment">-- is only on the structure.</span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><a href="#local-6989586621682043458"><span class="hs-identifier hs-type">quoteSortLevelTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-164"></span><span>      </span><span id="local-6989586621682043458"><span class="annot"><a href="#local-6989586621682043458"><span class="hs-identifier hs-var hs-var">quoteSortLevelTerm</span></a></span></span><span> </span><span id="local-6989586621682043459"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043459"><span class="hs-identifier hs-var">fromLit</span></a></span></span><span> </span><span id="local-6989586621682043460"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043460"><span class="hs-identifier hs-var">fromLevel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#ClosedLevel"><span class="hs-identifier hs-type">ClosedLevel</span></a></span><span> </span><span id="local-6989586621682043462"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043462"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043459"><span class="hs-identifier hs-var">fromLit</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitNat"><span class="hs-identifier hs-var">LitNat</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043462"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><a href="#local-6989586621682043458"><span class="hs-identifier hs-var">quoteSortLevelTerm</span></a></span><span> </span><span id="local-6989586621682043463"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043463"><span class="hs-identifier hs-var">fromLit</span></a></span></span><span> </span><span id="local-6989586621682043464"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043464"><span class="hs-identifier hs-var">fromLevel</span></a></span></span><span> </span><span id="local-6989586621682043465"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043465"><span class="hs-identifier hs-var">l</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043464"><span class="hs-identifier hs-var">fromLevel</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LevelKit -&gt; Level -&gt; Term
</span><a href="Agda.TypeChecking.Level.html#unlevelWithKit"><span class="hs-identifier hs-var">unlevelWithKit</span></a></span><span> </span><span class="annot"><span class="annottext">LevelKit
</span><a href="#local-6989586621682043377"><span class="hs-identifier hs-var">lkit</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043465"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-type">quoteSort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-168"></span><span>      </span><span id="local-6989586621682043468"><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var hs-var">quoteSort</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span id="local-6989586621682043470"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043470"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; Level -&gt; ReduceM Term
</span><a href="#local-6989586621682043458"><span class="hs-identifier hs-var">quoteSortLevelTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043363"><span class="hs-identifier hs-var">setLit</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043361"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043470"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-169"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Prop"><span class="hs-identifier hs-type">Prop</span></a></span><span> </span><span id="local-6989586621682043472"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043472"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; Level -&gt; ReduceM Term
</span><a href="#local-6989586621682043458"><span class="hs-identifier hs-var">quoteSortLevelTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043367"><span class="hs-identifier hs-var">propLit</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043365"><span class="hs-identifier hs-var">prop</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043472"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Inf"><span class="hs-identifier hs-type">Inf</span></a></span><span> </span><span id="local-6989586621682043474"><span class="annot"><span class="annottext">Univ
</span><a href="#local-6989586621682043474"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621682043475"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043475"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Univ
</span><a href="#local-6989586621682043474"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><span class="annottext">Univ
</span><a href="Agda.Syntax.Internal.Univ.html#UType"><span class="hs-identifier hs-var">UType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043369"><span class="hs-identifier hs-var">inf</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitNat"><span class="hs-identifier hs-var">LitNat</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043475"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>        </span><span class="annot"><span class="annottext">Univ
</span><a href="Agda.Syntax.Internal.Univ.html#UProp"><span class="hs-identifier hs-var">UProp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-173"></span><span>        </span><span class="annot"><span class="annottext">Univ
</span><a href="Agda.Syntax.Internal.Univ.html#USSet"><span class="hs-identifier hs-var">USSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-174"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#SSet"><span class="hs-identifier hs-type">SSet</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-175"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#SizeUniv"><span class="hs-identifier hs-var">SizeUniv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#LockUniv"><span class="hs-identifier hs-var">LockUniv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#LevelUniv"><span class="hs-identifier hs-var">LevelUniv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="Agda.Syntax.Internal.html#IntervalUniv"><span class="hs-identifier hs-var">IntervalUniv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#PiSort"><span class="hs-identifier hs-type">PiSort</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-180"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#FunSort"><span class="hs-identifier hs-type">FunSort</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-181"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#UnivSort"><span class="hs-identifier hs-type">UnivSort</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaS"><span class="hs-identifier hs-type">MetaS</span></a></span><span> </span><span id="local-6989586621682043488"><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621682043488"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682043489"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043489"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#DefS"><span class="hs-identifier hs-type">DefS</span></a></span><span> </span><span id="local-6989586621682043491"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043491"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621682043492"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043492"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043371"><span class="hs-identifier hs-var">unsupportedSort</span></a></span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#DummyS"><span class="hs-identifier hs-type">DummyS</span></a></span><span> </span><span id="local-6989586621682043494"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043494"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">String -&gt; ReduceM Term
forall (m :: * -&gt; *) a.
(HasCallStack, MonadDebug m) =&gt;
String -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Debug.html#__IMPOSSIBLE_VERBOSE__"><span class="hs-identifier hs-var">__IMPOSSIBLE_VERBOSE__</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043494"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><a href="#local-6989586621682043496"><span class="hs-identifier hs-type">quoteType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span id="local-6989586621682043496"><span class="annot"><a href="#local-6989586621682043496"><span class="hs-identifier hs-var hs-var">quoteType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#El"><span class="hs-identifier hs-type">El</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043498"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043498"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043498"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><a href="#local-6989586621682043499"><span class="hs-identifier hs-type">quoteQName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span id="local-6989586621682043499"><span class="annot"><a href="#local-6989586621682043499"><span class="hs-identifier hs-var hs-var">quoteQName</span></a></span></span><span> </span><span id="local-6989586621682043500"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043500"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; Term -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">(Literal -&gt; Term) -&gt; Literal -&gt; Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitQName"><span class="hs-identifier hs-var">LitQName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043500"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><a href="#local-6989586621682043501"><span class="hs-identifier hs-type">quotePats</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Common.html#NamedArg"><span class="hs-identifier hs-type">NamedArg</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#DeBruijnPattern"><span class="hs-identifier hs-type">DeBruijnPattern</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span id="local-6989586621682043501"><span class="annot"><a href="#local-6989586621682043501"><span class="hs-identifier hs-var hs-var">quotePats</span></a></span></span><span> </span><span id="local-6989586621682043502"><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043502"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; ReduceM Term
</span><a href="#local-6989586621682043503"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="annot"><span class="annottext">([ReduceM Term] -&gt; ReduceM Term) -&gt; [ReduceM Term] -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(NamedArg DeBruijnPattern -&gt; ReduceM Term)
-&gt; [NamedArg DeBruijnPattern] -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DeBruijnPattern -&gt; ReduceM Term)
-&gt; Arg DeBruijnPattern -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; Arg a -&gt; ReduceM Term
</span><a href="#local-6989586621682043504"><span class="hs-identifier hs-var">quoteArg</span></a></span><span> </span><span class="annot"><span class="annottext">DeBruijnPattern -&gt; ReduceM Term
</span><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="annot"><span class="annottext">(Arg DeBruijnPattern -&gt; ReduceM Term)
-&gt; (NamedArg DeBruijnPattern -&gt; Arg DeBruijnPattern)
-&gt; NamedArg DeBruijnPattern
-&gt; ReduceM Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Named NamedName DeBruijnPattern -&gt; DeBruijnPattern)
-&gt; NamedArg DeBruijnPattern -&gt; Arg DeBruijnPattern
forall a b. (a -&gt; b) -&gt; Arg a -&gt; Arg b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Named NamedName DeBruijnPattern -&gt; DeBruijnPattern
forall name a. Named name a -&gt; a
</span><a href="Agda.Syntax.Common.html#namedThing"><span class="hs-identifier hs-var">namedThing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043502"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-type">quotePat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#DeBruijnPattern"><span class="hs-identifier hs-type">DeBruijnPattern</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span id="local-6989586621682043505"><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var hs-var">quotePat</span></a></span></span><span> </span><span id="local-6989586621682043507"><span class="annot"><span class="annottext">p :: DeBruijnPattern
</span><a href="#local-6989586621682043507"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#VarP"><span class="hs-identifier hs-type">VarP</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043509"><span class="annot"><span class="annottext">DBPatVar
</span><a href="#local-6989586621682043509"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DeBruijnPattern -&gt; Maybe PatOrigin
forall x. Pattern' x -&gt; Maybe PatOrigin
</span><a href="Agda.Syntax.Internal.html#patternOrigin"><span class="hs-identifier hs-var">patternOrigin</span></a></span><span> </span><span class="annot"><span class="annottext">DeBruijnPattern
</span><a href="#local-6989586621682043507"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PatOrigin -&gt; Maybe PatOrigin -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">PatOrigin -&gt; Maybe PatOrigin
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">PatOrigin
</span><a href="Agda.Syntax.Internal.html#PatOAbsurd"><span class="hs-identifier hs-var">PatOAbsurd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043359"><span class="hs-identifier hs-var">absurdP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteNat"><span class="hs-identifier hs-var">quoteNat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Int -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DBPatVar -&gt; Int
</span><a href="Agda.Syntax.Internal.html#dbPatVarIndex"><span class="hs-identifier hs-var">dbPatVarIndex</span></a></span><span> </span><span class="annot"><span class="annottext">DBPatVar
</span><a href="#local-6989586621682043509"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#VarP"><span class="hs-identifier hs-type">VarP</span></a></span><span> </span><span id="local-6989586621682043514"><span class="annot"><span class="annottext">PatternInfo
</span><a href="#local-6989586621682043514"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621682043515"><span class="annot"><span class="annottext">DBPatVar
</span><a href="#local-6989586621682043515"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043349"><span class="hs-identifier hs-var">varP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteNat"><span class="hs-identifier hs-var">quoteNat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Int -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DBPatVar -&gt; Int
</span><a href="Agda.Syntax.Internal.html#dbPatVarIndex"><span class="hs-identifier hs-var">dbPatVarIndex</span></a></span><span> </span><span class="annot"><span class="annottext">DBPatVar
</span><a href="#local-6989586621682043515"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#DotP"><span class="hs-identifier hs-type">DotP</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043517"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043517"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043353"><span class="hs-identifier hs-var">dotP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043517"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#ConP"><span class="hs-identifier hs-type">ConP</span></a></span><span> </span><span id="local-6989586621682043519"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043519"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConPatternInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043520"><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043520"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043351"><span class="hs-identifier hs-var">conP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ReduceM Term
</span><a href="#local-6989586621682043499"><span class="hs-identifier hs-var">quoteQName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; QName
</span><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043519"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern] -&gt; ReduceM Term
</span><a href="#local-6989586621682043501"><span class="hs-identifier hs-var">quotePats</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043520"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#LitP"><span class="hs-identifier hs-type">LitP</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043523"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043523"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043355"><span class="hs-identifier hs-var">litP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; ReduceM Term
</span><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043523"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#ProjP"><span class="hs-identifier hs-type">ProjP</span></a></span><span> </span><span class="annot"><span class="annottext">ProjOrigin
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043525"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043525"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043357"><span class="hs-identifier hs-var">projP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ReduceM Term
</span><a href="#local-6989586621682043499"><span class="hs-identifier hs-var">quoteQName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043525"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="hs-comment">-- #4763: quote IApply co/patterns as though they were variables</span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#IApplyP"><span class="hs-identifier hs-type">IApplyP</span></a></span><span> </span><span class="annot"><span class="annottext">PatternInfo
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682043527"><span class="annot"><span class="annottext">DBPatVar
</span><a href="#local-6989586621682043527"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043349"><span class="hs-identifier hs-var">varP</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteNat"><span class="hs-identifier hs-var">quoteNat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Int -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DBPatVar -&gt; Int
</span><a href="Agda.Syntax.Internal.html#dbPatVarIndex"><span class="hs-identifier hs-var">dbPatVarIndex</span></a></span><span> </span><span class="annot"><span class="annottext">DBPatVar
</span><a href="#local-6989586621682043527"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><a href="#local-6989586621682043505"><span class="hs-identifier hs-var">quotePat</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#DefP"><span class="hs-identifier hs-type">DefP</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043384"><span class="hs-identifier hs-var">unsupported</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span>      </span><span id="local-6989586621682042611"><span class="annot"><a href="#local-6989586621682043529"><span class="hs-identifier hs-type">quoteClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621682042611"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Projection"><span class="hs-identifier hs-type">Projection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span><span>
</span><span id="line-208"></span><span>      </span><span id="local-6989586621682043529"><span class="annot"><a href="#local-6989586621682043529"><span class="hs-identifier hs-var hs-var">quoteClause</span></a></span></span><span> </span><span id="local-6989586621682043539"><span class="annot"><span class="annottext">Either a Projection
</span><a href="#local-6989586621682043539"><span class="hs-identifier hs-var">proj</span></a></span></span><span> </span><span id="local-6989586621682043540"><span class="annot"><span class="annottext">cl :: Clause
</span><a href="#local-6989586621682043540"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">clauseTel :: Clause -&gt; Telescope
</span><a href="Agda.Syntax.Internal.html#clauseTel"><span class="hs-identifier hs-var">clauseTel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043543"><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043543"><span class="hs-identifier hs-var">tel</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">namedClausePats :: Clause -&gt; [NamedArg DeBruijnPattern]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043545"><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043545"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">clauseBody :: Clause -&gt; Maybe Term
</span><a href="Agda.Syntax.Internal.html#clauseBody"><span class="hs-identifier hs-var">clauseBody</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043547"><span class="annot"><span class="annottext">Maybe Term
</span><a href="#local-6989586621682043547"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-209"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Term
</span><a href="#local-6989586621682043547"><span class="hs-identifier hs-var">body</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-210"></span><span>          </span><span class="annot"><span class="annottext">Maybe Term
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043347"><span class="hs-identifier hs-var">absurdClause</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope -&gt; ReduceM Term
</span><a href="#local-6989586621682043548"><span class="hs-identifier hs-var">quoteTelescope</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043543"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern] -&gt; ReduceM Term
</span><a href="#local-6989586621682043501"><span class="hs-identifier hs-var">quotePats</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043549"><span class="hs-identifier hs-var">ps'</span></a></span><span>
</span><span id="line-211"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682043550"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043550"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043345"><span class="hs-identifier hs-var">normalClause</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope -&gt; ReduceM Term
</span><a href="#local-6989586621682043548"><span class="hs-identifier hs-var">quoteTelescope</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043543"><span class="hs-identifier hs-var">tel</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern] -&gt; ReduceM Term
</span><a href="#local-6989586621682043501"><span class="hs-identifier hs-var">quotePats</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043549"><span class="hs-identifier hs-var">ps'</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043550"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-212"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>          </span><span class="hs-comment">-- #5128: restore dropped parameters if projection-like</span><span>
</span><span id="line-214"></span><span>          </span><span id="local-6989586621682043549"><span class="annot"><span class="annottext">ps' :: [NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043549"><span class="hs-identifier hs-var hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-215"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a Projection
</span><a href="#local-6989586621682043539"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-216"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043545"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-217"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682043551"><span class="annot"><span class="annottext">Projection
</span><a href="#local-6989586621682043551"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043552"><span class="hs-identifier hs-var">pars</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
-&gt; [NamedArg DeBruijnPattern] -&gt; [NamedArg DeBruijnPattern]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043545"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-218"></span><span>                </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>                  </span><span id="local-6989586621682043553"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621682043553"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Projection -&gt; Int
</span><a href="Agda.TypeChecking.Monad.Base.html#projIndex"><span class="hs-identifier hs-var">projIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Projection
</span><a href="#local-6989586621682043551"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-220"></span><span>                  </span><span id="local-6989586621682043552"><span class="annot"><span class="annottext">pars :: [NamedArg DeBruijnPattern]
</span><a href="#local-6989586621682043552"><span class="hs-identifier hs-var hs-var">pars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Dom' Term (String, Type)) -&gt; NamedArg DeBruijnPattern)
-&gt; [(Int, Dom' Term (String, Type))] -&gt; [NamedArg DeBruijnPattern]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, Dom' Term (String, Type)) -&gt; NamedArg DeBruijnPattern
forall {t} {b} {name}.
(Int, Dom' t (String, b)) -&gt; Arg (Named name DeBruijnPattern)
</span><a href="#local-6989586621682043555"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">([(Int, Dom' Term (String, Type))] -&gt; [NamedArg DeBruijnPattern])
-&gt; [(Int, Dom' Term (String, Type))] -&gt; [NamedArg DeBruijnPattern]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int
-&gt; [(Int, Dom' Term (String, Type))]
-&gt; [(Int, Dom' Term (String, Type))]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043553"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">([(Int, Dom' Term (String, Type))]
 -&gt; [(Int, Dom' Term (String, Type))])
-&gt; [(Int, Dom' Term (String, Type))]
-&gt; [(Int, Dom' Term (String, Type))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Int]
-&gt; [Dom' Term (String, Type)] -&gt; [(Int, Dom' Term (String, Type))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Int]
forall a. Integral a =&gt; a -&gt; [a]
</span><a href="Agda.Utils.List.html#downFrom"><span class="hs-identifier hs-var">downFrom</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Int]) -&gt; Int -&gt; [Int]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Telescope -&gt; Int
forall a. Sized a =&gt; a -&gt; Int
</span><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043543"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Telescope -&gt; [Dom' Term (String, Type)]
forall t. Tele (Dom t) -&gt; [Dom (String, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043543"><span class="hs-identifier hs-var">tel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>                  </span><span id="local-6989586621682043555"><span class="annot"><span class="annottext">toVar :: (Int, Dom' t (String, b)) -&gt; Arg (Named name DeBruijnPattern)
</span><a href="#local-6989586621682043555"><span class="hs-identifier hs-var hs-var">toVar</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682043561"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043561"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682043562"><span class="annot"><span class="annottext">Dom' t (String, b)
</span><a href="#local-6989586621682043562"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dom' t (String, b) -&gt; Arg (String, b)
forall t a. Dom' t a -&gt; Arg a
</span><a href="Agda.Syntax.Internal.html#argFromDom"><span class="hs-identifier hs-var">argFromDom</span></a></span><span> </span><span class="annot"><span class="annottext">Dom' t (String, b)
</span><a href="#local-6989586621682043562"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Arg (String, b)
-&gt; ((String, b) -&gt; Named name DeBruijnPattern)
-&gt; Arg (Named name DeBruijnPattern)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682043565"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043565"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeBruijnPattern -&gt; Named name DeBruijnPattern
forall a name. a -&gt; Named name a
</span><a href="Agda.Syntax.Common.html#unnamed"><span class="hs-identifier hs-var">unnamed</span></a></span><span> </span><span class="annot"><span class="annottext">(DeBruijnPattern -&gt; Named name DeBruijnPattern)
-&gt; DeBruijnPattern -&gt; Named name DeBruijnPattern
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DBPatVar -&gt; DeBruijnPattern
forall a. a -&gt; Pattern' a
</span><a href="Agda.Syntax.Internal.html#varP"><span class="hs-identifier hs-var">I.varP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Int -&gt; DBPatVar
</span><a href="Agda.Syntax.Internal.html#DBPatVar"><span class="hs-identifier hs-var">DBPatVar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043565"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043561"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="#local-6989586621682043548"><span class="hs-identifier hs-type">quoteTelescope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Telescope"><span class="hs-identifier hs-type">Telescope</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-224"></span><span>      </span><span id="local-6989586621682043548"><span class="annot"><a href="#local-6989586621682043548"><span class="hs-identifier hs-var hs-var">quoteTelescope</span></a></span></span><span> </span><span id="local-6989586621682043569"><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043569"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Dom' Term (String, Type) -&gt; ReduceM Term)
-&gt; [Dom' Term (String, Type)] -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; [a] -&gt; ReduceM Term
</span><a href="#local-6989586621682043570"><span class="hs-identifier hs-var">quoteList</span></a></span><span> </span><span class="annot"><span class="annottext">Dom' Term (String, Type) -&gt; ReduceM Term
</span><a href="#local-6989586621682043571"><span class="hs-identifier hs-var">quoteTelEntry</span></a></span><span> </span><span class="annot"><span class="annottext">([Dom' Term (String, Type)] -&gt; ReduceM Term)
-&gt; [Dom' Term (String, Type)] -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Telescope -&gt; [Dom' Term (String, Type)]
forall t. Tele (Dom t) -&gt; [Dom (String, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043569"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="#local-6989586621682043571"><span class="hs-identifier hs-type">quoteTelEntry</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#ArgName"><span class="hs-identifier hs-type">ArgName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span id="local-6989586621682043571"><span class="annot"><a href="#local-6989586621682043571"><span class="hs-identifier hs-var hs-var">quoteTelEntry</span></a></span></span><span> </span><span id="local-6989586621682043573"><span class="annot"><span class="annottext">dom :: Dom' Term (String, Type)
</span><a href="#local-6989586621682043573"><span class="hs-identifier hs-var">dom</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">unDom :: forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682043576"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043576"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">,</span><span> </span><span id="local-6989586621682043577"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682043577"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="Agda.TypeChecking.Primitive.Base.html#SigmaKit"><span class="hs-identifier hs-type">SigmaKit</span></a></span><span class="hs-special">{</span><span id="local-6989586621682043579"><span id="local-6989586621682043580"><span id="local-6989586621682043581"><span id="local-6989586621682043582"><span class="annot"><a href="#local-6989586621682043579"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SigmaKit -&gt; Maybe SigmaKit -&gt; SigmaKit
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">SigmaKit
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe SigmaKit -&gt; SigmaKit)
-&gt; ReduceM (Maybe SigmaKit) -&gt; ReduceM SigmaKit
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ReduceM (Maybe SigmaKit)
forall (m :: * -&gt; *).
(HasBuiltins m, HasConstInfo m) =&gt;
m (Maybe SigmaKit)
</span><a href="Agda.TypeChecking.Primitive.Base.html#getSigmaKit"><span class="hs-identifier hs-var">getSigmaKit</span></a></span><span>
</span><span id="line-229"></span><span>        </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043580"><span class="hs-identifier hs-type">sigmaCon</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#ConOSystem"><span class="hs-identifier hs-type">ConOSystem</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682043415"><span class="hs-operator hs-type">!@!</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteString"><span class="hs-identifier hs-type">quoteString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043576"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-type">@@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043590"><span class="hs-identifier hs-type">quoteDom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043496"><span class="hs-identifier hs-type">quoteType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">snd</span></span><span> </span><span class="annot"><a href="#local-6989586621682043573"><span class="hs-identifier hs-type">dom</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><a href="#local-6989586621682043503"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-232"></span><span>      </span><span id="local-6989586621682043503"><span class="annot"><a href="#local-6989586621682043503"><span class="hs-identifier hs-var hs-var">list</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term)
-&gt; ReduceM Term -&gt; [ReduceM Term] -&gt; ReduceM Term
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682043593"><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043593"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621682043594"><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043594"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043306"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043593"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term
</span><a href="#local-6989586621682043594"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043304"><span class="hs-identifier hs-var">nil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span>      </span><span id="local-6989586621682043595"><span class="annot"><a href="#local-6989586621682043570"><span class="hs-identifier hs-type">quoteList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682043595"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682043595"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span><span>
</span><span id="line-235"></span><span>      </span><span id="local-6989586621682043570"><span class="annot"><a href="#local-6989586621682043570"><span class="hs-identifier hs-var hs-var">quoteList</span></a></span></span><span> </span><span id="local-6989586621682043596"><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043596"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621682043597"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682043597"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; ReduceM Term
</span><a href="#local-6989586621682043503"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; ReduceM Term) -&gt; [a] -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043596"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682043597"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span>      </span><span id="local-6989586621682042637"><span class="annot"><a href="#local-6989586621682043590"><span class="hs-identifier hs-type">quoteDom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682042637"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042637"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span><span>
</span><span id="line-238"></span><span>      </span><span id="local-6989586621682043590"><span class="annot"><a href="#local-6989586621682043590"><span class="hs-identifier hs-var hs-var">quoteDom</span></a></span></span><span> </span><span id="local-6989586621682043600"><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043600"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">domInfo :: forall t e. Dom' t e -&gt; ArgInfo
</span><a href="Agda.Syntax.Internal.html#domInfo"><span class="hs-identifier hs-var">domInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043602"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621682043602"><span class="hs-identifier hs-var">info</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">unDom :: forall t e. Dom' t e -&gt; e
</span><a href="Agda.Syntax.Internal.html#unDom"><span class="hs-identifier hs-var">unDom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043603"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043603"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043310"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; ReduceM Term
</span><a href="#local-6989586621682043438"><span class="hs-identifier hs-var">quoteArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621682043602"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043600"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043603"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>      </span><span id="local-6989586621682042647"><span class="annot"><a href="#local-6989586621682043604"><span class="hs-identifier hs-type">quoteAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Substitute.Class.html#Subst"><span class="hs-identifier hs-type">Subst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042647"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682042647"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042647"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span><span>
</span><span id="line-241"></span><span>      </span><span id="local-6989586621682043604"><span class="annot"><a href="#local-6989586621682043604"><span class="hs-identifier hs-var hs-var">quoteAbs</span></a></span></span><span> </span><span id="local-6989586621682043611"><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043611"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span> </span><span id="local-6989586621682043613"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043613"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682043614"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043614"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043308"><span class="hs-identifier hs-var">abs</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteString"><span class="hs-identifier hs-var">quoteString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043613"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043611"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043614"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><a href="#local-6989586621682043604"><span class="hs-identifier hs-var">quoteAbs</span></a></span><span> </span><span id="local-6989586621682043615"><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043615"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#NoAbs"><span class="hs-identifier hs-type">NoAbs</span></a></span><span> </span><span id="local-6989586621682043617"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043617"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682043618"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043618"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043308"><span class="hs-identifier hs-var">abs</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteString"><span class="hs-identifier hs-var">quoteString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682043617"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043615"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; a -&gt; a
forall a. Subst a =&gt; Int -&gt; a -&gt; a
</span><a href="Agda.TypeChecking.Substitute.Class.html#raise"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043618"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>      </span><span id="local-6989586621682042596"><span class="annot"><a href="#local-6989586621682043504"><span class="hs-identifier hs-type">quoteArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682042596"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682042596"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span></span><span>
</span><span id="line-245"></span><span>      </span><span id="local-6989586621682043504"><span class="annot"><a href="#local-6989586621682043504"><span class="hs-identifier hs-var hs-var">quoteArg</span></a></span></span><span> </span><span id="local-6989586621682043622"><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043622"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Common.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span id="local-6989586621682043624"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621682043624"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621682043625"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043625"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043310"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; ReduceM Term
</span><a href="#local-6989586621682043438"><span class="hs-identifier hs-var">quoteArgInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621682043624"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ReduceM Term
</span><a href="#local-6989586621682043622"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682043625"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span>      </span><span class="annot"><a href="#local-6989586621682043626"><span class="hs-identifier hs-type">quoteArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Args"><span class="hs-identifier hs-type">Args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-248"></span><span>      </span><span id="local-6989586621682043626"><span class="annot"><a href="#local-6989586621682043626"><span class="hs-identifier hs-var hs-var">quoteArgs</span></a></span></span><span> </span><span id="local-6989586621682043627"><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043627"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; ReduceM Term
</span><a href="#local-6989586621682043503"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Arg Term -&gt; ReduceM Term) -&gt; Args -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; Arg Term -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; Arg a -&gt; ReduceM Term
</span><a href="#local-6989586621682043504"><span class="hs-identifier hs-var">quoteArg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043627"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span>      </span><span class="hs-comment">-- has the clause been generated (in particular by --cubical)?</span><span>
</span><span id="line-251"></span><span>      </span><span class="hs-comment">-- TODO: have an explicit clause origin field?</span><span>
</span><span id="line-252"></span><span>      </span><span class="annot"><a href="#local-6989586621682043628"><span class="hs-identifier hs-type">generatedClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Clause"><span class="hs-identifier hs-type">Clause</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-253"></span><span>      </span><span id="local-6989586621682043628"><span class="annot"><a href="#local-6989586621682043628"><span class="hs-identifier hs-var hs-var">generatedClause</span></a></span></span><span> </span><span id="local-6989586621682043629"><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621682043629"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern] -&gt; Bool
</span><a href="Agda.Syntax.Internal.Pattern.html#hasDefP"><span class="hs-identifier hs-var">hasDefP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clause -&gt; [NamedArg DeBruijnPattern]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621682043629"><span class="hs-identifier hs-var">cl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><a href="#local-6989586621682043466"><span class="hs-identifier hs-type">quoteTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-256"></span><span>      </span><span id="local-6989586621682043466"><span class="annot"><a href="#local-6989586621682043466"><span class="hs-identifier hs-var hs-var">quoteTerm</span></a></span></span><span> </span><span id="local-6989586621682043630"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043630"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-257"></span><span>        </span><span id="local-6989586621682043631"><span class="annot"><a href="#local-6989586621682043631"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall t. Instantiate t =&gt; t -&gt; ReduceM t
</span><a href="Agda.TypeChecking.Reduce.html#instantiate%27"><span class="hs-identifier hs-var">instantiate'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043630"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-258"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#unSpine"><span class="hs-identifier hs-type">unSpine</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043631"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-259"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621682043635"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043635"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682043636"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043636"><span class="hs-identifier hs-var">es</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-260"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682043637"><span class="annot"><span class="annottext">ts :: Args
</span><a href="#local-6989586621682043637"><span class="hs-identifier hs-var hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Args -&gt; Maybe Args -&gt; Args
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Args
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Args -&gt; Args) -&gt; Maybe Args -&gt; Args
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Maybe Args
forall a. [Elim' a] -&gt; Maybe [Arg a]
</span><a href="Agda.Syntax.Internal.Elim.html#allApplyElims"><span class="hs-identifier hs-var">allApplyElims</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043636"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-261"></span><span>             </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043314"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitNat"><span class="hs-identifier hs-var">LitNat</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Literal) -&gt; Integer -&gt; Literal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043635"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Args -&gt; ReduceM Term
</span><a href="#local-6989586621682043626"><span class="hs-identifier hs-var">quoteArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043637"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-262"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span id="local-6989586621682043640"><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621682043640"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621682043641"><span class="annot"><span class="annottext">Abs Term
</span><a href="#local-6989586621682043641"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043316"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Hiding -&gt; ReduceM Term
</span><a href="#local-6989586621682043422"><span class="hs-identifier hs-var">quoteHiding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgInfo -&gt; Hiding
forall a. LensHiding a =&gt; a -&gt; Hiding
</span><a href="Agda.Syntax.Common.html#getHiding"><span class="hs-identifier hs-var">getHiding</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo
</span><a href="#local-6989586621682043640"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; Abs Term -&gt; ReduceM Term
forall a. Subst a =&gt; (a -&gt; ReduceM Term) -&gt; Abs a -&gt; ReduceM Term
</span><a href="#local-6989586621682043604"><span class="hs-identifier hs-var">quoteAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Term
</span><a href="#local-6989586621682043641"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-263"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Def"><span class="hs-identifier hs-type">Def</span></a></span><span> </span><span id="local-6989586621682043644"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043644"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682043645"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043645"><span class="hs-identifier hs-var">es</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-264"></span><span>            </span><span id="local-6989586621682043646"><span class="annot"><a href="#local-6989586621682043646"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; ReduceM Definition
forall (m :: * -&gt; *).
(HasConstInfo m, HasCallStack) =&gt;
QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043644"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-265"></span><span>            </span><span id="local-6989586621682043648"><span class="annot"><a href="#local-6989586621682043648"><span class="hs-identifier hs-var">patlams</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#viewTC"><span class="hs-identifier hs-type">viewTC</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ePrintingPatternLambdas"><span class="hs-identifier hs-type">ePrintingPatternLambdas</span></a></span><span>
</span><span id="line-266"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682043653"><span class="annot"><a href="#local-6989586621682043653"><span class="hs-identifier hs-var hs-var">isSeenPatLam</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName -&gt; [QName] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">elem</span></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043644"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621682043648"><span class="hs-identifier hs-var">patlams</span></a></span><span>
</span><span id="line-267"></span><span>            </span><span id="local-6989586621682043655"><span class="annot"><a href="#local-6989586621682043655"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#isReconstructed"><span class="hs-identifier hs-type">isReconstructed</span></a></span><span>
</span><span id="line-268"></span><span>            </span><span class="hs-comment">-- #2220: remember to restore dropped parameters</span><span>
</span><span id="line-269"></span><span>            </span><span class="hs-keyword">let</span><span>
</span><span id="line-270"></span><span>              </span><span id="local-6989586621682043657"><span class="annot"><a href="#local-6989586621682043657"><span class="hs-identifier hs-var hs-var">conOrProjPars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Bool -&gt; [ReduceM Term]
</span><a href="#local-6989586621682043658"><span class="hs-identifier hs-var">defParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043646"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682043655"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-271"></span><span>              </span><span id="local-6989586621682043659"><span class="annot"><a href="#local-6989586621682043659"><span class="hs-identifier hs-var hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Args -&gt; Maybe Args -&gt; Args
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Args
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Args -&gt; Args) -&gt; Maybe Args -&gt; Args
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Maybe Args
forall a. [Elim' a] -&gt; Maybe [Arg a]
</span><a href="Agda.Syntax.Internal.Elim.html#allApplyElims"><span class="hs-identifier hs-var">allApplyElims</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043645"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-272"></span><span>              </span><span id="local-6989586621682043660"><span class="annot"><a href="#local-6989586621682043660"><span class="hs-identifier hs-var hs-var">qx</span></a></span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funExtLam :: Defn -&gt; Maybe ExtLamInfo
</span><a href="Agda.TypeChecking.Monad.Base.html#funExtLam"><span class="hs-identifier hs-var">funExtLam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ExtLamInfo"><span class="hs-identifier hs-type">ExtLamInfo</span></a></span><span> </span><span id="local-6989586621682043664"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621682043664"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Maybe System
</span><span class="hs-identifier hs-var">Strict.Nothing</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funClauses :: Defn -&gt; [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#funClauses"><span class="hs-identifier hs-var">funClauses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043667"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043667"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-273"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682043653"><span class="hs-identifier hs-var">isSeenPatLam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lens' TCEnv [QName]
-&gt; ([QName] -&gt; [QName]) -&gt; ReduceM Term -&gt; ReduceM Term
forall (m :: * -&gt; *) a b.
MonadTCEnv m =&gt;
Lens' TCEnv a -&gt; (a -&gt; a) -&gt; m b -&gt; m b
</span><a href="Agda.TypeChecking.Monad.Base.html#locallyTC"><span class="hs-identifier hs-var">locallyTC</span></a></span><span> </span><span class="annot"><span class="annottext">([QName] -&gt; f [QName]) -&gt; TCEnv -&gt; f TCEnv
Lens' TCEnv [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#ePrintingPatternLambdas"><span class="hs-identifier hs-var">ePrintingPatternLambdas</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043644"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; [QName] -&gt; [QName]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ReduceM Term -&gt; ReduceM Term) -&gt; ReduceM Term -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span>                    </span><span class="hs-comment">-- An extended lambda should not have any extra parameters!</span><span>
</span><span id="line-276"></span><span>                    </span><span class="annot"><span class="annottext">Bool -&gt; ReduceM () -&gt; ReduceM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[ReduceM Term]
</span><a href="#local-6989586621682043657"><span class="hs-identifier hs-var">conOrProjPars</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReduceM ()
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-277"></span><span>                    </span><span id="local-6989586621682043674"><span class="annot"><a href="#local-6989586621682043674"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; ReduceM [Clause]
forall a. a -&gt; ReduceM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Clause] -&gt; ReduceM [Clause]) -&gt; [Clause] -&gt; ReduceM [Clause]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; Bool) -&gt; [Clause] -&gt; [Clause]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Clause -&gt; Bool) -&gt; Clause -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Clause -&gt; Bool
</span><a href="#local-6989586621682043628"><span class="hs-identifier hs-var">generatedClause</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043667"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-278"></span><span>                    </span><span id="local-6989586621682043675"><span class="annot"><a href="#local-6989586621682043675"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.Utils.Size.html#size"><span class="hs-identifier hs-type">size</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Signature.html#lookupSection"><span class="hs-identifier hs-type">lookupSection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043664"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-279"></span><span>                    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682043677"><span class="annot"><a href="#local-6989586621682043677"><span class="hs-identifier hs-var">pars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682043678"><span class="annot"><a href="#local-6989586621682043678"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">splitAt</span></span><span> </span><span class="annot"><a href="#local-6989586621682043675"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043659"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-280"></span><span>                    </span><span class="annot"><a href="#local-6989586621682043318"><span class="hs-identifier hs-type">extlam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043409"><span class="hs-operator hs-type">!@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043503"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682043529"><span class="hs-identifier hs-type">quoteClause</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">`apply`</span></span><span> </span><span class="annot"><span class="hs-identifier">pars</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682043674"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>                           </span><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-type">@@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043503"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682043504"><span class="hs-identifier hs-type">quoteArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043466"><span class="hs-identifier hs-type">quoteTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682043678"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>              </span><span class="annot"><a href="#local-6989586621682043660"><span class="hs-identifier hs-var">qx</span></a></span><span> </span><span id="local-6989586621682043680"><span class="annot"><span class="annottext">df :: Defn
</span><a href="#local-6989586621682043680"><span class="hs-identifier hs-var">df</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funExtLam :: Defn -&gt; Maybe ExtLamInfo
</span><a href="Agda.TypeChecking.Monad.Base.html#funExtLam"><span class="hs-identifier hs-var">funExtLam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ExtLamInfo"><span class="hs-identifier hs-type">ExtLamInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Maybe System
</span><span class="hs-identifier hs-var">Strict.Nothing</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funCompiled :: Defn -&gt; Maybe CompiledClauses
</span><a href="Agda.TypeChecking.Monad.Base.html#funCompiled"><span class="hs-identifier hs-var">funCompiled</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.CompiledClause.html#Fail"><span class="hs-identifier hs-type">Fail</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funClauses :: Defn -&gt; [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#funClauses"><span class="hs-identifier hs-var">funClauses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682043683"><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621682043683"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-283"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682043653"><span class="hs-identifier hs-var">isSeenPatLam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lens' TCEnv [QName]
-&gt; ([QName] -&gt; [QName]) -&gt; ReduceM Term -&gt; ReduceM Term
forall (m :: * -&gt; *) a b.
MonadTCEnv m =&gt;
Lens' TCEnv a -&gt; (a -&gt; a) -&gt; m b -&gt; m b
</span><a href="Agda.TypeChecking.Monad.Base.html#locallyTC"><span class="hs-identifier hs-var">locallyTC</span></a></span><span> </span><span class="annot"><span class="annottext">([QName] -&gt; f [QName]) -&gt; TCEnv -&gt; f TCEnv
Lens' TCEnv [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#ePrintingPatternLambdas"><span class="hs-identifier hs-var">ePrintingPatternLambdas</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043644"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; [QName] -&gt; [QName]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ReduceM Term -&gt; ReduceM Term) -&gt; ReduceM Term -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-284"></span><span>                    </span><span class="hs-comment">-- See also corresponding code in InternalToAbstract</span><span>
</span><span id="line-285"></span><span>                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682043686"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621682043686"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[NamedArg DeBruijnPattern] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clause -&gt; [NamedArg DeBruijnPattern]
</span><a href="Agda.Syntax.Internal.html#namedClausePats"><span class="hs-identifier hs-var">namedClausePats</span></a></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621682043683"><span class="hs-identifier hs-var">cl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-286"></span><span>                        </span><span id="local-6989586621682043688"><span class="annot"><span class="annottext">pars :: Args
</span><a href="#local-6989586621682043688"><span class="hs-identifier hs-var hs-var">pars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Args -&gt; Args
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043686"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043659"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-287"></span><span>                    </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043318"><span class="hs-identifier hs-var">extlam</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; ReduceM Term
</span><a href="#local-6989586621682043503"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Either () Projection -&gt; Clause -&gt; ReduceM Term
forall a. Either a Projection -&gt; Clause -&gt; ReduceM Term
</span><a href="#local-6989586621682043529"><span class="hs-identifier hs-var">quoteClause</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Either () Projection
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; ReduceM Term) -&gt; Clause -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Clause
</span><a href="#local-6989586621682043683"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">Clause -&gt; Args -&gt; Clause
forall t. Apply t =&gt; t -&gt; Args -&gt; t
</span><a href="Agda.TypeChecking.Substitute.Class.html#apply"><span class="hs-operator hs-var">`apply`</span></a></span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043688"><span class="hs-identifier hs-var">pars</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-288"></span><span>                           </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; ReduceM Term
</span><a href="#local-6989586621682043503"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [ReduceM Term] -&gt; [ReduceM Term]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043686"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">([ReduceM Term] -&gt; [ReduceM Term])
-&gt; [ReduceM Term] -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; ReduceM Term) -&gt; Args -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; Arg Term -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; Arg a -&gt; ReduceM Term
</span><a href="#local-6989586621682043504"><span class="hs-identifier hs-var">quoteArg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043659"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>              </span><span class="annot"><a href="#local-6989586621682043660"><span class="hs-identifier hs-var">qx</span></a></span><span> </span><span class="annot"><span class="annottext">Defn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-290"></span><span>                </span><span id="local-6989586621682043690"><span class="annot"><a href="#local-6989586621682043690"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QName -&gt; ReduceM Int
forall (m :: * -&gt; *).
(ReadTCState m, MonadTCEnv m) =&gt;
QName -&gt; m Int
</span><a href="Agda.TypeChecking.Monad.Signature.html#getDefFreeVars"><span class="hs-identifier hs-var">getDefFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043644"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-291"></span><span>                </span><span class="annot"><a href="#local-6989586621682043320"><span class="hs-identifier hs-type">def</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043415"><span class="hs-operator hs-type">!@!</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-type">quoteName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043644"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-292"></span><span>                     </span><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-type">@@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043503"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">drop</span></span><span> </span><span class="annot"><a href="#local-6989586621682043690"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682043657"><span class="hs-identifier hs-type">conOrProjPars</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682043504"><span class="hs-identifier hs-type">quoteArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043466"><span class="hs-identifier hs-type">quoteTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682043659"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>            </span><span class="annot"><a href="#local-6989586621682043660"><span class="hs-identifier hs-type">qx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043646"><span class="hs-identifier hs-type">defn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621682043694"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043694"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682043695"><span class="annot"><span class="annottext">ConInfo
</span><a href="#local-6989586621682043695"><span class="hs-identifier hs-var">ci</span></a></span></span><span> </span><span id="local-6989586621682043696"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043696"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682043697"><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043697"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Maybe Args
forall a. [Elim' a] -&gt; Maybe [Arg a]
</span><a href="Agda.Syntax.Internal.Elim.html#allApplyElims"><span class="hs-identifier hs-var">allApplyElims</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043696"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-295"></span><span>            </span><span id="local-6989586621682043698"><span class="annot"><a href="#local-6989586621682043698"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReduceM Bool
forall (m :: * -&gt; *). MonadTCEnv m =&gt; m Bool
</span><a href="Agda.TypeChecking.Monad.Base.html#isReconstructed"><span class="hs-identifier hs-var">isReconstructed</span></a></span><span>
</span><span id="line-296"></span><span>            </span><span id="local-6989586621682043699"><span class="annot"><a href="#local-6989586621682043699"><span class="hs-identifier hs-var">cDef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-type">getConstInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043694"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>            </span><span id="local-6989586621682043700"><span class="annot"><a href="#local-6989586621682043700"><span class="hs-identifier hs-var">n</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Signature.html#getDefFreeVars"><span class="hs-identifier hs-type">getDefFreeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043694"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682043701"><span class="annot"><a href="#local-6989586621682043701"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; ReduceM Term
</span><a href="#local-6989586621682043503"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="annot"><span class="annottext">([ReduceM Term] -&gt; ReduceM Term) -&gt; [ReduceM Term] -&gt; ReduceM Term
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [ReduceM Term] -&gt; [ReduceM Term]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043700"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">([ReduceM Term] -&gt; [ReduceM Term])
-&gt; [ReduceM Term] -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Bool -&gt; [ReduceM Term]
</span><a href="#local-6989586621682043658"><span class="hs-identifier hs-var">defParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043699"><span class="hs-identifier hs-var">cDef</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682043698"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">[ReduceM Term] -&gt; [ReduceM Term] -&gt; [ReduceM Term]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Arg Term -&gt; ReduceM Term) -&gt; Args -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; Arg Term -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; Arg a -&gt; ReduceM Term
</span><a href="#local-6989586621682043504"><span class="hs-identifier hs-var">quoteArg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043697"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-299"></span><span>            </span><span class="annot"><a href="#local-6989586621682043322"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043415"><span class="hs-operator hs-type">!@!</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteConName"><span class="hs-identifier hs-type">quoteConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043694"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-type">@@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043701"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-300"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span id="local-6989586621682043703"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043703"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682043704"><span class="annot"><span class="annottext">ConInfo
</span><a href="#local-6989586621682043704"><span class="hs-identifier hs-var">ci</span></a></span></span><span> </span><span id="local-6989586621682043705"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043705"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043384"><span class="hs-identifier hs-var">unsupported</span></a></span><span>
</span><span id="line-301"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Pi"><span class="hs-identifier hs-type">Pi</span></a></span><span> </span><span id="local-6989586621682043707"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621682043707"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682043708"><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621682043708"><span class="hs-identifier hs-var">u</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043324"><span class="hs-identifier hs-var">pi</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span>  </span><span class="annot"><span class="annottext">(Type -&gt; ReduceM Term) -&gt; Dom Type -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; Dom a -&gt; ReduceM Term
</span><a href="#local-6989586621682043590"><span class="hs-identifier hs-var">quoteDom</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; ReduceM Term
</span><a href="#local-6989586621682043496"><span class="hs-identifier hs-var">quoteType</span></a></span><span> </span><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621682043707"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-302"></span><span>                            </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; ReduceM Term) -&gt; Abs Type -&gt; ReduceM Term
forall a. Subst a =&gt; (a -&gt; ReduceM Term) -&gt; Abs a -&gt; ReduceM Term
</span><a href="#local-6989586621682043604"><span class="hs-identifier hs-var">quoteAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; ReduceM Term
</span><a href="#local-6989586621682043496"><span class="hs-identifier hs-var">quoteType</span></a></span><span> </span><span class="annot"><span class="annottext">Abs Type
</span><a href="#local-6989586621682043708"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Level"><span class="hs-identifier hs-type">Level</span></a></span><span> </span><span id="local-6989586621682043710"><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043710"><span class="hs-identifier hs-var">l</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LevelKit -&gt; Level -&gt; Term
</span><a href="Agda.TypeChecking.Level.html#unlevelWithKit"><span class="hs-identifier hs-var">unlevelWithKit</span></a></span><span> </span><span class="annot"><span class="annottext">LevelKit
</span><a href="#local-6989586621682043377"><span class="hs-identifier hs-var">lkit</span></a></span><span> </span><span class="annot"><span class="annottext">Level
</span><a href="#local-6989586621682043710"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span> </span><span id="local-6989586621682043711"><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043711"><span class="hs-identifier hs-var">l</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043330"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Literal -&gt; ReduceM Term
</span><a href="#local-6989586621682043442"><span class="hs-identifier hs-var">quoteLit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><a href="#local-6989586621682043711"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Sort"><span class="hs-identifier hs-type">Sort</span></a></span><span> </span><span id="local-6989586621682043713"><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621682043713"><span class="hs-identifier hs-var">s</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043326"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">Sort -&gt; ReduceM Term
</span><a href="#local-6989586621682043468"><span class="hs-identifier hs-var">quoteSort</span></a></span><span> </span><span class="annot"><span class="annottext">Sort
</span><a href="#local-6989586621682043713"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#MetaV"><span class="hs-identifier hs-type">MetaV</span></a></span><span> </span><span id="local-6989586621682043715"><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621682043715"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682043716"><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043716"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043328"><span class="hs-identifier hs-var">meta</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelModuleName -&gt; MetaId -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteMeta"><span class="hs-identifier hs-var">quoteMeta</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelModuleName
</span><a href="#local-6989586621682043284"><span class="hs-identifier hs-var">currentModule</span></a></span><span> </span><span class="annot"><span class="annottext">MetaId
</span><a href="#local-6989586621682043715"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-307"></span><span>                              </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Args -&gt; ReduceM Term
</span><a href="#local-6989586621682043626"><span class="hs-identifier hs-var">quoteArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Args
</span><a href="#local-6989586621682043718"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-308"></span><span>            </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682043718"><span class="annot"><span class="annottext">vs :: Args
</span><a href="#local-6989586621682043718"><span class="hs-identifier hs-var hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Args -&gt; Maybe Args -&gt; Args
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Args
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Args -&gt; Args) -&gt; Maybe Args -&gt; Args
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Elims -&gt; Maybe Args
forall a. [Elim' a] -&gt; Maybe [Arg a]
</span><a href="Agda.Syntax.Internal.Elim.html#allApplyElims"><span class="hs-identifier hs-var">allApplyElims</span></a></span><span> </span><span class="annot"><span class="annottext">Elims
</span><a href="#local-6989586621682043716"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-309"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#DontCare"><span class="hs-identifier hs-type">DontCare</span></a></span><span> </span><span id="local-6989586621682043720"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043720"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
</span><a href="#local-6989586621682043466"><span class="hs-identifier hs-var">quoteTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043720"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-310"></span><span>          </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dummy"><span class="hs-identifier hs-type">Dummy</span></a></span><span> </span><span id="local-6989586621682043722"><span class="annot"><span class="annottext">DummyTermKind
</span><a href="#local-6989586621682043722"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">Elims
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReduceM Term
forall (m :: * -&gt; *) a.
(HasCallStack, MonadDebug m) =&gt;
String -&gt; m a
</span><a href="Agda.TypeChecking.Monad.Debug.html#__IMPOSSIBLE_VERBOSE__"><span class="hs-identifier hs-var">__IMPOSSIBLE_VERBOSE__</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DummyTermKind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DummyTermKind
</span><a href="#local-6989586621682043722"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>      </span><span class="annot"><a href="#local-6989586621682043658"><span class="hs-identifier hs-type">defParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-313"></span><span>      </span><span id="local-6989586621682043658"><span class="annot"><a href="#local-6989586621682043658"><span class="hs-identifier hs-var hs-var">defParameters</span></a></span></span><span> </span><span id="local-6989586621682043724"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043724"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-314"></span><span>      </span><span class="annot"><a href="#local-6989586621682043658"><span class="hs-identifier hs-var">defParameters</span></a></span><span> </span><span id="local-6989586621682043725"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043725"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Dom' Term (String, Type) -&gt; ReduceM Term)
-&gt; [Dom' Term (String, Type)] -&gt; [ReduceM Term]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Dom' Term (String, Type) -&gt; ReduceM Term
</span><a href="#local-6989586621682043726"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">[Dom' Term (String, Type)]
</span><a href="#local-6989586621682043727"><span class="hs-keyword hs-var">hiding</span></a></span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-316"></span><span>          </span><span id="local-6989586621682043728"><span class="annot"><span class="annottext">np :: Int
</span><a href="#local-6989586621682043728"><span class="hs-identifier hs-var hs-var">np</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Int
</span><a href="Agda.TypeChecking.Monad.Signature.html#droppedPars"><span class="hs-identifier hs-var">droppedPars</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043725"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-317"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Substitute.html#TelV"><span class="hs-identifier hs-type">TelV</span></a></span><span> </span><span id="local-6989586621682043731"><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043731"><span class="hs-identifier hs-var">tel</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TelV Type
</span><a href="Agda.TypeChecking.Substitute.html#telView%27"><span class="hs-identifier hs-var">telView'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Definition -&gt; Type
</span><a href="Agda.TypeChecking.Monad.Base.html#defType"><span class="hs-identifier hs-var">defType</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043725"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>          </span><span id="local-6989586621682043727"><span class="annot"><span class="annottext">hiding :: [Dom' Term (String, Type)]
</span><a href="#local-6989586621682043727"><span class="hs-keyword hs-var hs-var">hiding</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Dom' Term (String, Type)] -&gt; [Dom' Term (String, Type)]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043728"><span class="hs-identifier hs-var">np</span></a></span><span> </span><span class="annot"><span class="annottext">([Dom' Term (String, Type)] -&gt; [Dom' Term (String, Type)])
-&gt; [Dom' Term (String, Type)] -&gt; [Dom' Term (String, Type)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Telescope -&gt; [Dom' Term (String, Type)]
forall t. Tele (Dom t) -&gt; [Dom (String, t)]
</span><a href="Agda.Syntax.Internal.html#telToList"><span class="hs-identifier hs-var">telToList</span></a></span><span> </span><span class="annot"><span class="annottext">Telescope
</span><a href="#local-6989586621682043731"><span class="hs-identifier hs-var">tel</span></a></span><span>
</span><span id="line-319"></span><span>          </span><span id="local-6989586621682043726"><span class="annot"><span class="annottext">par :: Dom' Term (String, Type) -&gt; ReduceM Term
</span><a href="#local-6989586621682043726"><span class="hs-identifier hs-var hs-var">par</span></a></span></span><span> </span><span id="local-6989586621682043734"><span class="annot"><span class="annottext">Dom' Term (String, Type)
</span><a href="#local-6989586621682043734"><span class="hs-identifier hs-var">d</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043310"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">ArgInfo -&gt; ReduceM Term
</span><a href="#local-6989586621682043438"><span class="hs-identifier hs-var">quoteArgInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dom' Term (String, Type) -&gt; ArgInfo
forall t e. Dom' t e -&gt; ArgInfo
</span><a href="Agda.Syntax.Internal.html#domInfo"><span class="hs-identifier hs-var">domInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Dom' Term (String, Type)
</span><a href="#local-6989586621682043734"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                           </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043384"><span class="hs-identifier hs-var">unsupported</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>      </span><span class="annot"><a href="#local-6989586621682043735"><span class="hs-identifier hs-type">quoteDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#ReduceM"><span class="hs-identifier hs-type">ReduceM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-323"></span><span>      </span><span id="local-6989586621682043735"><span class="annot"><a href="#local-6989586621682043735"><span class="hs-identifier hs-var hs-var">quoteDefn</span></a></span></span><span> </span><span id="local-6989586621682043736"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043736"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-324"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Defn
</span><a href="Agda.TypeChecking.Monad.Base.html#theDef"><span class="hs-identifier hs-var">theDef</span></a></span><span> </span><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043736"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-325"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">funClauses :: Defn -&gt; [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#funClauses"><span class="hs-identifier hs-var">funClauses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043737"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043737"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funProjection :: Defn -&gt; Either ProjectionLikenessMissing Projection
</span><a href="Agda.TypeChecking.Monad.Base.html#funProjection"><span class="hs-identifier hs-var">funProjection</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043739"><span class="annot"><span class="annottext">Either ProjectionLikenessMissing Projection
</span><a href="#local-6989586621682043739"><span class="hs-identifier hs-var">proj</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-326"></span><span>           </span><span class="hs-keyword">do</span><span>
</span><span id="line-327"></span><span>            </span><span class="hs-comment">-- re #3733: maybe these should be quoted but marked as generated?</span><span>
</span><span id="line-328"></span><span>            </span><span id="local-6989586621682043740"><span class="annot"><a href="#local-6989586621682043740"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; ReduceM [Clause]
forall a. a -&gt; ReduceM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([Clause] -&gt; ReduceM [Clause]) -&gt; [Clause] -&gt; ReduceM [Clause]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; Bool) -&gt; [Clause] -&gt; [Clause]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Clause -&gt; Bool) -&gt; Clause -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Clause -&gt; Bool
</span><a href="#local-6989586621682043628"><span class="hs-identifier hs-var">generatedClause</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043737"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-329"></span><span>            </span><span class="annot"><a href="#local-6989586621682043386"><span class="hs-identifier hs-type">agdaDefinitionFunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043409"><span class="hs-operator hs-type">!@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043570"><span class="hs-identifier hs-type">quoteList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682043529"><span class="hs-identifier hs-type">quoteClause</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043739"><span class="hs-identifier hs-type">proj</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682043740"><span class="hs-identifier hs-type">cs</span></a></span><span>
</span><span id="line-330"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">dataPars :: Defn -&gt; Int
</span><a href="Agda.TypeChecking.Monad.Base.html#dataPars"><span class="hs-identifier hs-var">dataPars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043743"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043743"><span class="hs-identifier hs-var">np</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dataCons :: Defn -&gt; [QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#dataCons"><span class="hs-identifier hs-var">dataCons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043745"><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621682043745"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-331"></span><span>            </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043388"><span class="hs-identifier hs-var">agdaDefinitionDataDef</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteNat"><span class="hs-identifier hs-var">quoteNat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682043743"><span class="hs-identifier hs-var">np</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">(QName -&gt; ReduceM Term) -&gt; [QName] -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; [a] -&gt; ReduceM Term
</span><a href="#local-6989586621682043570"><span class="hs-identifier hs-var">quoteList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; (QName -&gt; Term) -&gt; QName -&gt; ReduceM Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-var">quoteName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[QName]
</span><a href="#local-6989586621682043745"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-332"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Record"><span class="hs-identifier hs-type">Record</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">recConHead :: Defn -&gt; ConHead
</span><a href="Agda.TypeChecking.Monad.Base.html#recConHead"><span class="hs-identifier hs-var">recConHead</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043748"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043748"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">recFields :: Defn -&gt; [Dom QName]
</span><a href="Agda.TypeChecking.Monad.Base.html#recFields"><span class="hs-identifier hs-var">recFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043750"><span class="annot"><span class="annottext">[Dom QName]
</span><a href="#local-6989586621682043750"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-333"></span><span>            </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043390"><span class="hs-identifier hs-var">agdaDefinitionRecordDef</span></a></span><span>
</span><span id="line-334"></span><span>              </span><span class="annot"><span class="annottext">Term -&gt; Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; Term -&gt; ReduceM a
</span><a href="#local-6989586621682043415"><span class="hs-operator hs-var">!@!</span></a></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-var">quoteName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; QName
</span><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043748"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>              </span><span class="annot"><span class="annottext">ReduceM Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; ReduceM a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043398"><span class="hs-operator hs-var">@@</span></a></span><span> </span><span class="annot"><span class="annottext">(Dom QName -&gt; ReduceM Term) -&gt; [Dom QName] -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; [a] -&gt; ReduceM Term
</span><a href="#local-6989586621682043570"><span class="hs-identifier hs-var">quoteList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(QName -&gt; ReduceM Term) -&gt; Dom QName -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; Dom a -&gt; ReduceM Term
</span><a href="#local-6989586621682043590"><span class="hs-identifier hs-var">quoteDom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Term -&gt; ReduceM Term) -&gt; (QName -&gt; Term) -&gt; QName -&gt; ReduceM Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-var">quoteName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Dom QName]
</span><a href="#local-6989586621682043750"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-336"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Axiom"><span class="hs-identifier hs-type">Axiom</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043392"><span class="hs-identifier hs-var">agdaDefinitionPostulate</span></a></span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#DataOrRecSig"><span class="hs-identifier hs-type">DataOrRecSig</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043392"><span class="hs-identifier hs-var">agdaDefinitionPostulate</span></a></span><span>
</span><span id="line-338"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#GeneralizableVar"><span class="hs-identifier hs-type">GeneralizableVar</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043392"><span class="hs-identifier hs-var">agdaDefinitionPostulate</span></a></span><span>  </span><span class="hs-comment">-- TODO: reflect generalizable vars</span><span>
</span><span id="line-339"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#AbstractDefn"><span class="hs-identifier hs-type">AbstractDefn</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043392"><span class="hs-identifier hs-var">agdaDefinitionPostulate</span></a></span><span>
</span><span id="line-340"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Primitive"><span class="hs-identifier hs-type">Primitive</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">primClauses :: Defn -&gt; [Clause]
</span><a href="Agda.TypeChecking.Monad.Base.html#primClauses"><span class="hs-identifier hs-var">primClauses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043757"><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043757"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Clause] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043757"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-341"></span><span>            </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043386"><span class="hs-identifier hs-var">agdaDefinitionFunDef</span></a></span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term -&gt; ReduceM Term
forall a. Apply a =&gt; a -&gt; ReduceM Term -&gt; ReduceM a
</span><a href="#local-6989586621682043409"><span class="hs-operator hs-var">!@</span></a></span><span> </span><span class="annot"><span class="annottext">(Clause -&gt; ReduceM Term) -&gt; [Clause] -&gt; ReduceM Term
forall a. (a -&gt; ReduceM Term) -&gt; [a] -&gt; ReduceM Term
</span><a href="#local-6989586621682043570"><span class="hs-identifier hs-var">quoteList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either () Projection -&gt; Clause -&gt; ReduceM Term
forall a. Either a Projection -&gt; Clause -&gt; ReduceM Term
</span><a href="#local-6989586621682043529"><span class="hs-identifier hs-var">quoteClause</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Either () Projection
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Clause]
</span><a href="#local-6989586621682043757"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-342"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Primitive"><span class="hs-identifier hs-type">Primitive</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043394"><span class="hs-identifier hs-var">agdaDefinitionPrimitive</span></a></span><span>
</span><span id="line-343"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#PrimitiveSort"><span class="hs-identifier hs-type">PrimitiveSort</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term -&gt; ReduceM Term
forall a. a -&gt; ReduceM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043394"><span class="hs-identifier hs-var">agdaDefinitionPrimitive</span></a></span><span>
</span><span id="line-344"></span><span>          </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">conData :: Defn -&gt; QName
</span><a href="Agda.TypeChecking.Monad.Base.html#conData"><span class="hs-identifier hs-var">conData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043761"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043761"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">conSrcCon :: Defn -&gt; ConHead
</span><a href="Agda.TypeChecking.Monad.Base.html#conSrcCon"><span class="hs-identifier hs-var">conSrcCon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682043763"><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043763"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-345"></span><span>            </span><span id="local-6989586621682043764"><span class="annot"><a href="#local-6989586621682043764"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Definition -&gt; Quantity
forall a. LensQuantity a =&gt; a -&gt; Quantity
</span><a href="Agda.Syntax.Common.html#getQuantity"><span class="hs-identifier hs-var">getQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition -&gt; Quantity) -&gt; ReduceM Definition -&gt; ReduceM Quantity
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">QName -&gt; ReduceM Definition
forall (m :: * -&gt; *).
(HasConstInfo m, HasCallStack) =&gt;
QName -&gt; m Definition
</span><a href="Agda.TypeChecking.Monad.Signature.html#getConstInfo"><span class="hs-identifier hs-var">getConstInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConHead -&gt; QName
</span><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span> </span><span class="annot"><span class="annottext">ConHead
</span><a href="#local-6989586621682043763"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>            </span><span class="annot"><a href="#local-6989586621682043396"><span class="hs-identifier hs-type">agdaDefinitionDataConstructor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043415"><span class="hs-operator hs-type">!@!</span></a></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-type">quoteName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043761"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043398"><span class="hs-operator hs-type">@@</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043430"><span class="hs-identifier hs-type">quoteQuantity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043764"><span class="hs-identifier hs-type">q</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Agda.TypeChecking.Quote.html#QuotingKit"><span class="hs-identifier hs-type">QuotingKit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043466"><span class="hs-identifier hs-type">quoteTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043496"><span class="hs-identifier hs-type">quoteType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682043590"><span class="hs-identifier hs-type">quoteDom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043496"><span class="hs-identifier hs-type">quoteType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682043735"><span class="hs-identifier hs-type">quoteDefn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043570"><span class="hs-identifier hs-type">quoteList</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteString"><span class="hs-identifier hs-type">quoteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-351"></span><span id="quoteString"><span class="annot"><span class="annottext">quoteString :: String -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteString"><span class="hs-identifier hs-var hs-var">quoteString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">(Literal -&gt; Term) -&gt; (String -&gt; Literal) -&gt; String -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitString"><span class="hs-identifier hs-var">LitString</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Literal) -&gt; (String -&gt; Text) -&gt; String -&gt; Literal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-type">quoteName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Abstract.Name.html#QName"><span class="hs-identifier hs-type">QName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-354"></span><span id="quoteName"><span class="annot"><span class="annottext">quoteName :: QName -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-var hs-var">quoteName</span></a></span></span><span> </span><span id="local-6989586621682043766"><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043766"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QName -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitQName"><span class="hs-identifier hs-var">LitQName</span></a></span><span> </span><span class="annot"><span class="annottext">QName
</span><a href="#local-6989586621682043766"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteNat"><span class="hs-identifier hs-type">quoteNat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-357"></span><span id="quoteNat"><span class="annot"><span class="annottext">quoteNat :: Integer -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteNat"><span class="hs-identifier hs-var hs-var">quoteNat</span></a></span></span><span> </span><span id="local-6989586621682043767"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043767"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043767"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitNat"><span class="hs-identifier hs-var">LitNat</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682043767"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
forall a. HasCallStack =&gt; a
</span><a href="Agda.Utils.Impossible.html#__IMPOSSIBLE__"><span class="hs-identifier hs-var">__IMPOSSIBLE__</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteConName"><span class="hs-identifier hs-type">quoteConName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#ConHead"><span class="hs-identifier hs-type">ConHead</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-362"></span><span id="quoteConName"><span class="annot"><span class="annottext">quoteConName :: ConHead -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteConName"><span class="hs-identifier hs-var hs-var">quoteConName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QName -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteName"><span class="hs-identifier hs-var">quoteName</span></a></span><span> </span><span class="annot"><span class="annottext">(QName -&gt; Term) -&gt; (ConHead -&gt; QName) -&gt; ConHead -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ConHead -&gt; QName
</span><a href="Agda.Syntax.Internal.html#conName"><span class="hs-identifier hs-var">conName</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteMeta"><span class="hs-identifier hs-type">quoteMeta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.TopLevelModuleName.html#TopLevelModuleName"><span class="hs-identifier hs-type">TopLevelModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Common.html#MetaId"><span class="hs-identifier hs-type">MetaId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-365"></span><span id="quoteMeta"><span class="annot"><span class="annottext">quoteMeta :: TopLevelModuleName -&gt; MetaId -&gt; Term
</span><a href="Agda.TypeChecking.Quote.html#quoteMeta"><span class="hs-identifier hs-var hs-var">quoteMeta</span></a></span></span><span> </span><span id="local-6989586621682043768"><span class="annot"><span class="annottext">TopLevelModuleName
</span><a href="#local-6989586621682043768"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Literal -&gt; Term
</span><a href="Agda.Syntax.Internal.html#Lit"><span class="hs-identifier hs-var">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">(Literal -&gt; Term) -&gt; (MetaId -&gt; Literal) -&gt; MetaId -&gt; Term
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TopLevelModuleName -&gt; MetaId -&gt; Literal
</span><a href="Agda.Syntax.Literal.html#LitMeta"><span class="hs-identifier hs-var">LitMeta</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelModuleName
</span><a href="#local-6989586621682043768"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteTerm"><span class="hs-identifier hs-type">quoteTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-368"></span><span id="quoteTerm"><span class="annot"><span class="annottext">quoteTerm :: Term -&gt; TCMT IO Term
</span><a href="Agda.TypeChecking.Quote.html#quoteTerm"><span class="hs-identifier hs-var hs-var">quoteTerm</span></a></span></span><span> </span><span id="local-6989586621682043770"><span class="annot"><span class="annottext">Term
</span><a href="#local-6989586621682043770"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-369"></span><span>  </span><span id="local-6989586621682043771"><span class="annot"><a href="#local-6989586621682043771"><span class="hs-identifier hs-var">kit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCM QuotingKit
</span><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-var">quotingKit</span></a></span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#runReduceM"><span class="hs-identifier hs-type">runReduceM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteTermWithKit"><span class="hs-identifier hs-var">quoteTermWithKit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043771"><span class="hs-identifier hs-type">kit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043770"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteType"><span class="hs-identifier hs-type">quoteType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-373"></span><span id="quoteType"><span class="annot"><span class="annottext">quoteType :: Type -&gt; TCMT IO Term
</span><a href="Agda.TypeChecking.Quote.html#quoteType"><span class="hs-identifier hs-var hs-var">quoteType</span></a></span></span><span> </span><span id="local-6989586621682043774"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682043774"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>  </span><span id="local-6989586621682043775"><span class="annot"><a href="#local-6989586621682043775"><span class="hs-identifier hs-var">kit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCM QuotingKit
</span><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-var">quotingKit</span></a></span><span>
</span><span id="line-375"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#runReduceM"><span class="hs-identifier hs-type">runReduceM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteTypeWithKit"><span class="hs-identifier hs-var">quoteTypeWithKit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043775"><span class="hs-identifier hs-type">kit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043774"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteDom"><span class="hs-identifier hs-type">quoteDom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Dom"><span class="hs-identifier hs-type">Dom</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-378"></span><span id="quoteDom"><span class="annot"><span class="annottext">quoteDom :: Dom Type -&gt; TCMT IO Term
</span><a href="Agda.TypeChecking.Quote.html#quoteDom"><span class="hs-identifier hs-var hs-var">quoteDom</span></a></span></span><span> </span><span id="local-6989586621682043777"><span class="annot"><span class="annottext">Dom Type
</span><a href="#local-6989586621682043777"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-379"></span><span>  </span><span id="local-6989586621682043778"><span class="annot"><a href="#local-6989586621682043778"><span class="hs-identifier hs-var">kit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCM QuotingKit
</span><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-var">quotingKit</span></a></span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#runReduceM"><span class="hs-identifier hs-type">runReduceM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteDomWithKit"><span class="hs-identifier hs-var">quoteDomWithKit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043778"><span class="hs-identifier hs-type">kit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043777"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteDefn"><span class="hs-identifier hs-type">quoteDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-383"></span><span id="quoteDefn"><span class="annot"><span class="annottext">quoteDefn :: Definition -&gt; TCMT IO Term
</span><a href="Agda.TypeChecking.Quote.html#quoteDefn"><span class="hs-identifier hs-var hs-var">quoteDefn</span></a></span></span><span> </span><span id="local-6989586621682043780"><span class="annot"><span class="annottext">Definition
</span><a href="#local-6989586621682043780"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-384"></span><span>  </span><span id="local-6989586621682043781"><span class="annot"><a href="#local-6989586621682043781"><span class="hs-identifier hs-var">kit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCM QuotingKit
</span><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-var">quotingKit</span></a></span><span>
</span><span id="line-385"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#runReduceM"><span class="hs-identifier hs-type">runReduceM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteDefnWithKit"><span class="hs-identifier hs-var">quoteDefnWithKit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043781"><span class="hs-identifier hs-type">kit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043780"><span class="hs-identifier hs-type">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteList"><span class="hs-identifier hs-type">quoteList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#TCM"><span class="hs-identifier hs-type">TCM</span></a></span><span> </span><span class="annot"><a href="Agda.Syntax.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-388"></span><span id="quoteList"><span class="annot"><span class="annottext">quoteList :: [Term] -&gt; TCMT IO Term
</span><a href="Agda.TypeChecking.Quote.html#quoteList"><span class="hs-identifier hs-var hs-var">quoteList</span></a></span></span><span> </span><span id="local-6989586621682043783"><span class="annot"><span class="annottext">[Term]
</span><a href="#local-6989586621682043783"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-389"></span><span>  </span><span id="local-6989586621682043784"><span class="annot"><a href="#local-6989586621682043784"><span class="hs-identifier hs-var">kit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TCM QuotingKit
</span><a href="Agda.TypeChecking.Quote.html#quotingKit"><span class="hs-identifier hs-var">quotingKit</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span class="annot"><a href="Agda.TypeChecking.Monad.Base.html#runReduceM"><span class="hs-identifier hs-type">runReduceM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Agda.TypeChecking.Quote.html#quoteListWithKit"><span class="hs-identifier hs-var">quoteListWithKit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682043784"><span class="hs-identifier hs-type">kit</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621682043783"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span></pre></body></html>