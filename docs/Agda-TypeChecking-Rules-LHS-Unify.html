<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agda.TypeChecking.Rules.LHS.Unify</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Agda</span><ul class="links" id="page-menu"><li><a href="src/Agda.TypeChecking.Rules.LHS.Unify.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agda.TypeChecking.Rules.LHS.Unify</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Unification algorithm for specializing datatype indices, as described in
     &quot;Unifiers as Equivalences: Proof-Relevant Unification of Dependently
     Typed Data&quot; by Jesper Cockx, Dominique Devriese, and Frank Piessens
     (ICFP 2016).</p><p>This is the unification algorithm used for checking the left-hand side
   of clauses (see <code class="inline-code">Agda.TypeChecking.Rules.LHS</code>), coverage checking (see
   <code class="inline-code">Agda.TypeChecking.Coverage</code>) and indirectly also for interactive case
   splitting (see <code class="inline-code">Agda.Interaction.MakeCase</code>).</p><p>A unification problem (of type <code class="inline-code">UnifyState</code>) consists of:</p><ol><li value="1">A telescope <code class="inline-code">varTel</code> of free variables, some or all of which are
      flexible (as indicated by <code class="inline-code">flexVars</code>).</li><li value="2">A telescope <code class="inline-code">eqTel</code> containing the types of the equations.</li><li value="3">Left- and right-hand sides for each equation:
      <code class="inline-code">varTel &#8866; eqLHS : eqTel</code> and <code class="inline-code">varTel &#8866; eqRHS : eqTel</code>.</li></ol><p>The unification algorithm can end in three different ways:
   (type <code class="inline-code">UnificationResult</code>):</p><ul><li>A *positive success* <code class="inline-code">Unifies (tel, sigma, ps)</code> with <code class="inline-code">tel &#8866; sigma : varTel</code>,
     <code class="inline-code">tel &#8866; eqLHS [ varTel &#8614; sigma ] &#8801; eqRHS [ varTel &#8614; sigma ] : eqTel</code>,
     and <code class="inline-code">tel &#8866; ps : eqTel</code>. In this case, <code class="inline-code">sigma;ps</code> is an *equivalence*
     between the telescopes <code class="inline-code">tel</code> and <code class="inline-code">varTel(eqLHS &#8801; eqRHS)</code>.</li><li>A *negative success* <code class="inline-code">NoUnify err</code> means that a conflicting equation
     was found (e.g an equation between two distinct constructors or a cycle).</li><li>A *failure* <code class="inline-code">UnifyStuck err</code> means that the unifier got stuck.</li></ul><p>The unification algorithm itself consists of two parts:</p><ol><li value="1">A *unification strategy* takes a unification problem and produces a
      list of suggested unification rules (of type <code class="inline-code">UnifyStep</code>). Strategies
      can be constructed by composing simpler strategies (see for example the
      definition of <code class="inline-code">completeStrategyAt</code>).</li><li value="2">The *unification engine* <code class="inline-code">unifyStep</code> takes a unification rule and tries
      to apply it to the given state, writing the result to the UnifyOutput
      on a success.</li></ol><p>The unification steps (of type <code class="inline-code">UnifyStep</code>) are the following:</p><ul><li>*Deletion* removes a reflexive equation <code class="inline-code">u =?= v : a</code> if the left- and
     right-hand side <code class="inline-code">u</code> and <code class="inline-code">v</code> are (definitionally) equal. This rule results
     in a failure if --without-K is enabled (see &quot;Pattern Matching Without K&quot;
     by Jesper Cockx, Dominique Devriese, and Frank Piessens (ICFP 2014).</li><li>*Solution* solves an equation if one side is (eta-equivalent to) a
     flexible variable. In case both sides are flexible variables, the
     unification strategy makes a choice according to the <code class="inline-code">chooseFlex</code>
     function in <code class="inline-code">Agda.TypeChecking.Rules.LHS.Problem</code>.</li><li>*Injectivity* decomposes an equation of the form
     <code class="inline-code">c us =?= c vs : D pars is</code> where <code class="inline-code">c : &#916;c &#8594; D pars js</code> is a constructor
     of the inductive datatype <code class="inline-code">D</code> into a sequence of equations
     <code class="inline-code">us =?= vs : delta</code>. In case <code class="inline-code">D</code> is an indexed datatype,</li><li>higher-dimensional unification* is applied (see below).</li><li>*Conflict* detects absurd equations of the form
     <code class="inline-code">c&#8321; us =?= c&#8322; vs : D pars is</code> where <code class="inline-code">c&#8321;</code> and <code class="inline-code">c&#8322;</code> are two distinct
     constructors of the datatype <code class="inline-code">D</code>.</li><li>*Cycle* detects absurd equations of the form <code class="inline-code">x =?= v : D pars is</code> where
     <code class="inline-code">x</code> is a variable of the datatype <code class="inline-code">D</code> that occurs strongly rigid in <code class="inline-code">v</code>.</li><li>*EtaExpandVar* eta-expands a single flexible variable <code class="inline-code">x : R</code> where <code class="inline-code">R</code>
     is a (eta-expandable) record type, replacing it by one variable for each
     field of <code class="inline-code">R</code>.</li><li>*EtaExpandEquation* eta-expands an equation <code class="inline-code">u =?= v : R</code> where <code class="inline-code">R</code> is a
     (eta-expandable) record type, replacing it by one equation for each field
     of <code class="inline-code">R</code>. The left- and right-hand sides of these equations are the
     projections of <code class="inline-code">u</code> and <code class="inline-code">v</code>.</li><li>*LitConflict* detects absurd equations of the form <code class="inline-code">l&#8321; =?= l&#8322; : A</code> where
     <code class="inline-code">l&#8321;</code> and <code class="inline-code">l&#8322;</code> are distinct literal terms.</li><li>*StripSizeSuc* simplifies an equation of the form
     <code class="inline-code">sizeSuc x =?= sizeSuc y : Size</code> to <code class="inline-code">x =?= y : Size</code>.</li><li>*SkipIrrelevantEquation@ removes an equation between irrelevant terms.</li><li>*TypeConInjectivity* decomposes an equation of the form
     <code class="inline-code">D us =?= D vs : Set i</code> where <code class="inline-code">D</code> is a datatype. This rule is only used
     if --injective-type-constructors is enabled.</li></ul><p>Higher-dimensional unification (new, does not yet appear in any paper):
   If an equation of the form <code class="inline-code">c us =?= c vs : D pars is</code> is encountered where
   <code class="inline-code">c : &#916;c &#8594; D pars js</code> is a constructor of an indexed datatype
   <code class="inline-code">D pars : &#934; &#8594; Set &#8467;</code>, it is in general unsound to just simplify this
   equation to <code class="inline-code">us =?= vs : &#916;c</code>. For this reason, the injectivity rule in the
   paper restricts the indices <code class="inline-code">is</code> to be distinct variables that are bound in
   the telescope <code class="inline-code">eqTel</code>. But we can be more general by introducing new
   variables <code class="inline-code">ks</code> to the telescope <code class="inline-code">eqTel</code> and equating these to <code class="inline-code">is</code>:
   <code class="inline-code">
       &#916;&#8321;(x : D pars is)&#916;&#8322;
        &#8771;
       &#916;&#8321;(ks : &#934;)(x : D pars ks)(ps : is &#8801;&#934; ks)&#916;&#8322;
   </code>
   Since <code class="inline-code">ks</code> are distinct variables, it's now possible to apply injectivity
   to the equation <code class="inline-code">x</code>, resulting in the following new equation telescope:
   <code class="inline-code">
     &#916;&#8321;(ys : &#916;c)(ps : is &#8801;&#934; js[&#916;c &#8614; ys])&#916;&#8322;
   </code>
   Now we can solve the equations <code class="inline-code">ps</code> by recursively calling the unification
   algorithm with flexible variables <code class="inline-code">&#916;&#8321;(ys : &#916;c)</code>. This is called
   *higher-dimensional unification* since we are unifying equality proofs
   rather than terms. If the higher-dimensional unification succeeds, the
   resulting telescope serves as the new equation telescope for the original
   unification problem.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:UnificationResult">UnificationResult</a> = <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> (<a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a>, <a href="Agda-Syntax-Internal.html#t:PatternSubstitution" title="Agda.Syntax.Internal">PatternSubstitution</a>, [<a href="Agda-Syntax-Common.html#t:NamedArg" title="Agda.Syntax.Common">NamedArg</a> <a href="Agda-Syntax-Internal.html#t:DeBruijnPattern" title="Agda.Syntax.Internal">DeBruijnPattern</a>])</li><li class="src short"><span class="keyword">data</span> <a href="#t:UnificationResult-39-">UnificationResult'</a> a<ul class="subs"><li>= <a href="#v:Unifies">Unifies</a> a</li><li>| <a href="#v:NoUnify">NoUnify</a> <a href="Agda-TypeChecking-Monad-Base.html#t:NegativeUnification" title="Agda.TypeChecking.Monad.Base">NegativeUnification</a></li><li>| <a href="#v:UnifyBlocked">UnifyBlocked</a> <a href="Agda-Syntax-Internal-Blockers.html#t:Blocker" title="Agda.Syntax.Internal.Blockers">Blocker</a></li><li>| <a href="#v:UnifyStuck">UnifyStuck</a> [<a href="Agda-TypeChecking-Monad-Base.html#t:UnificationFailure" title="Agda.TypeChecking.Monad.Base">UnificationFailure</a>]</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:NoLeftInv">NoLeftInv</a><ul class="subs"><li>= <a href="#v:UnsupportedYet">UnsupportedYet</a> { <ul class="subs"><li><a href="#v:badStep">badStep</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify-Types.html#t:UnifyStep" title="Agda.TypeChecking.Rules.LHS.Unify.Types">UnifyStep</a></li></ul> }</li><li>| <a href="#v:Illegal">Illegal</a> { <ul class="subs"><li><a href="#v:badStep">badStep</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify-Types.html#t:UnifyStep" title="Agda.TypeChecking.Rules.LHS.Unify.Types">UnifyStep</a></li></ul> }</li><li>| <a href="#v:NoCubical">NoCubical</a></li><li>| <a href="#v:WithKEnabled">WithKEnabled</a></li><li>| <a href="#v:SplitOnStrict">SplitOnStrict</a></li><li>| <a href="#v:SplitOnFlat">SplitOnFlat</a></li><li>| <a href="#v:UnsupportedCxt">UnsupportedCxt</a></li><li>| <a href="#v:CantTransport">CantTransport</a> (<a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> (<a href="Agda-Syntax-Internal.html#t:Abs" title="Agda.Syntax.Internal">Abs</a> <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>))</li><li>| <a href="#v:CantTransport-39-">CantTransport'</a> (<a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>)</li></ul></li><li class="src short"><a href="#v:unifyIndices-39-">unifyIndices'</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:FlexibleVars" title="Agda.TypeChecking.Rules.LHS.Problem">FlexibleVars</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> FullUnificationResult</li><li class="src short"><a href="#v:unifyIndices">unifyIndices</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a> -&gt; <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:FlexibleVars" title="Agda.TypeChecking.Rules.LHS.Problem">FlexibleVars</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a> -&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a> -&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UnificationResult" class="def">UnificationResult</a> = <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> (<a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a>, <a href="Agda-Syntax-Internal.html#t:PatternSubstitution" title="Agda.Syntax.Internal">PatternSubstitution</a>, [<a href="Agda-Syntax-Common.html#t:NamedArg" title="Agda.Syntax.Common">NamedArg</a> <a href="Agda-Syntax-Internal.html#t:DeBruijnPattern" title="Agda.Syntax.Internal">DeBruijnPattern</a>]) <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#UnificationResult" class="link">Source</a> <a href="#t:UnificationResult" class="selflink">#</a></p><div class="doc"><p>Result of <code><a href="Agda-TypeChecking-Rules-LHS-Unify.html#v:unifyIndices" title="Agda.TypeChecking.Rules.LHS.Unify">unifyIndices</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UnificationResult-39-" class="def">UnificationResult'</a> a <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#UnificationResult%27" class="link">Source</a> <a href="#t:UnificationResult-39-" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Unifies" class="def">Unifies</a> a</td><td class="doc"><p>Unification succeeded.</p></td></tr><tr><td class="src"><a id="v:NoUnify" class="def">NoUnify</a> <a href="Agda-TypeChecking-Monad-Base.html#t:NegativeUnification" title="Agda.TypeChecking.Monad.Base">NegativeUnification</a></td><td class="doc"><p>Terms are not unifiable.</p></td></tr><tr><td class="src"><a id="v:UnifyBlocked" class="def">UnifyBlocked</a> <a href="Agda-Syntax-Internal-Blockers.html#t:Blocker" title="Agda.Syntax.Internal.Blockers">Blocker</a></td><td class="doc"><p>Unification got blocked on a metavariable</p></td></tr><tr><td class="src"><a id="v:UnifyStuck" class="def">UnifyStuck</a> [<a href="Agda-TypeChecking-Monad-Base.html#t:UnificationFailure" title="Agda.TypeChecking.Monad.Base">UnificationFailure</a>]</td><td class="doc"><p>Some other error happened, unification got stuck.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:UnificationResult-39-">Instances</h4><details id="i:UnificationResult-39-" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UnificationResult-39-:Functor:1"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Functor" title="Control.Monad">Functor</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a></span> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#line-200" class="link">Source</a> <a href="#t:UnificationResult-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UnificationResult-39-:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Rules-LHS-Unify.html">Agda.TypeChecking.Rules.LHS.Unify</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> b -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UnificationResult-39-:Foldable:2"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a></span> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#line-200" class="link">Source</a> <a href="#t:UnificationResult-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UnificationResult-39-:Foldable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Rules-LHS-Unify.html">Agda.TypeChecking.Rules.LHS.Unify</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> m -&gt; m <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; m <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldMap-39-">foldMap'</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; m <a href="#v:foldMap-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; b <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; b <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; b <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; b <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; a <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; a <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; [a] <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; a <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; a <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; a <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; a <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UnificationResult-39-:Traversable:3"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a></span> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#line-200" class="link">Source</a> <a href="#t:UnificationResult-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UnificationResult-39-:Traversable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Rules-LHS-Unify.html">Agda.TypeChecking.Rules.LHS.Unify</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; f (<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> b) <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> (f a) -&gt; f (<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a) <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; m (<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> b) <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> (m a) -&gt; m (<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a) <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:UnificationResult-39-:Show:4"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> a =&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> (<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a)</span> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#line-200" class="link">Source</a> <a href="#t:UnificationResult-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:UnificationResult-39-:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Rules-LHS-Unify.html">Agda.TypeChecking.Rules.LHS.Unify</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult-39-" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult'</a> a] -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NoLeftInv" class="def">NoLeftInv</a> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.LeftInverse.html#NoLeftInv" class="link">Source</a> <a href="#t:NoLeftInv" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsupportedYet" class="def">UnsupportedYet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:badStep" class="def">badStep</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify-Types.html#t:UnifyStep" title="Agda.TypeChecking.Rules.LHS.Unify.Types">UnifyStep</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Illegal" class="def">Illegal</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:badStep" class="def">badStep</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify-Types.html#t:UnifyStep" title="Agda.TypeChecking.Rules.LHS.Unify.Types">UnifyStep</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:NoCubical" class="def">NoCubical</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WithKEnabled" class="def">WithKEnabled</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SplitOnStrict" class="def">SplitOnStrict</a></td><td class="doc"><p>splitting on a Strict Set.</p></td></tr><tr><td class="src"><a id="v:SplitOnFlat" class="def">SplitOnFlat</a></td><td class="doc"><p>splitting on a @&#9837; argument</p></td></tr><tr><td class="src"><a id="v:UnsupportedCxt" class="def">UnsupportedCxt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CantTransport" class="def">CantTransport</a> (<a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> (<a href="Agda-Syntax-Internal.html#t:Abs" title="Agda.Syntax.Internal">Abs</a> <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:CantTransport-39-" class="def">CantTransport'</a> (<a href="Agda-TypeChecking-Monad-Base.html#t:Closure" title="Agda.TypeChecking.Monad.Base">Closure</a> <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NoLeftInv">Instances</h4><details id="i:NoLeftInv" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NoLeftInv:PrettyTCM:1"></span> <a href="Agda-TypeChecking-Pretty.html#t:PrettyTCM" title="Agda.TypeChecking.Pretty">PrettyTCM</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a></span> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.LeftInverse.html#line-75" class="link">Source</a> <a href="#t:NoLeftInv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NoLeftInv:PrettyTCM:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Rules-LHS-Unify-LeftInverse.html">Agda.TypeChecking.Rules.LHS.Unify.LeftInverse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:prettyTCM">prettyTCM</a> :: <a href="Agda-TypeChecking-Pretty.html#t:MonadPretty" title="Agda.TypeChecking.Pretty">MonadPretty</a> m =&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a> -&gt; m <a href="Agda-TypeChecking-Pretty.html#t:Doc" title="Agda.TypeChecking.Pretty">Doc</a> <a href="src/Agda.TypeChecking.Pretty.html#prettyTCM" class="link">Source</a> <a href="#v:prettyTCM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NoLeftInv:Show:2"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a></span> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.LeftInverse.html#line-96" class="link">Source</a> <a href="#t:NoLeftInv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NoLeftInv:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Rules-LHS-Unify-LeftInverse.html">Agda.TypeChecking.Rules.LHS.Unify.LeftInverse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:unifyIndices-39-" class="def">unifyIndices'</a> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#unifyIndices%27" class="link">Source</a> <a href="#v:unifyIndices-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a></td><td class="doc"><p>Do we have a reason for not computing a left inverse?</p></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a></td><td class="doc"><pre>gamma</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:FlexibleVars" title="Agda.TypeChecking.Rules.LHS.Problem">FlexibleVars</a></td><td class="doc"><pre>flex</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a></td><td class="doc"><pre>a</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a></td><td class="doc"><pre>us</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a></td><td class="doc"><pre>vs</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> FullUnificationResult</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:unifyIndices" class="def">unifyIndices</a> <a href="src/Agda.TypeChecking.Rules.LHS.Unify.html#unifyIndices" class="link">Source</a> <a href="#v:unifyIndices" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:NoLeftInv" title="Agda.TypeChecking.Rules.LHS.Unify">NoLeftInv</a></td><td class="doc"><p>Do we have a reason for not computing a left inverse?</p></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Telescope" title="Agda.Syntax.Internal">Telescope</a></td><td class="doc"><pre>gamma</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Rules-LHS-Problem.html#t:FlexibleVars" title="Agda.TypeChecking.Rules.LHS.Problem">FlexibleVars</a></td><td class="doc"><pre>flex</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Type" title="Agda.Syntax.Internal">Type</a></td><td class="doc"><pre>a</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a></td><td class="doc"><pre>us</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-Syntax-Internal.html#t:Args" title="Agda.Syntax.Internal">Args</a></td><td class="doc"><pre>vs</pre></td></tr><tr><td class="src">-&gt; <a href="Agda-TypeChecking-Monad-Base.html#t:TCM" title="Agda.TypeChecking.Monad.Base">TCM</a> <a href="Agda-TypeChecking-Rules-LHS-Unify.html#t:UnificationResult" title="Agda.TypeChecking.Rules.LHS.Unify">UnificationResult</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Unify indices.</p><p>In <code class="inline-code">unifyIndices gamma flex a us vs</code>,</p><ul><li><code class="inline-code">us</code> and <code class="inline-code">vs</code> are the argument lists to unify, eliminating type <code class="inline-code">a</code>.</li><li><code class="inline-code">gamma</code> is the telescope of free variables in <code class="inline-code">us</code> and <code class="inline-code">vs</code>.</li><li><code class="inline-code">flex</code> is the set of flexible (instantiable) variabes in <code class="inline-code">us</code> and <code class="inline-code">vs</code>.</li></ul><p>The result is the most general unifier of <code class="inline-code">us</code> and <code class="inline-code">vs</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>