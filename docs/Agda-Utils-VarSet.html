<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agda.Utils.VarSet</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Agda</span><ul class="links" id="page-menu"><li><a href="src/Agda.Utils.VarSet.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agda.Utils.VarSet</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">VarSet type</a></li><li><a href="#g:2">Construction</a></li><li><a href="#g:3">Insertion</a></li><li><a href="#g:4">Deletion</a></li><li><a href="#g:5">Queries</a></li><li><a href="#g:6">Combining variable sets</a></li><li><a href="#g:7">Filters</a></li><li><a href="#g:8">Folds</a></li><li><a href="#g:9">Views</a></li><li><a href="#g:10">Contextual operations</a></li><li><a href="#g:11">Conversions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Manage sets of natural numbers (de Bruijn indices).</p><p>This file contains an implementation of finite sets of integers
that is optimized for storing sets of free variables. Notably,
de Bruijn indices/levels are not uniformly distributed across the
range of <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></code>, and are always very small (EG: less than 64).</p><p>This makes <code><a href="https://hackage.haskell.org/package/containers-0.7/docs/Data-IntSet.html#v:IntSet" title="Data.IntSet">IntSet</a></code> somewhat ill-suited for the task.
<code><a href="https://hackage.haskell.org/package/containers-0.7/docs/Data-IntSet.html#v:IntSet" title="Data.IntSet">IntSet</a></code> is designed to be able to handle values distributed
across the entire range of <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></code>, at the cost of pointer indirections
and poor memory locality.</p><p>Instead, <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code> stores free variables as a bitvector. When the
elements in the set are all smaller than 64, we can fit the entire set
into a single unboxed <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Base.html#v:Word-35-" title="GHC.Base">Word#</a></code>, which makes most of our set operations
a single instruction.</p><p>When we exceed this bound, we fall back to an unboxed <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Base.html#v:ByteArray-35-" title="GHC.Base">ByteArray#</a></code>.
Experimentally, this happens less than 0.0001% of the time.</p><h1>Experimental Results</h1><p>Agda builds instrumented with <code>traceVarSetSize</code> give the following
statistics for <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code> sizes across the following libraries:</p><table><thead><tr><th>library</th><th>commit hash</th><th>varsets allocated</th><th>non-word sized sets</th></tr></thead><tbody><tr><td>1lab</td><td>11f4672ca7dcfdccb1b4ce94ca4ca42c9b732e62</td><td>118198551</td><td>0</td></tr><tr><td>agda-stdlib</td><td>0e97e2ed1f999ea0d2cce2a3b2395d5a9a7bd36a</td><td>38960049</td><td>2178</td></tr><tr><td>cubical</td><td>1f2af52701945bef003a525f78fa41aeadb7c6ae</td><td>82751805</td><td>0</td></tr></tbody></table></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:VarSet">VarSet</a><ul class="subs"><li>= <a href="#v:VB-35-">VB#</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a></li><li>| <a href="#v:VS-35-">VS#</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Exts.html#t:Word-35-" title="GHC.Exts">Word#</a></li></ul></li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:singleton">singleton</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:fromList">fromList</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:fromDescList">fromDescList</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:full">full</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:range">range</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:insert">insert</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:inserts">inserts</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:insertsDesc">insertsDesc</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:delete">delete</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:null">null</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:member">member</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:lookupMin">lookupMin</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:lookupMax">lookupMax</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:size">size</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:disjoint">disjoint</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isSubsetOf">isSubsetOf</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:inRange">inRange</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:union">union</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:unions">unions</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; f <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:intersection">intersection</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:difference">difference</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:-92--92-">(\\)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:complement">complement</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:split">split</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; (<a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>, <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>)</li><li class="src short"><a href="#v:filterLT">filterLT</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:filterLE">filterLE</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:filterGT">filterGT</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:filterGE">filterGE</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:foldr">foldr</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a</li><li class="src short"><a href="#v:foldl">foldl</a> :: (a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a</li><li class="src short"><a href="#v:foldr-39-">foldr'</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a</li><li class="src short"><a href="#v:foldl-39-">foldl'</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a</li><li class="src short"><a href="#v:minView">minView</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>)</li><li class="src short"><a href="#v:maxView">maxView</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>)</li><li class="src short"><a href="#v:strengthen">strengthen</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:weaken">weaken</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></li><li class="src short"><a href="#v:toDescList">toDescList</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>]</li><li class="src short"><a href="#v:toAscList">toAscList</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>VarSet type</h1></a><div class="doc"><h1>Invariants</h1><p>A variable set whose maximum entry is less than than 64 is always encoded
 via the <code><a href="Agda-Utils-VarSet.html#v:VS-35-" title="Agda.Utils.VarSet">VS#</a></code> constructor.
 The final word of a <code><a href="Agda-Utils-VarSet.html#v:VB-35-" title="Agda.Utils.VarSet">VB#</a></code> is always non-zero.</p><h1>Performance</h1><p>GHC will use pointer-tagging for datatypes with less than 4 constructors
 on 32 bit machines (8 on 64 bit), which means that <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code> will be laid
 out as a tagged pointer to a word-sized piece of data.</p><p>We also pay attention to the constructor ordering here.
 GHC will lay out the machine code for case statements in
 reverse order of the datatypes constructors. Both ARM and x86 statically
 predict that forward branches are not taken, so putting <code><a href="Agda-Utils-VarSet.html#v:VB-35-" title="Agda.Utils.VarSet">VB#</a></code> before
 <code><a href="Agda-Utils-VarSet.html#v:VS-35-" title="Agda.Utils.VarSet">VS#</a></code> means that we can eek out a few extra drops of performance.</p><p>Finally, many functions in this module follow the following pattern:
 @
 union :: VarSet -&gt; VarSet -&gt; VarSet
 union (VS# w1) (VS# w2) = VS# (w1 <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Exts.html#v:or-35-" title="GHC.Exts">or#</a></code> w2)
 union vs1 vs2 = unionSlow vs1 vs2
 {-# INLINE union #-}</p><p>unionSlow :: VarSet -&gt; VarSet -&gt; VarSet
 unionSlow (VS# w1) (VS# w2) = VS# (w1 <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Exts.html#v:or-35-" title="GHC.Exts">or#</a></code> w2)
 unionSlow (VS# w1) (VB# bs2) = VB# (bigNatOrWord# bs2 w1)
 unionSlow (VB# bs1) (VS# w2) = VB# (bigNatOrWord# bs1 w2)
 unionSlow (VB# bs1) (VB# bs2) = VB# (bigNatOr bs1 bs2)
 {-# NOINLINE unionSlow #-}
 @</p><p>This makes the 0.0001% of slow cases notably worse, but makes the
 happy path approximately 3x faster for things like <code><a href="Agda-Utils-VarSet.html#v:inRange" title="Agda.Utils.VarSet">inRange</a></code>, as
 GHC is able to coalesce all of the happy paths.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:VarSet" class="def">VarSet</a> <a href="src/Agda.Utils.VarSet.html#VarSet" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></p><div class="doc"><p>A set of de Bruijn indices/levels.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VB-35-" class="def">VB#</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a></td><td class="doc"><p>A variable set whose maximum entry is greater than or equal to 64.</p></td></tr><tr><td class="src"><a id="v:VS-35-" class="def">VS#</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/GHC-Exts.html#t:Word-35-" title="GHC.Exts">Word#</a></td><td class="doc"><p>A small variable set whose maximum entry is less than than 64.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:VarSet">Instances</h4><details id="i:VarSet" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:EmbPrj:1"></span> <a href="Agda-TypeChecking-Serialise-Base.html#t:EmbPrj" title="Agda.TypeChecking.Serialise.Base">EmbPrj</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.TypeChecking.Serialise.Instances.General.html#line-329" class="link">Source</a> <a href="#t:EmbPrj" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:EmbPrj:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Serialise-Instances-General.html">Agda.TypeChecking.Serialise.Instances.General</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:icode">icode</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-TypeChecking-Serialise-Base.html#t:S" title="Agda.TypeChecking.Serialise.Base">S</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="src/Agda.TypeChecking.Serialise.Base.html#icode" class="link">Source</a> <a href="#v:icode" class="selflink">#</a></p><p class="src"><a href="#v:icod_">icod_</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-TypeChecking-Serialise-Base.html#t:S" title="Agda.TypeChecking.Serialise.Base">S</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="src/Agda.TypeChecking.Serialise.Base.html#icod_" class="link">Source</a> <a href="#v:icod_" class="selflink">#</a></p><p class="src"><a href="#v:value">value</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Word.html#t:Word32" title="Data.Word">Word32</a> -&gt; <a href="Agda-TypeChecking-Serialise-Base.html#t:R" title="Agda.TypeChecking.Serialise.Base">R</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.TypeChecking.Serialise.Base.html#value" class="link">Source</a> <a href="#v:value" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Null:2"></span> <a href="Agda-Utils-Null.html#t:Null" title="Agda.Utils.Null">Null</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.Null.html#line-171" class="link">Source</a> <a href="#t:Null" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Null:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Null.html">Agda.Utils.Null</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.Null.html#empty" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.Utils.Null.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Serialize:3"></span> <a href="Agda-Utils-Serialize.html#t:Serialize" title="Agda.Utils.Serialize">Serialize</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-220" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Serialize:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:size">size</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.Serialize.html#size" class="link">Source</a> <a href="#v:size" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-Serialize.html#t:Put" title="Agda.Utils.Serialize">Put</a> <a href="src/Agda.Utils.Serialize.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="Agda-Utils-Serialize.html#t:Get" title="Agda.Utils.Serialize">Get</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.Serialize.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:NFData:4"></span> <a href="https://hackage.haskell.org/package/deepseq-1.5.1.0/docs/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-197" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:NFData:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Monoid:5"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-206" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc"><p><code class="inline-code">mempty</code> is <code class="inline-code"><code><a href="Agda-Utils-VarSet.html#v:empty" title="Agda.Utils.VarSet">empty</a></code></code>.</p></td></tr><tr><td colspan="2"><details id="i:id:VarSet:Monoid:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Semigroup:6"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-202" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc"><p><code class="inline-code">(&lt;&gt;)</code> is <code class="inline-code"><code><a href="Agda-Utils-VarSet.html#v:union" title="Agda.Utils.VarSet">union</a></code></code></p></td></tr><tr><td colspan="2"><details id="i:id:VarSet:Semigroup:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="Agda-Utils-List1.html#t:NonEmpty" title="Agda.Utils.List1">NonEmpty</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Show:7"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-191" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Show:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Eq:8"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-179" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Eq:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Ord:9"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-185" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Ord:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Hashable:10"></span> <a href="https://hackage.haskell.org/package/hashable-1.5.0.0/docs/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.VarSet.html#line-212" class="link">Source</a> <a href="#t:VarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Hashable:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-VarSet.html">Agda.Utils.VarSet</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hashWithSalt">hashWithSalt</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:hashWithSalt" class="selflink">#</a></p><p class="src"><a href="#v:hash">hash</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:hash" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:IsVarSet:11"></span> <a href="Agda-TypeChecking-Free-Lazy.html#t:IsVarSet" title="Agda.TypeChecking.Free.Lazy">IsVarSet</a> () <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.TypeChecking.Free.html#line-92" class="link">Source</a> <a href="#t:IsVarSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:IsVarSet:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-TypeChecking-Free.html">Agda.TypeChecking.Free</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:withVarOcc">withVarOcc</a> :: <a href="Agda-TypeChecking-Free-Lazy.html#t:VarOcc-39-" title="Agda.TypeChecking.Free.Lazy">VarOcc'</a> () -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.TypeChecking.Free.Lazy.html#withVarOcc" class="link">Source</a> <a href="#v:withVarOcc" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:VarSet:Singleton:12"></span> <a href="Agda-Utils-Singleton.html#t:Singleton" title="Agda.Utils.Singleton">Singleton</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></span> <a href="src/Agda.Utils.Singleton.html#line-138" class="link">Source</a> <a href="#t:Singleton" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:VarSet:Singleton:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Singleton.html">Agda.Utils.Singleton</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:singleton">singleton</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.Singleton.html#singleton" class="link">Source</a> <a href="#v:singleton" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Construction</h1></a><div class="top"><p class="src"><a id="v:empty" class="def">empty</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#empty" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><div class="doc"><p>The empty variable set.</p></div></div><div class="top"><p class="src"><a id="v:singleton" class="def">singleton</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#singleton" class="link">Source</a> <a href="#v:singleton" class="selflink">#</a></p><div class="doc"><p>A variable set with only a single entry.</p></div></div><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#fromList" class="link">Source</a> <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Construct a set of variables from a list of indices.</p></div></div><div class="top"><p class="src"><a id="v:fromDescList" class="def">fromDescList</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#fromDescList" class="link">Source</a> <a href="#v:fromDescList" class="selflink">#</a></p><div class="doc"><p>Construct a set of variables from a list of indices sorted in descending order.
 This can be more efficient than <code><a href="Agda-Utils-VarSet.html#v:fromList" title="Agda.Utils.VarSet">fromList</a></code>, as we only need to perform a single
 to determine that elements of the list are smaller than 64.</p><p>The precondition that the variables are sorted in descending order is
 not checked by <code><a href="Agda-Utils-VarSet.html#v:fromDescList" title="Agda.Utils.VarSet">fromDescList</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:full" class="def">full</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#full" class="link">Source</a> <a href="#v:full" class="selflink">#</a></p><div class="doc"><p>Construct a variable set that contains the indices <code class="inline-code">[0..n-1]</code>.</p></div></div><div class="top"><p class="src"><a id="v:range" class="def">range</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#range" class="link">Source</a> <a href="#v:range" class="selflink">#</a></p><div class="doc"><p>Construct a variable set that contains the indices <code class="inline-code">[lo+1..hi-1]</code>.</p></div></div><a href="#g:3" id="g:3"><h1>Insertion</h1></a><div class="top"><p class="src"><a id="v:insert" class="def">insert</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p>Insert an index into a variable set.</p></div></div><div class="top"><p class="src"><a id="v:inserts" class="def">inserts</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#inserts" class="link">Source</a> <a href="#v:inserts" class="selflink">#</a></p><div class="doc"><p>Insert a list of variables into a <code class="inline-code">VarSet</code>.</p></div></div><div class="top"><p class="src"><a id="v:insertsDesc" class="def">insertsDesc</a> :: [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#insertsDesc" class="link">Source</a> <a href="#v:insertsDesc" class="selflink">#</a></p><div class="doc"><p>Insert a list of variables sorted in descending order into a <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code>.
 This can be more efficient than <code><a href="Agda-Utils-VarSet.html#v:inserts" title="Agda.Utils.VarSet">inserts</a></code>, as we only need to perform a single
 to determine that elements of the list are smaller than 64.</p><p>The precondition that the variables are sorted in descending order is
 not checked by <code><a href="Agda-Utils-VarSet.html#v:insertsDesc" title="Agda.Utils.VarSet">insertsDesc</a></code>.</p></div></div><a href="#g:4" id="g:4"><h1>Deletion</h1></a><div class="top"><p class="src"><a id="v:delete" class="def">delete</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#delete" class="link">Source</a> <a href="#v:delete" class="selflink">#</a></p><div class="doc"><p>Delete an index from a variable set.</p></div></div><a href="#g:5" id="g:5"><h1>Queries</h1></a><div class="top"><p class="src"><a id="v:null" class="def">null</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.Utils.VarSet.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><div class="doc"><p>Is this the empty set?</p></div></div><div class="top"><p class="src"><a id="v:member" class="def">member</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.Utils.VarSet.html#member" class="link">Source</a> <a href="#v:member" class="selflink">#</a></p><div class="doc"><p>Is a variable a member of a var set?</p></div></div><div class="top"><p class="src"><a id="v:lookupMin" class="def">lookupMin</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.VarSet.html#lookupMin" class="link">Source</a> <a href="#v:lookupMin" class="selflink">#</a></p><div class="doc"><p>Find the smallest index in the variable set.</p></div></div><div class="top"><p class="src"><a id="v:lookupMax" class="def">lookupMax</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.VarSet.html#lookupMax" class="link">Source</a> <a href="#v:lookupMax" class="selflink">#</a></p><div class="doc"><p>Find the largest index in the variable set.</p></div></div><div class="top"><p class="src"><a id="v:size" class="def">size</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.VarSet.html#size" class="link">Source</a> <a href="#v:size" class="selflink">#</a></p><div class="doc"><p>The number of entries in the variable set.</p></div></div><div class="top"><p class="src"><a id="v:disjoint" class="def">disjoint</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.Utils.VarSet.html#disjoint" class="link">Source</a> <a href="#v:disjoint" class="selflink">#</a></p><div class="doc"><p>Check if two variable sets are disjoint.</p></div></div><div class="top"><p class="src"><a id="v:isSubsetOf" class="def">isSubsetOf</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.Utils.VarSet.html#isSubsetOf" class="link">Source</a> <a href="#v:isSubsetOf" class="selflink">#</a></p><div class="doc"><p><code class="inline-code">isSubsetOf vs1 vs2</code> determines if <code class="inline-code">vs1</code> is a subset of <code class="inline-code">vs2</code>.</p></div></div><div class="top"><p class="src"><a id="v:inRange" class="def">inRange</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Agda.Utils.VarSet.html#inRange" class="link">Source</a> <a href="#v:inRange" class="selflink">#</a></p><div class="doc"><p><code class="inline-code">inRange lo hi vs</code> determines if all the variables in <code class="inline-code">vs</code>
 are within the range <code class="inline-code">[lo+1 .. hi-1]</code>.</p></div></div><a href="#g:6" id="g:6"><h1>Combining variable sets</h1></a><div class="top"><p class="src"><a id="v:union" class="def">union</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#union" class="link">Source</a> <a href="#v:union" class="selflink">#</a></p><div class="doc"><p>Union two variable sets.</p></div></div><div class="top"><p class="src"><a id="v:unions" class="def">unions</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> f =&gt; f <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#unions" class="link">Source</a> <a href="#v:unions" class="selflink">#</a></p><div class="doc"><p>Union a collection of variable sets together.</p></div></div><div class="top"><p class="src"><a id="v:intersection" class="def">intersection</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#intersection" class="link">Source</a> <a href="#v:intersection" class="selflink">#</a></p><div class="doc"><p>Take the intersection of two variable sets.</p></div></div><div class="top"><p class="src"><a id="v:difference" class="def">difference</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#difference" class="link">Source</a> <a href="#v:difference" class="selflink">#</a></p><div class="doc"><p>Set difference of two variable sets.</p></div></div><div class="top"><p class="src"><a id="v:-92--92-" class="def">(\\)</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#%5C%5C" class="link">Source</a> <a href="#v:-92--92-" class="selflink">#</a></p><div class="doc"><p>Infix operator for <code><a href="Agda-Utils-VarSet.html#v:difference" title="Agda.Utils.VarSet">difference</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:complement" class="def">complement</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#complement" class="link">Source</a> <a href="#v:complement" class="selflink">#</a></p><div class="doc"><p>Take a relative complement of a variable set.</p></div></div><a href="#g:7" id="g:7"><h1>Filters</h1></a><div class="top"><p class="src"><a id="v:split" class="def">split</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; (<a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>, <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>) <a href="src/Agda.Utils.VarSet.html#split" class="link">Source</a> <a href="#v:split" class="selflink">#</a></p><div class="doc"><p>Split a variable set into elements that are strictly smaller than
 <code class="inline-code">n</code> and elements that are strictly larger.</p><p>Note that this is strict in both components of the pair. If you only
 need one half, use <code><a href="Agda-Utils-VarSet.html#v:filterLT" title="Agda.Utils.VarSet">filterLT</a></code> or <code><a href="Agda-Utils-VarSet.html#v:filterGT" title="Agda.Utils.VarSet">filterGT</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:filterLT" class="def">filterLT</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#filterLT" class="link">Source</a> <a href="#v:filterLT" class="selflink">#</a></p><div class="doc"><p>Filter a variable set to elements that are less than to an index.</p></div></div><div class="top"><p class="src"><a id="v:filterLE" class="def">filterLE</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#filterLE" class="link">Source</a> <a href="#v:filterLE" class="selflink">#</a></p><div class="doc"><p>Filter a variable set to elements that are less than or equal to an index.</p></div></div><div class="top"><p class="src"><a id="v:filterGT" class="def">filterGT</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#filterGT" class="link">Source</a> <a href="#v:filterGT" class="selflink">#</a></p><div class="doc"><p>Filter a variable set to elements that are greater than to an index.</p></div></div><div class="top"><p class="src"><a id="v:filterGE" class="def">filterGE</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#filterGE" class="link">Source</a> <a href="#v:filterGE" class="selflink">#</a></p><div class="doc"><p>Filter a variable set to elements that are greater than or equal to an index.</p></div></div><a href="#g:8" id="g:8"><h1>Folds</h1></a><div class="doc"><p>Like most unordered containers, <code class="inline-code">foldr</code> and <code class="inline-code">foldl</code> are somewhat ambigious
 names for folds over a <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code>. For the sake of consistency, we adopt the
 same convention as <code><a href="https://hackage.haskell.org/package/containers-0.7/docs/Data-IntSet.html#v:IntSet" title="Data.IntSet">IntSet</a></code>, where
 <code class="inline-code">
 VarSet.foldr f x = foldr f x . VarSet.toAscList
 VarSet.foldl f x = foldl f x . VarSet.toAscList
 </code></p><p>Unfortunately, this convention the opposite of how our sets are laid out
 in memory.</p></div><div class="top"><p class="src"><a id="v:foldr" class="def">foldr</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a <a href="src/Agda.Utils.VarSet.html#foldr" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><div class="doc"><p>Lazily fold over the elements of a variable set in ascending order.</p></div></div><div class="top"><p class="src"><a id="v:foldl" class="def">foldl</a> :: (a -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a <a href="src/Agda.Utils.VarSet.html#foldl" class="link">Source</a> <a href="#v:foldl" class="selflink">#</a></p><div class="doc"><p>Lazily fold over the elements of a variable set in descending order.</p><p>This does not have the same deficiencies <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-List.html#v:foldl" title="Data.List">foldl</a></code>, as we can
 start the fold at the back of the <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldr-39-" class="def">foldr'</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a <a href="src/Agda.Utils.VarSet.html#foldr%27" class="link">Source</a> <a href="#v:foldr-39-" class="selflink">#</a></p><div class="doc"><p>Strictly fold over the elements of a variable set in ascending order.</p><p>This does not have the same deficiencies <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-List.html#v:foldr-39-" title="Data.List">foldr'</a></code>, as we can
 start the fold at the back of the <code><a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldl-39-" class="def">foldl'</a> :: (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; a <a href="src/Agda.Utils.VarSet.html#foldl%27" class="link">Source</a> <a href="#v:foldl-39-" class="selflink">#</a></p><div class="doc"><p>Strictly fold over the elements of a variable set in descending order.</p></div></div><a href="#g:9" id="g:9"><h1>Views</h1></a><div class="top"><p class="src"><a id="v:minView" class="def">minView</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>) <a href="src/Agda.Utils.VarSet.html#minView" class="link">Source</a> <a href="#v:minView" class="selflink">#</a></p><div class="doc"><p>Retrieve the smallest index in the variable set along with the set sans that
 element, or <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the set was empty.</p></div></div><div class="top"><p class="src"><a id="v:maxView" class="def">maxView</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a>) <a href="src/Agda.Utils.VarSet.html#maxView" class="link">Source</a> <a href="#v:maxView" class="selflink">#</a></p><div class="doc"><p>Retrieve the smallest index in the variable set along with the set sans that
 element, or <code><a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the set was empty.</p></div></div><a href="#g:10" id="g:10"><h1>Contextual operations</h1></a><div class="top"><p class="src"><a id="v:strengthen" class="def">strengthen</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#strengthen" class="link">Source</a> <a href="#v:strengthen" class="selflink">#</a></p><div class="doc"><p>Remove the first <code class="inline-code">n</code> entries from the variable set,
 and shift the indices of all other entries down by <code class="inline-code">n</code>.</p></div></div><div class="top"><p class="src"><a id="v:weaken" class="def">weaken</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> <a href="src/Agda.Utils.VarSet.html#weaken" class="link">Source</a> <a href="#v:weaken" class="selflink">#</a></p><div class="doc"><p>Shift all indices in the variable set up by <code class="inline-code">n</code>.</p></div></div><a href="#g:11" id="g:11"><h1>Conversions</h1></a><div class="top"><p class="src"><a id="v:toDescList" class="def">toDescList</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] <a href="src/Agda.Utils.VarSet.html#toDescList" class="link">Source</a> <a href="#v:toDescList" class="selflink">#</a></p><div class="doc"><p>Convert a variable set to a descending list of indices.</p></div></div><div class="top"><p class="src"><a id="v:toAscList" class="def">toAscList</a> :: <a href="Agda-Utils-VarSet.html#t:VarSet" title="Agda.Utils.VarSet">VarSet</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>] <a href="src/Agda.Utils.VarSet.html#toAscList" class="link">Source</a> <a href="#v:toAscList" class="selflink">#</a></p><div class="doc"><p>Convert a variable set to an ascending list of indices.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>