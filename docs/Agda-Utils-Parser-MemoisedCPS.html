<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agda.Utils.Parser.MemoisedCPS</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Agda</span><ul class="links" id="page-menu"><li><a href="src/Agda.Utils.Parser.MemoisedCPS.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agda.Utils.Parser.MemoisedCPS</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Parser combinators with support for left recursion, following
 Johnson's &quot;Memoization in Top-Down Parsing&quot;.</p><p>This implementation is based on an implementation due to Atkey
 (attached to an edlambda-members mailing list message from
 2011-02-15 titled 'Slides for &quot;Introduction to Parser
 Combinators&quot;').</p><p>Note that non-memoised left recursion is not guaranteed to work.</p><p>The code contains an important deviation from Johnson's paper: the
 check for subsumed results is not included. This means that one can
 get the same result multiple times when parsing using ambiguous
 grammars. As an example, parsing the empty string using <code class="inline-code">S &#8759;= &#949; |
 &#949;</code> succeeds twice. This change also means that parsing fails to
 terminate for some cyclic grammars that would otherwise be handled
 successfully, such as <code class="inline-code">S &#8759;= S | &#949;</code>. However, the library is not
 intended to handle infinitely ambiguous grammars. (It is unclear to
 the author of this module whether the change leads to more
 non-termination for grammars that are not cyclic.)</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Functor" title="Control.Monad">Functor</a> p, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> p, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> p, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> p) =&gt; <a href="#t:ParserClass">ParserClass</a> (p :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) k r tok | p -&gt; k, p -&gt; r, p -&gt; tok <span class="keyword">where</span><ul class="subs"><li><a href="#v:parse">parse</a> :: p a -&gt; [tok] -&gt; [a]</li><li><a href="#v:grammar">grammar</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> k =&gt; p a -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a></li><li><a href="#v:sat-39-">sat'</a> :: (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; p a</li><li><a href="#v:annotate">annotate</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a> -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a>) -&gt; p a -&gt; p a</li><li><a href="#v:memoise">memoise</a> :: k -&gt; p r -&gt; p r</li><li><a href="#v:memoiseIfPrinting">memoiseIfPrinting</a> :: k -&gt; p r -&gt; p r</li></ul></li><li class="src short"><a href="#v:sat">sat</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok =&gt; (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; p tok</li><li class="src short"><a href="#v:token">token</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok =&gt; p tok</li><li class="src short"><a href="#v:tok">tok</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> tok, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> tok) =&gt; tok -&gt; p tok</li><li class="src short"><a href="#v:doc">doc</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok =&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> -&gt; p a -&gt; p a</li><li class="src short"><span class="keyword">type</span> <a href="#t:DocP">DocP</a> = (<a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a>, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:bindP">bindP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:choiceP">choiceP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:seqP">seqP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:starP">starP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:atomP">atomP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Parser">Parser</a> k r tok a</li><li class="src short"><span class="keyword">data</span> <a href="#t:ParserWithGrammar">ParserWithGrammar</a> k r tok a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Functor" title="Control.Monad">Functor</a> p, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> p, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> p, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> p) =&gt; <a id="t:ParserClass" class="def">ParserClass</a> (p :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) k r tok | p -&gt; k, p -&gt; r, p -&gt; tok <span class="keyword">where</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#ParserClass" class="link">Source</a> <a href="#t:ParserClass" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:parse" class="def">parse</a> :: p a -&gt; [tok] -&gt; [a] <a href="src/Agda.Utils.Parser.MemoisedCPS.html#parse" class="link">Source</a> <a href="#v:parse" class="selflink">#</a></p><div class="doc"><p>Runs the parser.</p></div><p class="src"><a id="v:grammar" class="def">grammar</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> k =&gt; p a -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#grammar" class="link">Source</a> <a href="#v:grammar" class="selflink">#</a></p><div class="doc"><p>Tries to print the parser, or returns <code><a href="PP.html#v:empty" title="PP">empty</a></code>, depending on
 the implementation. This function might not terminate.</p></div><p class="src"><a id="v:sat-39-" class="def">sat'</a> :: (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; p a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#sat%27" class="link">Source</a> <a href="#v:sat-39-" class="selflink">#</a></p><div class="doc"><p>Parses a token satisfying the given predicate. The computed
 value is returned.</p></div><p class="src"><a id="v:annotate" class="def">annotate</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a> -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a>) -&gt; p a -&gt; p a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#annotate" class="link">Source</a> <a href="#v:annotate" class="selflink">#</a></p><div class="doc"><p>Uses the given function to modify the printed representation
 (if any) of the given parser.</p></div><p class="src"><a id="v:memoise" class="def">memoise</a> :: k -&gt; p r -&gt; p r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoise" class="link">Source</a> <a href="#v:memoise" class="selflink">#</a></p><div class="doc"><p>Memoises the given parser.</p><p>Every memoised parser must be annotated with a <em>unique</em> key.
 (Parametrised parsers must use distinct keys for distinct
 inputs.)</p></div><p class="src"><a id="v:memoiseIfPrinting" class="def">memoiseIfPrinting</a> :: k -&gt; p r -&gt; p r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoiseIfPrinting" class="link">Source</a> <a href="#v:memoiseIfPrinting" class="selflink">#</a></p><div class="doc"><p>Memoises the given parser, but only if printing, not if
 parsing.</p><p>Every memoised parser must be annotated with a <em>unique</em> key.
 (Parametrised parsers must use distinct keys for distinct
 inputs.)</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ParserClass">Instances</h4><details id="i:ParserClass" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ParserClass:ParserClass:1"></span> <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok) k r tok</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-169" class="link">Source</a> <a href="#t:ParserClass" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ParserClass:ParserClass:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parse">parse</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; [tok] -&gt; [a] <a href="src/Agda.Utils.Parser.MemoisedCPS.html#parse" class="link">Source</a> <a href="#v:parse" class="selflink">#</a></p><p class="src"><a href="#v:grammar">grammar</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> k =&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#grammar" class="link">Source</a> <a href="#v:grammar" class="selflink">#</a></p><p class="src"><a href="#v:sat-39-">sat'</a> :: (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#sat%27" class="link">Source</a> <a href="#v:sat-39-" class="selflink">#</a></p><p class="src"><a href="#v:annotate">annotate</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a> -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a>) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#annotate" class="link">Source</a> <a href="#v:annotate" class="selflink">#</a></p><p class="src"><a href="#v:memoise">memoise</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoise" class="link">Source</a> <a href="#v:memoise" class="selflink">#</a></p><p class="src"><a href="#v:memoiseIfPrinting">memoiseIfPrinting</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoiseIfPrinting" class="link">Source</a> <a href="#v:memoiseIfPrinting" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ParserClass:ParserClass:2"></span> <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok) k r tok</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-328" class="link">Source</a> <a href="#t:ParserClass" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ParserClass:ParserClass:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parse">parse</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; [tok] -&gt; [a] <a href="src/Agda.Utils.Parser.MemoisedCPS.html#parse" class="link">Source</a> <a href="#v:parse" class="selflink">#</a></p><p class="src"><a href="#v:grammar">grammar</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> k =&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#grammar" class="link">Source</a> <a href="#v:grammar" class="selflink">#</a></p><p class="src"><a href="#v:sat-39-">sat'</a> :: (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#sat%27" class="link">Source</a> <a href="#v:sat-39-" class="selflink">#</a></p><p class="src"><a href="#v:annotate">annotate</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a> -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a>) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#annotate" class="link">Source</a> <a href="#v:annotate" class="selflink">#</a></p><p class="src"><a href="#v:memoise">memoise</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoise" class="link">Source</a> <a href="#v:memoise" class="selflink">#</a></p><p class="src"><a href="#v:memoiseIfPrinting">memoiseIfPrinting</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoiseIfPrinting" class="link">Source</a> <a href="#v:memoiseIfPrinting" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:sat" class="def">sat</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok =&gt; (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; p tok <a href="src/Agda.Utils.Parser.MemoisedCPS.html#sat" class="link">Source</a> <a href="#v:sat" class="selflink">#</a></p><div class="doc"><p>Parses a token satisfying the given predicate.</p></div></div><div class="top"><p class="src"><a id="v:token" class="def">token</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok =&gt; p tok <a href="src/Agda.Utils.Parser.MemoisedCPS.html#token" class="link">Source</a> <a href="#v:token" class="selflink">#</a></p><div class="doc"><p>Parses a single token.</p></div></div><div class="top"><p class="src"><a id="v:tok" class="def">tok</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> tok, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> tok) =&gt; tok -&gt; p tok <a href="src/Agda.Utils.Parser.MemoisedCPS.html#tok" class="link">Source</a> <a href="#v:tok" class="selflink">#</a></p><div class="doc"><p>Parses a given token.</p></div></div><div class="top"><p class="src"><a id="v:doc" class="def">doc</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> p k r tok =&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> -&gt; p a -&gt; p a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#doc" class="link">Source</a> <a href="#v:doc" class="selflink">#</a></p><div class="doc"><p>Uses the given document as the printed representation of the
 given parser. The document's precedence is taken to be <code><a href="Agda-Utils-Parser-MemoisedCPS.html#v:atomP" title="Agda.Utils.Parser.MemoisedCPS">atomP</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DocP" class="def">DocP</a> = (<a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a>, <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="src/Agda.Utils.Parser.MemoisedCPS.html#DocP" class="link">Source</a> <a href="#t:DocP" class="selflink">#</a></p><div class="doc"><p>Documents paired with precedence levels.</p></div></div><div class="top"><p class="src"><a id="v:bindP" class="def">bindP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#bindP" class="link">Source</a> <a href="#v:bindP" class="selflink">#</a></p><div class="doc"><p>Precedence of <code class="inline-code">&gt;&gt;=</code>.</p></div></div><div class="top"><p class="src"><a id="v:choiceP" class="def">choiceP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#choiceP" class="link">Source</a> <a href="#v:choiceP" class="selflink">#</a></p><div class="doc"><p>Precedence of <code class="inline-code"><a href="|">|</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:seqP" class="def">seqP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#seqP" class="link">Source</a> <a href="#v:seqP" class="selflink">#</a></p><div class="doc"><p>Precedence of <code class="inline-code"><a href="*">*</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:starP" class="def">starP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#starP" class="link">Source</a> <a href="#v:starP" class="selflink">#</a></p><div class="doc"><p>Precedence of <code class="inline-code">&#8902;</code> and <code class="inline-code">+</code>.</p></div></div><div class="top"><p class="src"><a id="v:atomP" class="def">atomP</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#atomP" class="link">Source</a> <a href="#v:atomP" class="selflink">#</a></p><div class="doc"><p>Precedence of atoms.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Parser" class="def">Parser</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#Parser" class="link">Source</a> <a href="#t:Parser" class="selflink">#</a></p><div class="doc"><p>The parser type.</p><p>The parameters of the type <code class="inline-code">Parser k r tok a</code> have the following
 meanings:</p><dl><dt><code class="inline-code">k</code></dt><dd>Type used for memoisation keys.</dd><dt><code class="inline-code">r</code></dt><dd>The type of memoised values. (Yes, all memoised values have
 to have the same type.)</dd><dt><code class="inline-code">tok</code></dt><dd>The token type.</dd><dt><code class="inline-code">a</code></dt><dd>The result type.</dd></dl></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Parser">Instances</h4><details id="i:Parser" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Alternative:1"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-111" class="link">Source</a> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Alternative:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Applicative:2"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-104" class="link">Source</a> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok (a -&gt; b) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Functor:3"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Functor" title="Control.Monad">Functor</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-100" class="link">Source</a> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Monad:4"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-95" class="link">Source</a> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; (a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:ParserClass:5"></span> <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok) k r tok</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-169" class="link">Source</a> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:ParserClass:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parse">parse</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; [tok] -&gt; [a] <a href="src/Agda.Utils.Parser.MemoisedCPS.html#parse" class="link">Source</a> <a href="#v:parse" class="selflink">#</a></p><p class="src"><a href="#v:grammar">grammar</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> k =&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#grammar" class="link">Source</a> <a href="#v:grammar" class="selflink">#</a></p><p class="src"><a href="#v:sat-39-">sat'</a> :: (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#sat%27" class="link">Source</a> <a href="#v:sat-39-" class="selflink">#</a></p><p class="src"><a href="#v:annotate">annotate</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a> -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a>) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#annotate" class="link">Source</a> <a href="#v:annotate" class="selflink">#</a></p><p class="src"><a href="#v:memoise">memoise</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoise" class="link">Source</a> <a href="#v:memoise" class="selflink">#</a></p><p class="src"><a href="#v:memoiseIfPrinting">memoiseIfPrinting</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:Parser" title="Agda.Utils.Parser.MemoisedCPS">Parser</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoiseIfPrinting" class="link">Source</a> <a href="#v:memoiseIfPrinting" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ParserWithGrammar" class="def">ParserWithGrammar</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#ParserWithGrammar" class="link">Source</a> <a href="#t:ParserWithGrammar" class="selflink">#</a></p><div class="doc"><p>An extended parser type, with some support for printing parsers.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ParserWithGrammar">Instances</h4><details id="i:ParserWithGrammar" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParserWithGrammar:Alternative:1"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-294" class="link">Source</a> <a href="#t:ParserWithGrammar" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParserWithGrammar:Alternative:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParserWithGrammar:Applicative:2"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-278" class="link">Source</a> <a href="#t:ParserWithGrammar" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParserWithGrammar:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok (a -&gt; b) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParserWithGrammar:Functor:3"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Functor" title="Control.Monad">Functor</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-275" class="link">Source</a> <a href="#t:ParserWithGrammar" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParserWithGrammar:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParserWithGrammar:Monad:4"></span> <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok)</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-268" class="link">Source</a> <a href="#t:ParserWithGrammar" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParserWithGrammar:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; (a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParserWithGrammar:ParserClass:5"></span> <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserClass" title="Agda.Utils.Parser.MemoisedCPS">ParserClass</a> (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok) k r tok</span> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#line-328" class="link">Source</a> <a href="#t:ParserWithGrammar" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParserWithGrammar:ParserClass:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Agda-Utils-Parser-MemoisedCPS.html">Agda.Utils.Parser.MemoisedCPS</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parse">parse</a> :: <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; [tok] -&gt; [a] <a href="src/Agda.Utils.Parser.MemoisedCPS.html#parse" class="link">Source</a> <a href="#v:parse" class="selflink">#</a></p><p class="src"><a href="#v:grammar">grammar</a> :: <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:Show" title="Prelude">Show</a> k =&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Syntax-Common-Pretty.html#t:Doc" title="Agda.Syntax.Common.Pretty">Doc</a> <a href="src/Agda.Utils.Parser.MemoisedCPS.html#grammar" class="link">Source</a> <a href="#v:grammar" class="selflink">#</a></p><p class="src"><a href="#v:sat-39-">sat'</a> :: (tok -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#sat%27" class="link">Source</a> <a href="#v:sat-39-" class="selflink">#</a></p><p class="src"><a href="#v:annotate">annotate</a> :: (<a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a> -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:DocP" title="Agda.Utils.Parser.MemoisedCPS">DocP</a>) -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok a <a href="src/Agda.Utils.Parser.MemoisedCPS.html#annotate" class="link">Source</a> <a href="#v:annotate" class="selflink">#</a></p><p class="src"><a href="#v:memoise">memoise</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoise" class="link">Source</a> <a href="#v:memoise" class="selflink">#</a></p><p class="src"><a href="#v:memoiseIfPrinting">memoiseIfPrinting</a> :: k -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r -&gt; <a href="Agda-Utils-Parser-MemoisedCPS.html#t:ParserWithGrammar" title="Agda.Utils.Parser.MemoisedCPS">ParserWithGrammar</a> k r tok r <a href="src/Agda.Utils.Parser.MemoisedCPS.html#memoiseIfPrinting" class="link">Source</a> <a href="#v:memoiseIfPrinting" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>