Agda's pipeline
---------------

How we get from UTF-8 input to GHC-compiled binaries.

1. LR parser (generated by Happy): produces "concrete syntax"
   ```
   Agda.Syntax.Parser
   Agda.Syntax.Concrete
   ```

2. Nicifier: produces "nice declarations"
   ```
   Agda.Syntax.Concrete.Definitions
   ```

3. Scope checker:
   - calls operator parser
     ```
     Agda.Syntax.Concrete.Operators
     ```
   - produces scope-checked "abstract syntax"
     ```
     Agda.Syntax.Abstract
     Agda.Syntax.Scope
     Agda.Syntax.Translation.ConcreteToAbstract
     ```

4. Type checker: main component; produces "internal syntax"
   ```
   Agda.Syntax.Internal
   Agda.TypeChecking.Monad
   Agda.TypeChecking.Rules
   ```

5. Termination and positivity checker:
   Ensure consistency, set some attributes (reduction, eta-record, polarity)
   ```
   Agda.Termination.TermCheck
   Agda.TypeChecking.Positivity
   ```

6. Coverage checker: produces split trees for clause compiler
   ```
   Agda.TypeChecking.Coverage
   ```

7. Clause compiler: produces case trees for faster reduction
   ```
   Agda.TypeChecking.CompiledClause
   ```

8. Serializer: produces interface files
   ```
   Agda.TypeChecking.Serialize
   Agda.Interaction.Imports
   ```

9. Treeless compiler: produce intermediate "treeless" syntax
   ```
   Agda.Syntax.Treeless
   Agda.Compiler.Treeless
   ```

9. MAlonzo compiler: produces Haskell, calls GHC
   ```
   Agda.Compiler.MAlonzo
   ```

Further Agda components
-----------------------
